var DO=Object.create;var Zg=Object.defineProperty,SO=Object.defineProperties,AO=Object.getOwnPropertyDescriptor,RO=Object.getOwnPropertyDescriptors,MO=Object.getOwnPropertyNames,ih=Object.getOwnPropertySymbols,nC=Object.getPrototypeOf,Jg=Object.prototype.hasOwnProperty,rC=Object.prototype.propertyIsEnumerable,xO=Reflect.get;var tC=(n,e,t)=>e in n?Zg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||={})Jg.call(e,t)&&tC(n,t,e[t]);if(ih)for(var t of ih(e))rC.call(e,t)&&tC(n,t,e[t]);return n},he=(n,e)=>SO(n,RO(e));var iC=(n,e)=>{var t={};for(var r in n)Jg.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&ih)for(var r of ih(n))e.indexOf(r)<0&&rC.call(n,r)&&(t[r]=n[r]);return t};var NO=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var PO=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of MO(e))!Jg.call(n,i)&&i!==t&&Zg(n,i,{get:()=>e[i],enumerable:!(r=AO(e,i))||r.enumerable});return n};var kO=(n,e,t)=>(t=n!=null?DO(nC(n)):{},PO(e||!n||!n.__esModule?Zg(t,"default",{value:n,enumerable:!0}):t,n));var Yi=(n,e,t)=>xO(nC(n),t,e);var I=(n,e,t)=>new Promise((r,i)=>{var s=c=>{try{a(t.next(c))}catch(l){i(l)}},o=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((t=t.apply(n,e)).next())});var bP=NO((si,e0)=>{"use strict";(function(n,e){typeof si=="object"&&typeof e0<"u"?e0.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(si,function(){"use strict";function n(d,h,y){if(typeof d=="function"?d===h:d.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(d,h){if(h.has(d))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(d,h){return d.get(n(d,h))}function r(d,h,y){e(d,h),h.set(d,y)}function i(d,h,y){return d.set(n(d,h),y),y}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},c=d=>new Promise(h=>{if(!d)return h();let y=window.scrollX,E=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),h()},s),window.scrollTo(y,E)}),l="swal2-",m=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((d,h)=>(d[h]=l+h,d),{}),w=["success","warning","info","question","error"].reduce((d,h)=>(d[h]=l+h,d),{}),D="SweetAlert2:",P=d=>d.charAt(0).toUpperCase()+d.slice(1),N=d=>{console.warn(`${D} ${typeof d=="object"?d.join(" "):d}`)},F=d=>{console.error(`${D} ${d}`)},q=[],z=d=>{q.includes(d)||(q.push(d),N(d))},G=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;z(`"${d}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},be=d=>typeof d=="function"?d():d,Y=d=>d&&typeof d.toPromise=="function",S=d=>Y(d)?d.toPromise():Promise.resolve(d),b=d=>d&&Promise.resolve(d)===d,C=()=>document.body.querySelector(`.${m.container}`),A=d=>{let h=C();return h?h.querySelector(d):null},M=d=>A(`.${d}`),R=()=>M(m.popup),T=()=>M(m.icon),cn=()=>M(m["icon-content"]),nr=()=>M(m.title),Q=()=>M(m["html-container"]),Z=()=>M(m.image),ee=()=>M(m["progress-steps"]),ge=()=>M(m["validation-message"]),Be=()=>A(`.${m.actions} .${m.confirm}`),At=()=>A(`.${m.actions} .${m.cancel}`),Ge=()=>A(`.${m.actions} .${m.deny}`),Je=()=>M(m["input-label"]),$e=()=>A(`.${m.loader}`),un=()=>M(m.actions),Qo=()=>M(m.footer),Xe=()=>M(m["timer-progress-bar"]),yn=()=>M(m.close),Zt=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,vn=()=>{let d=R();if(!d)return[];let h=d.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort((W,Ie)=>{let Oe=parseInt(W.getAttribute("tabindex")||"0"),ct=parseInt(Ie.getAttribute("tabindex")||"0");return Oe>ct?1:Oe<ct?-1:0}),E=d.querySelectorAll(Zt),k=Array.from(E).filter(W=>W.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(k))].filter(W=>qt(W))},jn=()=>_n(document.body,m.shown)&&!_n(document.body,m["toast-shown"])&&!_n(document.body,m["no-backdrop"]),Ui=()=>{let d=R();return d?_n(d,m.toast):!1},Gc=()=>{let d=R();return d?d.hasAttribute("data-loading"):!1},Ht=(d,h)=>{if(d.textContent="",h){let E=new DOMParser().parseFromString(h,"text/html"),k=E.querySelector("head");k&&Array.from(k.childNodes).forEach(Ie=>{d.appendChild(Ie)});let W=E.querySelector("body");W&&Array.from(W.childNodes).forEach(Ie=>{Ie instanceof HTMLVideoElement||Ie instanceof HTMLAudioElement?d.appendChild(Ie.cloneNode(!0)):d.appendChild(Ie)})}},_n=(d,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let E=0;E<y.length;E++)if(!d.classList.contains(y[E]))return!1;return!0},fd=(d,h)=>{Array.from(d.classList).forEach(y=>{!Object.values(m).includes(y)&&!Object.values(w).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&d.classList.remove(y)})},Jt=(d,h,y)=>{if(fd(d,h),!h.customClass)return;let E=h.customClass[y];if(E){if(typeof E!="string"&&!E.forEach){N(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof E}"`);return}Ae(d,E)}},Yo=(d,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return d.querySelector(`.${m.popup} > .${m[h]}`);case"checkbox":return d.querySelector(`.${m.popup} > .${m.checkbox} input`);case"radio":return d.querySelector(`.${m.popup} > .${m.radio} input:checked`)||d.querySelector(`.${m.popup} > .${m.radio} input:first-child`);case"range":return d.querySelector(`.${m.popup} > .${m.range} input`);default:return d.querySelector(`.${m.popup} > .${m.input}`)}},Wc=d=>{if(d.focus(),d.type!=="file"){let h=d.value;d.value="",d.value=h}},Kc=(d,h,y)=>{!d||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(E=>{Array.isArray(d)?d.forEach(k=>{y?k.classList.add(E):k.classList.remove(E)}):y?d.classList.add(E):d.classList.remove(E)}))},Ae=(d,h)=>{Kc(d,h,!0)},wn=(d,h)=>{Kc(d,h,!1)},Sr=(d,h)=>{let y=Array.from(d.children);for(let E=0;E<y.length;E++){let k=y[E];if(k instanceof HTMLElement&&_n(k,h))return k}},rr=(d,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?d.style.setProperty(h,typeof y=="number"?`${y}px`:y):d.style.removeProperty(h)},lt=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d&&(d.style.display=h)},wt=d=>{d&&(d.style.display="none")},Et=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";d&&new MutationObserver(()=>{Ar(d,d.innerHTML,h)}).observe(d,{childList:!0,subtree:!0})},Lt=(d,h,y,E)=>{let k=d.querySelector(h);k&&k.style.setProperty(y,E)},Ar=function(d,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?lt(d,y):wt(d)},qt=d=>!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length)),pd=()=>!qt(Be())&&!qt(Ge())&&!qt(At()),md=d=>d.scrollHeight>d.clientHeight,ji=d=>{let h=window.getComputedStyle(d),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),E=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||E>0},Zo=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=Xe();y&&qt(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${d/1e3}s linear`,y.style.width="0%"},10))},gd=()=>{let d=Xe();if(!d)return;let h=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";let y=parseInt(window.getComputedStyle(d).width),E=h/y*100;d.style.width=`${E}%`},Qc=()=>typeof window>"u"||typeof document>"u",Pg=`
 <div aria-labelledby="${m.title}" aria-describedby="${m["html-container"]}" class="${m.popup}" tabindex="-1">
   <button type="button" class="${m.close}"></button>
   <ul class="${m["progress-steps"]}"></ul>
   <div class="${m.icon}"></div>
   <img class="${m.image}" />
   <h2 class="${m.title}" id="${m.title}"></h2>
   <div class="${m["html-container"]}" id="${m["html-container"]}"></div>
   <input class="${m.input}" id="${m.input}" />
   <input type="file" class="${m.file}" />
   <div class="${m.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${m.select}" id="${m.select}"></select>
   <div class="${m.radio}"></div>
   <label class="${m.checkbox}">
     <input type="checkbox" id="${m.checkbox}" />
     <span class="${m.label}"></span>
   </label>
   <textarea class="${m.textarea}" id="${m.textarea}"></textarea>
   <div class="${m["validation-message"]}" id="${m["validation-message"]}"></div>
   <div class="${m.actions}">
     <div class="${m.loader}"></div>
     <button type="button" class="${m.confirm}"></button>
     <button type="button" class="${m.deny}"></button>
     <button type="button" class="${m.cancel}"></button>
   </div>
   <div class="${m.footer}"></div>
   <div class="${m["timer-progress-bar-container"]}">
     <div class="${m["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),kg=()=>{let d=C();return d?(d.remove(),wn([document.documentElement,document.body],[m["no-backdrop"],m["toast-shown"],m["has-column"]]),!0):!1},ir=()=>{o.currentInstance.resetValidationMessage()},yd=()=>{let d=R(),h=Sr(d,m.input),y=Sr(d,m.file),E=d.querySelector(`.${m.range} input`),k=d.querySelector(`.${m.range} output`),W=Sr(d,m.select),Ie=d.querySelector(`.${m.checkbox} input`),Oe=Sr(d,m.textarea);h.oninput=ir,y.onchange=ir,W.onchange=ir,Ie.onchange=ir,Oe.oninput=ir,E.oninput=()=>{ir(),k.value=E.value},E.onchange=()=>{ir(),k.value=E.value}},vd=d=>typeof d=="string"?document.querySelector(d):d,Ps=d=>{let h=R();h.setAttribute("role",d.toast?"alert":"dialog"),h.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||h.setAttribute("aria-modal","true")},Yc=d=>{window.getComputedStyle(d).direction==="rtl"&&Ae(C(),m.rtl)},Zc=d=>{let h=kg();if(Qc()){F("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=m.container,h&&Ae(y,m["no-transition"]),Ht(y,Pg);let E=vd(d.target);E.appendChild(y),Ps(d),Yc(E),yd()},sr=(d,h)=>{d instanceof HTMLElement?h.appendChild(d):typeof d=="object"?_d(d,h):d&&Ht(h,d)},_d=(d,h)=>{d.jquery?Jo(h,d):Ht(h,d.toString())},Jo=(d,h)=>{if(d.textContent="",0 in h)for(let y=0;y in h;y++)d.appendChild(h[y].cloneNode(!0));else d.appendChild(h.cloneNode(!0))},wd=(d,h)=>{let y=un(),E=$e();!y||!E||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?wt(y):lt(y),Jt(y,h,"actions"),ks(y,E,h),Ht(E,h.loaderHtml||""),Jt(E,h,"loader"))};function ks(d,h,y){let E=Be(),k=Ge(),W=At();!E||!k||!W||(Rt(E,"confirm",y),Rt(k,"deny",y),Rt(W,"cancel",y),Ed(E,k,W,y),y.reverseButtons&&(y.toast?(d.insertBefore(W,E),d.insertBefore(k,E)):(d.insertBefore(W,h),d.insertBefore(k,h),d.insertBefore(E,h))))}function Ed(d,h,y,E){if(!E.buttonsStyling){wn([d,h,y],m.styled);return}Ae([d,h,y],m.styled),E.confirmButtonColor&&(d.style.backgroundColor=E.confirmButtonColor,Ae(d,m["default-outline"])),E.denyButtonColor&&(h.style.backgroundColor=E.denyButtonColor,Ae(h,m["default-outline"])),E.cancelButtonColor&&(y.style.backgroundColor=E.cancelButtonColor,Ae(y,m["default-outline"]))}function Rt(d,h,y){let E=P(h);Ar(d,y[`show${E}Button`],"inline-block"),Ht(d,y[`${h}ButtonText`]||""),d.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),d.className=m[h],Jt(d,y,`${h}Button`)}let Id=(d,h)=>{let y=yn();y&&(Ht(y,h.closeButtonHtml||""),Jt(y,h,"closeButton"),Ar(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},Os=(d,h)=>{let y=C();y&&(Fs(y,h.backdrop),Og(y,h.position),Fg(y,h.grow),Jt(y,h,"container"))};function Fs(d,h){typeof h=="string"?d.style.background=h:h||Ae([document.documentElement,document.body],m["no-backdrop"])}function Og(d,h){h&&(h in m?Ae(d,m[h]):(N('The "position" parameter is not valid, defaulting to "center"'),Ae(d,m.center)))}function Fg(d,h){h&&Ae(d,m[`grow-${h}`])}var Ue={innerParams:new WeakMap,domCache:new WeakMap};let Lg=["input","file","range","select","radio","checkbox","textarea"],Vg=(d,h)=>{let y=R();if(!y)return;let E=Ue.innerParams.get(d),k=!E||h.input!==E.input;Lg.forEach(W=>{let Ie=Sr(y,m[W]);Ie&&(Jc(W,h.inputAttributes),Ie.className=m[W],k&&wt(Ie))}),h.input&&(k&&Xo(h),ea(h))},Xo=d=>{if(!d.input)return;if(!rt[d.input]){F(`Unexpected type of input! Expected ${Object.keys(rt).join(" | ")}, got "${d.input}"`);return}let h=Xc(d.input);if(!h)return;let y=rt[d.input](h,d);lt(h),d.inputAutoFocus&&setTimeout(()=>{Wc(y)})},bd=d=>{for(let h=0;h<d.attributes.length;h++){let y=d.attributes[h].name;["id","type","value","style"].includes(y)||d.removeAttribute(y)}},Jc=(d,h)=>{let y=R();if(!y)return;let E=Yo(y,d);if(E){bd(E);for(let k in h)E.setAttribute(k,h[k])}},ea=d=>{if(!d.input)return;let h=Xc(d.input);h&&Jt(h,d,"input")},Bn=(d,h)=>{!d.placeholder&&h.inputPlaceholder&&(d.placeholder=h.inputPlaceholder)},Bi=(d,h,y)=>{if(y.inputLabel){let E=document.createElement("label"),k=m["input-label"];E.setAttribute("for",d.id),E.className=k,typeof y.customClass=="object"&&Ae(E,y.customClass.inputLabel),E.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",E)}},Xc=d=>{let h=R();if(h)return Sr(h,m[d]||m.input)},$i=(d,h)=>{["string","number"].includes(typeof h)?d.value=`${h}`:b(h)||N(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},rt={};rt.text=rt.email=rt.password=rt.number=rt.tel=rt.url=rt.search=rt.date=rt["datetime-local"]=rt.time=rt.week=rt.month=(d,h)=>($i(d,h.inputValue),Bi(d,d,h),Bn(d,h),d.type=h.input,d),rt.file=(d,h)=>(Bi(d,d,h),Bn(d,h),d),rt.range=(d,h)=>{let y=d.querySelector("input"),E=d.querySelector("output");return $i(y,h.inputValue),y.type=h.input,$i(E,h.inputValue),Bi(y,d,h),d},rt.select=(d,h)=>{if(d.textContent="",h.inputPlaceholder){let y=document.createElement("option");Ht(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,d.appendChild(y)}return Bi(d,d,h),d},rt.radio=d=>(d.textContent="",d),rt.checkbox=(d,h)=>{let y=Yo(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let E=d.querySelector("span");return Ht(E,h.inputPlaceholder||h.inputLabel),y},rt.textarea=(d,h)=>{$i(d,h.inputValue),Bn(d,h),Bi(d,d,h);let y=E=>parseInt(window.getComputedStyle(E).marginLeft)+parseInt(window.getComputedStyle(E).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let E=parseInt(window.getComputedStyle(R()).width),k=()=>{if(!document.body.contains(d))return;let W=d.offsetWidth+y(d);W>E?R().style.width=`${W}px`:rr(R(),"width",h.width)};new MutationObserver(k).observe(d,{attributes:!0,attributeFilter:["style"]})}}),d};let Cd=(d,h)=>{let y=Q();y&&(Et(y),Jt(y,h,"htmlContainer"),h.html?(sr(h.html,y),lt(y,"block")):h.text?(y.textContent=h.text,lt(y,"block")):wt(y),Vg(d,h))},Td=(d,h)=>{let y=Qo();y&&(Et(y),Ar(y,h.footer,"block"),h.footer&&sr(h.footer,y),Jt(y,h,"footer"))},Ug=(d,h)=>{let y=Ue.innerParams.get(d),E=T();if(E){if(y&&h.icon===y.icon){Rr(E,h),Ls(E,h);return}if(!h.icon&&!h.iconHtml){wt(E);return}if(h.icon&&Object.keys(w).indexOf(h.icon)===-1){F(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),wt(E);return}lt(E),Rr(E,h),Ls(E,h),Ae(E,h.showClass&&h.showClass.icon)}},Ls=(d,h)=>{for(let[y,E]of Object.entries(w))h.icon!==y&&wn(d,E);Ae(d,h.icon&&w[h.icon]),tu(d,h),Dd(),Jt(d,h,"icon")},Dd=()=>{let d=R();if(!d)return;let h=window.getComputedStyle(d).getPropertyValue("background-color"),y=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let E=0;E<y.length;E++)y[E].style.backgroundColor=h},eu=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Vs=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Rr=(d,h)=>{if(!h.icon&&!h.iconHtml)return;let y=d.innerHTML,E="";h.iconHtml?E=Sd(h.iconHtml):h.icon==="success"?(E=eu,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?E=Vs:h.icon&&(E=Sd({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==E.trim()&&Ht(d,E)},tu=(d,h)=>{if(h.iconColor){d.style.color=h.iconColor,d.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Lt(d,y,"background-color",h.iconColor);Lt(d,".swal2-success-ring","border-color",h.iconColor)}},Sd=d=>`<div class="${m["icon-content"]}">${d}</div>`,Ad=(d,h)=>{let y=Z();if(y){if(!h.imageUrl){wt(y);return}lt(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),rr(y,"width",h.imageWidth),rr(y,"height",h.imageHeight),y.className=m.image,Jt(y,h,"image")}},Rd=(d,h)=>{let y=C(),E=R();if(!(!y||!E)){if(h.toast){rr(y,"width",h.width),E.style.width="100%";let k=$e();k&&E.insertBefore(k,T())}else rr(E,"width",h.width);rr(E,"padding",h.padding),h.color&&(E.style.color=h.color),h.background&&(E.style.background=h.background),wt(ge()),Md(E,h)}},Md=(d,h)=>{let y=h.showClass||{};d.className=`${m.popup} ${qt(d)?y.popup:""}`,h.toast?(Ae([document.documentElement,document.body],m["toast-shown"]),Ae(d,m.toast)):Ae(d,m.modal),Jt(d,h,"popup"),typeof h.customClass=="string"&&Ae(d,h.customClass),h.icon&&Ae(d,m[`icon-${h.icon}`])},nu=(d,h)=>{let y=ee();if(!y)return;let{progressSteps:E,currentProgressStep:k}=h;if(!E||E.length===0||k===void 0){wt(y);return}lt(y),y.textContent="",k>=E.length&&N("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.forEach((W,Ie)=>{let Oe=ru(W);if(y.appendChild(Oe),Ie===k&&Ae(Oe,m["active-progress-step"]),Ie!==E.length-1){let ct=xd(h);y.appendChild(ct)}})},ru=d=>{let h=document.createElement("li");return Ae(h,m["progress-step"]),Ht(h,d),h},xd=d=>{let h=document.createElement("li");return Ae(h,m["progress-step-line"]),d.progressStepsDistance&&rr(h,"width",d.progressStepsDistance),h},Nd=(d,h)=>{let y=nr();y&&(Et(y),Ar(y,h.title||h.titleText,"block"),h.title&&sr(h.title,y),h.titleText&&(y.innerText=h.titleText),Jt(y,h,"title"))},Pd=(d,h)=>{Rd(d,h),Os(d,h),nu(d,h),Ug(d,h),Ad(d,h),Nd(d,h),Id(d,h),Cd(d,h),wd(d,h),Td(d,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),o.eventEmitter.emit("didRender",y)},jg=()=>qt(R()),iu=()=>{var d;return(d=Be())===null||d===void 0?void 0:d.click()},kd=()=>{var d;return(d=Ge())===null||d===void 0?void 0:d.click()},Bg=()=>{var d;return(d=At())===null||d===void 0?void 0:d.click()},ln=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),$n=d=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},ta=(d,h,y)=>{$n(d),h.toast||(d.keydownHandler=E=>na(h,E,y),d.keydownTarget=h.keydownListenerCapture?window:R(),d.keydownListenerCapture=h.keydownListenerCapture,d.keydownTarget.addEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!0)},Hi=(d,h)=>{var y;let E=vn();if(E.length){d=d+h,d===E.length?d=0:d===-1&&(d=E.length-1),E[d].focus();return}(y=R())===null||y===void 0||y.focus()},su=["ArrowRight","ArrowDown"],et=["ArrowLeft","ArrowUp"],na=(d,h,y)=>{d&&(h.isComposing||h.keyCode===229||(d.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?Us(h,d):h.key==="Tab"?js(h):[...su,...et].includes(h.key)?$g(h.key):h.key==="Escape"&&Od(h,d,y)))},Us=(d,h)=>{if(!be(h.allowEnterKey))return;let y=Yo(R(),h.input);if(d.target&&y&&d.target instanceof HTMLElement&&d.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;iu(),d.preventDefault()}},js=d=>{let h=d.target,y=vn(),E=-1;for(let k=0;k<y.length;k++)if(h===y[k]){E=k;break}d.shiftKey?Hi(E,-1):Hi(E,1),d.stopPropagation(),d.preventDefault()},$g=d=>{let h=un(),y=Be(),E=Ge(),k=At();if(!h||!y||!E||!k)return;let W=[y,E,k];if(document.activeElement instanceof HTMLElement&&!W.includes(document.activeElement))return;let Ie=su.includes(d)?"nextElementSibling":"previousElementSibling",Oe=document.activeElement;if(Oe){for(let ct=0;ct<h.children.length;ct++){if(Oe=Oe[Ie],!Oe)return;if(Oe instanceof HTMLButtonElement&&qt(Oe))break}Oe instanceof HTMLButtonElement&&Oe.focus()}},Od=(d,h,y)=>{be(h.allowEscapeKey)&&(d.preventDefault(),y(ln.esc))};var qi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Hg=()=>{let d=C();Array.from(document.body.children).forEach(y=>{y.contains(d)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Fd=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Ld=typeof window<"u"&&!!window.GestureEvent,Bs=()=>{if(Ld&&!_n(document.body,m.iosfix)){let d=document.body.scrollTop;document.body.style.top=`${d*-1}px`,Ae(document.body,m.iosfix),Mr()}},Mr=()=>{let d=C();if(!d)return;let h;d.ontouchstart=y=>{h=Vd(y)},d.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},Vd=d=>{let h=d.target,y=C(),E=Q();return!y||!E||Ud(d)||jd(d)?!1:h===y||!md(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(md(E)&&E.contains(h))},Ud=d=>d.touches&&d.touches.length&&d.touches[0].touchType==="stylus",jd=d=>d.touches&&d.touches.length>1,zi=()=>{if(_n(document.body,m.iosfix)){let d=parseInt(document.body.style.top,10);wn(document.body,m.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},qg=()=>{let d=document.createElement("div");d.className=m["scrollbar-measure"],document.body.appendChild(d);let h=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),h},Gi=null,zg=d=>{Gi===null&&(document.body.scrollHeight>window.innerHeight||d==="scroll")&&(Gi=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Gi+qg()}px`)},xr=()=>{Gi!==null&&(document.body.style.paddingRight=`${Gi}px`,Gi=null)};function Bd(d,h,y,E){Ui()?it(d,E):(c(y).then(()=>it(d,E)),$n(o)),Ld?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),jn()&&(xr(),zi(),Fd()),Gg()}function Gg(){wn([document.documentElement,document.body],[m.shown,m["height-auto"],m["no-backdrop"],m["toast-shown"]])}function dn(d){d=$s(d);let h=qi.swalPromiseResolve.get(this),y=ra(this);this.isAwaitingPromise?d.isDismissed||(or(this),h(d)):y&&h(d)}let ra=d=>{let h=R();if(!h)return!1;let y=Ue.innerParams.get(d);if(!y||_n(h,y.hideClass.popup))return!1;wn(h,y.showClass.popup),Ae(h,y.hideClass.popup);let E=C();return wn(E,y.showClass.backdrop),Ae(E,y.hideClass.backdrop),$d(d,h,y),!0};function ou(d){let h=qi.swalPromiseReject.get(this);or(this),h&&h(d)}let or=d=>{d.isAwaitingPromise&&(delete d.isAwaitingPromise,Ue.innerParams.get(d)||d._destroy())},$s=d=>typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d),$d=(d,h,y)=>{var E;let k=C(),W=ji(h);typeof y.willClose=="function"&&y.willClose(h),(E=o.eventEmitter)===null||E===void 0||E.emit("willClose",h),W?au(d,h,k,y.returnFocus,y.didClose):Bd(d,k,y.returnFocus,y.didClose)},au=(d,h,y,E,k)=>{o.swalCloseEventFinishedCallback=Bd.bind(null,d,y,E,k);let W=function(Ie){if(Ie.target===h){var Oe;(Oe=o.swalCloseEventFinishedCallback)===null||Oe===void 0||Oe.call(o),delete o.swalCloseEventFinishedCallback,h.removeEventListener("animationend",W),h.removeEventListener("transitionend",W)}};h.addEventListener("animationend",W),h.addEventListener("transitionend",W)},it=(d,h)=>{setTimeout(()=>{var y;typeof h=="function"&&h.bind(d.params)(),(y=o.eventEmitter)===null||y===void 0||y.emit("didClose"),d._destroy&&d._destroy()})},Wi=d=>{let h=R();if(h||new rh,h=R(),!h)return;let y=$e();Ui()?wt(T()):Wg(h,d),lt(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},Wg=(d,h)=>{let y=un(),E=$e();!y||!E||(!h&&qt(Be())&&(h=Be()),lt(y),h&&(wt(h),E.setAttribute("data-button-to-replace",h.className),y.insertBefore(E,h)),Ae([d,y],m.loading))},Hd=(d,h)=>{h.input==="select"||h.input==="radio"?ar(d,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(Y(h.inputValue)||b(h.inputValue))&&(Wi(Be()),Wd(d,h))},qd=(d,h)=>{let y=d.getInput();if(!y)return null;switch(h.input){case"checkbox":return zd(y);case"radio":return ia(y);case"file":return Gd(y);default:return h.inputAutoTrim?y.value.trim():y.value}},zd=d=>d.checked?1:0,ia=d=>d.checked?d.value:null,Gd=d=>d.files&&d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null,ar=(d,h)=>{let y=R();if(!y)return;let E=k=>{h.input==="select"?Kg(y,qs(k),h):h.input==="radio"&&Hs(y,qs(k),h)};Y(h.inputOptions)||b(h.inputOptions)?(Wi(Be()),S(h.inputOptions).then(k=>{d.hideLoading(),E(k)})):typeof h.inputOptions=="object"?E(h.inputOptions):F(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},Wd=(d,h)=>{let y=d.getInput();y&&(wt(y),S(h.inputValue).then(E=>{y.value=h.input==="number"?`${parseFloat(E)||0}`:`${E}`,lt(y),y.focus(),d.hideLoading()}).catch(E=>{F(`Error in inputValue promise: ${E}`),y.value="",lt(y),y.focus(),d.hideLoading()}))};function Kg(d,h,y){let E=Sr(d,m.select);if(!E)return;let k=(W,Ie,Oe)=>{let ct=document.createElement("option");ct.value=Oe,Ht(ct,Ie),ct.selected=sa(Oe,y.inputValue),W.appendChild(ct)};h.forEach(W=>{let Ie=W[0],Oe=W[1];if(Array.isArray(Oe)){let ct=document.createElement("optgroup");ct.label=Ie,ct.disabled=!1,E.appendChild(ct),Oe.forEach(ua=>k(ct,ua[1],ua[0]))}else k(E,Oe,Ie)}),E.focus()}function Hs(d,h,y){let E=Sr(d,m.radio);if(!E)return;h.forEach(W=>{let Ie=W[0],Oe=W[1],ct=document.createElement("input"),ua=document.createElement("label");ct.type="radio",ct.name=m.radio,ct.value=Ie,sa(Ie,y.inputValue)&&(ct.checked=!0);let Yg=document.createElement("span");Ht(Yg,Oe),Yg.className=m.label,ua.appendChild(ct),ua.appendChild(Yg),E.appendChild(ua)});let k=E.querySelectorAll("input");k.length&&k[0].focus()}let qs=d=>{let h=[];return d instanceof Map?d.forEach((y,E)=>{let k=y;typeof k=="object"&&(k=qs(k)),h.push([E,k])}):Object.keys(d).forEach(y=>{let E=d[y];typeof E=="object"&&(E=qs(E)),h.push([y,E])}),h},sa=(d,h)=>!!h&&h.toString()===d.toString(),oa=d=>{let h=Ue.innerParams.get(d);d.disableButtons(),h.input?Qd(d,"confirm"):zs(d,!0)},Kd=d=>{let h=Ue.innerParams.get(d);d.disableButtons(),h.returnInputValueOnDeny?Qd(d,"deny"):ai(d,!1)},aa=(d,h)=>{d.disableButtons(),h(ln.cancel)},Qd=(d,h)=>{let y=Ue.innerParams.get(d);if(!y.input){F(`The "input" parameter is needed to be set when using returnInputValueOn${P(h)}`);return}let E=d.getInput(),k=qd(d,y);y.inputValidator?Yd(d,k,h):E&&!E.checkValidity()?(d.enableButtons(),d.showValidationMessage(y.validationMessage||E.validationMessage)):h==="deny"?ai(d,k):zs(d,k)},Yd=(d,h,y)=>{let E=Ue.innerParams.get(d);d.disableInput(),Promise.resolve().then(()=>S(E.inputValidator(h,E.validationMessage))).then(W=>{d.enableButtons(),d.enableInput(),W?d.showValidationMessage(W):y==="deny"?ai(d,h):zs(d,h)})},ai=(d,h)=>{let y=Ue.innerParams.get(d||void 0);y.showLoaderOnDeny&&Wi(Ge()),y.preDeny?(d.isAwaitingPromise=!0,Promise.resolve().then(()=>S(y.preDeny(h,y.validationMessage))).then(k=>{k===!1?(d.hideLoading(),or(d)):d.close({isDenied:!0,value:typeof k>"u"?h:k})}).catch(k=>uu(d||void 0,k))):d.close({isDenied:!0,value:h})},cu=(d,h)=>{d.close({isConfirmed:!0,value:h})},uu=(d,h)=>{d.rejectPromise(h)},zs=(d,h)=>{let y=Ue.innerParams.get(d||void 0);y.showLoaderOnConfirm&&Wi(),y.preConfirm?(d.resetValidationMessage(),d.isAwaitingPromise=!0,Promise.resolve().then(()=>S(y.preConfirm(h,y.validationMessage))).then(k=>{qt(ge())||k===!1?(d.hideLoading(),or(d)):cu(d,typeof k>"u"?h:k)}).catch(k=>uu(d||void 0,k))):cu(d,h)};function Ki(){let d=Ue.innerParams.get(this);if(!d)return;let h=Ue.domCache.get(this);wt(h.loader),Ui()?d.icon&&lt(T()):Zd(h),wn([h.popup,h.actions],m.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Zd=d=>{let h=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));h.length?lt(h[0],"inline-block"):pd()&&wt(d.actions)};function Gs(){let d=Ue.innerParams.get(this),h=Ue.domCache.get(this);return h?Yo(h.popup,d.input):null}function lu(d,h,y){let E=Ue.domCache.get(d);h.forEach(k=>{E[k].disabled=y})}function du(d,h){let y=R();if(!(!y||!d))if(d.type==="radio"){let E=y.querySelectorAll(`[name="${m.radio}"]`);for(let k=0;k<E.length;k++)E[k].disabled=h}else d.disabled=h}function Nr(){lu(this,["confirmButton","denyButton","cancelButton"],!1)}function hu(){lu(this,["confirmButton","denyButton","cancelButton"],!0)}function fu(){du(this.getInput(),!1)}function pu(){du(this.getInput(),!0)}function mu(d){let h=Ue.domCache.get(this),y=Ue.innerParams.get(this);Ht(h.validationMessage,d),h.validationMessage.className=m["validation-message"],y.customClass&&y.customClass.validationMessage&&Ae(h.validationMessage,y.customClass.validationMessage),lt(h.validationMessage);let E=this.getInput();E&&(E.setAttribute("aria-invalid","true"),E.setAttribute("aria-describedby",m["validation-message"]),Wc(E),Ae(E,m.inputerror))}function Ws(){let d=Ue.domCache.get(this);d.validationMessage&&wt(d.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),wn(h,m.inputerror))}let It={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Jd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Xd={allowEnterKey:void 0},Qi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],u=d=>Object.prototype.hasOwnProperty.call(It,d),f=d=>Jd.indexOf(d)!==-1,g=d=>Xd[d],v=d=>{u(d)||N(`Unknown parameter "${d}"`)},x=d=>{Qi.includes(d)&&N(`The parameter "${d}" is incompatible with toasts`)},O=d=>{let h=g(d);h&&G(d,h)},$=d=>{d.backdrop===!1&&d.allowOutsideClick&&N('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in d)v(h),d.toast&&x(h),O(h)};function We(d){let h=R(),y=Ue.innerParams.get(this);if(!h||_n(h,y.hideClass.popup)){N("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let E=Mt(d),k=Object.assign({},y,E);Pd(this,k),Ue.innerParams.set(this,k),Object.defineProperties(this,{params:{value:Object.assign({},this.params,d),writable:!1,enumerable:!0}})}let Mt=d=>{let h={};return Object.keys(d).forEach(y=>{f(y)?h[y]=d[y]:N(`Invalid parameter to update: ${y}`)}),h};function ke(){let d=Ue.domCache.get(this),h=Ue.innerParams.get(this);if(!h){xt(this);return}d.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),o.eventEmitter.emit("didDestroy"),Vt(this)}let Vt=d=>{xt(d),delete d.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},xt=d=>{d.isAwaitingPromise?(Pr(Ue,d),d.isAwaitingPromise=!0):(Pr(qi,d),Pr(Ue,d),delete d.isAwaitingPromise,delete d.disableButtons,delete d.enableButtons,delete d.getInput,delete d.disableInput,delete d.enableInput,delete d.hideLoading,delete d.disableLoading,delete d.showValidationMessage,delete d.resetValidationMessage,delete d.close,delete d.closePopup,delete d.closeModal,delete d.closeToast,delete d.rejectPromise,delete d.update,delete d._destroy)},Pr=(d,h)=>{for(let y in d)d[y].delete(h)};var En=Object.freeze({__proto__:null,_destroy:ke,close:dn,closeModal:dn,closePopup:dn,closeToast:dn,disableButtons:hu,disableInput:pu,disableLoading:Ki,enableButtons:Nr,enableInput:fu,getInput:Gs,handleAwaitingPromise:or,hideLoading:Ki,rejectPromise:ou,resetValidationMessage:Ws,showValidationMessage:mu,update:We});let ca=(d,h,y)=>{d.toast?gu(d,h,y):(jk(h),Bk(h),$k(d,h,y))},gu=(d,h,y)=>{h.popup.onclick=()=>{d&&(Uk(d)||d.timer||d.input)||y(ln.close)}},Uk=d=>!!(d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton),eh=!1,jk=d=>{d.popup.onmousedown=()=>{d.container.onmouseup=function(h){d.container.onmouseup=()=>{},h.target===d.container&&(eh=!0)}}},Bk=d=>{d.container.onmousedown=h=>{h.target===d.container&&h.preventDefault(),d.popup.onmouseup=function(y){d.popup.onmouseup=()=>{},(y.target===d.popup||y.target instanceof HTMLElement&&d.popup.contains(y.target))&&(eh=!0)}}},$k=(d,h,y)=>{h.container.onclick=E=>{if(eh){eh=!1;return}E.target===h.container&&be(d.allowOutsideClick)&&y(ln.backdrop)}},Hk=d=>typeof d=="object"&&d.jquery,K0=d=>d instanceof Element||Hk(d),qk=d=>{let h={};return typeof d[0]=="object"&&!K0(d[0])?Object.assign(h,d[0]):["title","html","icon"].forEach((y,E)=>{let k=d[E];typeof k=="string"||K0(k)?h[y]=k:k!==void 0&&F(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof k}`)}),h};function zk(){for(var d=arguments.length,h=new Array(d),y=0;y<d;y++)h[y]=arguments[y];return new this(...h)}function Gk(d){class h extends this{_main(E,k){return super._main(E,Object.assign({},d,k))}}return h}let Wk=()=>o.timeout&&o.timeout.getTimerLeft(),Q0=()=>{if(o.timeout)return gd(),o.timeout.stop()},Y0=()=>{if(o.timeout){let d=o.timeout.start();return Zo(d),d}},Kk=()=>{let d=o.timeout;return d&&(d.running?Q0():Y0())},Qk=d=>{if(o.timeout){let h=o.timeout.increase(d);return Zo(h,!0),h}},Yk=()=>!!(o.timeout&&o.timeout.isRunning()),Z0=!1,Qg={};function Zk(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Qg[d]=this,Z0||(document.body.addEventListener("click",Jk),Z0=!0)}let Jk=d=>{for(let h=d.target;h&&h!==document;h=h.parentNode)for(let y in Qg){let E=h.getAttribute(y);if(E){Qg[y].fire({template:E});return}}};class Xk{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let E=this._getHandlersByEventName(h);E.includes(y)||E.push(y)}once(h,y){var E=this;let k=function(){E.removeListener(h,k);for(var W=arguments.length,Ie=new Array(W),Oe=0;Oe<W;Oe++)Ie[Oe]=arguments[Oe];y.apply(E,Ie)};this.on(h,k)}emit(h){for(var y=arguments.length,E=new Array(y>1?y-1:0),k=1;k<y;k++)E[k-1]=arguments[k];this._getHandlersByEventName(h).forEach(W=>{try{W.apply(this,E)}catch(Ie){console.error(Ie)}})}removeListener(h,y){let E=this._getHandlersByEventName(h),k=E.indexOf(y);k>-1&&E.splice(k,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}o.eventEmitter=new Xk;var eO=Object.freeze({__proto__:null,argsToParams:qk,bindClickHandler:Zk,clickCancel:Bg,clickConfirm:iu,clickDeny:kd,enableLoading:Wi,fire:zk,getActions:un,getCancelButton:At,getCloseButton:yn,getConfirmButton:Be,getContainer:C,getDenyButton:Ge,getFocusableElements:vn,getFooter:Qo,getHtmlContainer:Q,getIcon:T,getIconContent:cn,getImage:Z,getInputLabel:Je,getLoader:$e,getPopup:R,getProgressSteps:ee,getTimerLeft:Wk,getTimerProgressBar:Xe,getTitle:nr,getValidationMessage:ge,increaseTimer:Qk,isDeprecatedParameter:g,isLoading:Gc,isTimerRunning:Yk,isUpdatableParameter:f,isValidParameter:u,isVisible:jg,mixin:Gk,off:(d,h)=>{if(!d){o.eventEmitter.reset();return}h?o.eventEmitter.removeListener(d,h):o.eventEmitter.removeAllListeners(d)},on:(d,h)=>{o.eventEmitter.on(d,h)},once:(d,h)=>{o.eventEmitter.once(d,h)},resumeTimer:Y0,showLoading:Wi,stopTimer:Q0,toggleTimer:Kk});class tO{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let J0=["swal-title","swal-html","swal-footer"],nO=d=>{let h=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!h)return{};let y=h.content;return lO(y),Object.assign(rO(y),iO(y),sO(y),oO(y),aO(y),cO(y),uO(y,J0))},rO=d=>{let h={};return Array.from(d.querySelectorAll("swal-param")).forEach(E=>{Ks(E,["name","value"]);let k=E.getAttribute("name"),W=E.getAttribute("value");!k||!W||(typeof It[k]=="boolean"?h[k]=W!=="false":typeof It[k]=="object"?h[k]=JSON.parse(W):h[k]=W)}),h},iO=d=>{let h={};return Array.from(d.querySelectorAll("swal-function-param")).forEach(E=>{let k=E.getAttribute("name"),W=E.getAttribute("value");!k||!W||(h[k]=new Function(`return ${W}`)())}),h},sO=d=>{let h={};return Array.from(d.querySelectorAll("swal-button")).forEach(E=>{Ks(E,["type","color","aria-label"]);let k=E.getAttribute("type");!k||!["confirm","cancel","deny"].includes(k)||(h[`${k}ButtonText`]=E.innerHTML,h[`show${P(k)}Button`]=!0,E.hasAttribute("color")&&(h[`${k}ButtonColor`]=E.getAttribute("color")),E.hasAttribute("aria-label")&&(h[`${k}ButtonAriaLabel`]=E.getAttribute("aria-label")))}),h},oO=d=>{let h={},y=d.querySelector("swal-image");return y&&(Ks(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},aO=d=>{let h={},y=d.querySelector("swal-icon");return y&&(Ks(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},cO=d=>{let h={},y=d.querySelector("swal-input");y&&(Ks(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let E=Array.from(d.querySelectorAll("swal-input-option"));return E.length&&(h.inputOptions={},E.forEach(k=>{Ks(k,["value"]);let W=k.getAttribute("value");if(!W)return;let Ie=k.innerHTML;h.inputOptions[W]=Ie})),h},uO=(d,h)=>{let y={};for(let E in h){let k=h[E],W=d.querySelector(k);W&&(Ks(W,[]),y[k.replace(/^swal-/,"")]=W.innerHTML.trim())}return y},lO=d=>{let h=J0.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(y=>{let E=y.tagName.toLowerCase();h.includes(E)||N(`Unrecognized element <${E}>`)})},Ks=(d,h)=>{Array.from(d.attributes).forEach(y=>{h.indexOf(y.name)===-1&&N([`Unrecognized attribute "${y.name}" on <${d.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},X0=10,dO=d=>{let h=C(),y=R();typeof d.willOpen=="function"&&d.willOpen(y),o.eventEmitter.emit("willOpen",y);let k=window.getComputedStyle(document.body).overflowY;pO(h,y,d),setTimeout(()=>{hO(h,y)},X0),jn()&&(fO(h,d.scrollbarPadding,k),Hg()),!Ui()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(()=>d.didOpen(y)),o.eventEmitter.emit("didOpen",y),wn(h,m["no-transition"])},th=d=>{let h=R();if(d.target!==h)return;let y=C();h.removeEventListener("animationend",th),h.removeEventListener("transitionend",th),y.style.overflowY="auto"},hO=(d,h)=>{ji(h)?(d.style.overflowY="hidden",h.addEventListener("animationend",th),h.addEventListener("transitionend",th)):d.style.overflowY="auto"},fO=(d,h,y)=>{Bs(),h&&y!=="hidden"&&zg(y),setTimeout(()=>{d.scrollTop=0})},pO=(d,h,y)=>{Ae(d,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),lt(h,"grid"),setTimeout(()=>{Ae(h,y.showClass.popup),h.style.removeProperty("opacity")},X0)):lt(h,"grid"),Ae([document.documentElement,document.body],m.shown),y.heightAuto&&y.backdrop&&!y.toast&&Ae([document.documentElement,document.body],m["height-auto"])};var eC={email:(d,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(d)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(d,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function mO(d){d.inputValidator||(d.input==="email"&&(d.inputValidator=eC.email),d.input==="url"&&(d.inputValidator=eC.url))}function gO(d){(!d.target||typeof d.target=="string"&&!document.querySelector(d.target)||typeof d.target!="string"&&!d.target.appendChild)&&(N('Target parameter is not valid, defaulting to "body"'),d.target="body")}function yO(d){mO(d),d.showLoaderOnConfirm&&!d.preConfirm&&N(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),gO(d),typeof d.title=="string"&&(d.title=d.title.split(`
`).join("<br />")),Zc(d)}let kr;var nh=new WeakMap;class gt{constructor(){if(r(this,nh,void 0),typeof window>"u")return;kr=this;for(var h=arguments.length,y=new Array(h),E=0;E<h;E++)y[E]=arguments[E];let k=Object.freeze(this.constructor.argsToParams(y));this.params=k,this.isAwaitingPromise=!1,i(nh,this,this._main(kr.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($(Object.assign({},y,h)),o.currentInstance){let W=qi.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:Ie}=o.currentInstance;o.currentInstance._destroy(),Ie||W({isDismissed:!0}),jn()&&Fd()}o.currentInstance=kr;let E=_O(h,y);yO(E),Object.freeze(E),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let k=wO(kr);return Pd(kr,E),Ue.innerParams.set(kr,E),vO(kr,k,E)}then(h){return t(nh,this).then(h)}finally(h){return t(nh,this).finally(h)}}let vO=(d,h,y)=>new Promise((E,k)=>{let W=Ie=>{d.close({isDismissed:!0,dismiss:Ie})};qi.swalPromiseResolve.set(d,E),qi.swalPromiseReject.set(d,k),h.confirmButton.onclick=()=>{oa(d)},h.denyButton.onclick=()=>{Kd(d)},h.cancelButton.onclick=()=>{aa(d,W)},h.closeButton.onclick=()=>{W(ln.close)},ca(y,h,W),ta(o,y,W),Hd(d,y),dO(y),EO(o,y,W),IO(h,y),setTimeout(()=>{h.container.scrollTop=0})}),_O=(d,h)=>{let y=nO(d),E=Object.assign({},It,h,y,d);return E.showClass=Object.assign({},It.showClass,E.showClass),E.hideClass=Object.assign({},It.hideClass,E.hideClass),E.animation===!1&&(E.showClass={backdrop:"swal2-noanimation"},E.hideClass={}),E},wO=d=>{let h={popup:R(),container:C(),actions:un(),confirmButton:Be(),denyButton:Ge(),cancelButton:At(),loader:$e(),closeButton:yn(),validationMessage:ge(),progressSteps:ee()};return Ue.domCache.set(d,h),h},EO=(d,h,y)=>{let E=Xe();wt(E),h.timer&&(d.timeout=new tO(()=>{y("timer"),delete d.timeout},h.timer),h.timerProgressBar&&(lt(E),Jt(E,h,"timerProgressBar"),setTimeout(()=>{d.timeout&&d.timeout.running&&Zo(h.timer)})))},IO=(d,h)=>{if(!h.toast){if(!be(h.allowEnterKey)){G("allowEnterKey"),TO();return}bO(d)||CO(d,h)||Hi(-1,1)}},bO=d=>{let h=Array.from(d.popup.querySelectorAll("[autofocus]"));for(let y of h)if(y instanceof HTMLElement&&qt(y))return y.focus(),!0;return!1},CO=(d,h)=>h.focusDeny&&qt(d.denyButton)?(d.denyButton.focus(),!0):h.focusCancel&&qt(d.cancelButton)?(d.cancelButton.focus(),!0):h.focusConfirm&&qt(d.confirmButton)?(d.confirmButton.focus(),!0):!1,TO=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let d=new Date,h=localStorage.getItem("swal-initiation");h?(d.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${d}`)}gt.prototype.disableButtons=hu,gt.prototype.enableButtons=Nr,gt.prototype.getInput=Gs,gt.prototype.disableInput=pu,gt.prototype.enableInput=fu,gt.prototype.hideLoading=Ki,gt.prototype.disableLoading=Ki,gt.prototype.showValidationMessage=mu,gt.prototype.resetValidationMessage=Ws,gt.prototype.close=dn,gt.prototype.closePopup=dn,gt.prototype.closeModal=dn,gt.prototype.closeToast=dn,gt.prototype.rejectPromise=ou,gt.prototype.update=We,gt.prototype._destroy=ke,Object.assign(gt,eO),Object.keys(En).forEach(d=>{gt[d]=function(){return kr&&kr[d]?kr[d](...arguments):null}}),gt.DismissReason=ln,gt.version="11.14.5";let rh=gt;return rh.default=rh,rh});typeof si<"u"&&si.Sweetalert2&&(si.swal=si.sweetAlert=si.Swal=si.SweetAlert=si.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function sC(n,e){return Object.is(n,e)}var Nt=null,sh=!1,oh=1,Zi=Symbol("SIGNAL");function je(n){let e=Nt;return Nt=n,e}function oC(){return Nt}var vu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ty(n){if(sh)throw new Error("");if(Nt===null)return;Nt.consumerOnSignalRead(n);let e=Nt.nextProducerIndex++;if(lh(Nt),e<Nt.producerNode.length&&Nt.producerNode[e]!==n&&yu(Nt)){let t=Nt.producerNode[e];uh(t,Nt.producerIndexOfThis[e])}Nt.producerNode[e]!==n&&(Nt.producerNode[e]=n,Nt.producerIndexOfThis[e]=yu(Nt)?lC(n,Nt,e):0),Nt.producerLastReadVersion[e]=n.version}function OO(){oh++}function aC(n){if(!(yu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===oh)){if(!n.producerMustRecompute(n)&&!ry(n)){n.dirty=!1,n.lastCleanEpoch=oh;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=oh}}function cC(n){if(n.liveConsumerNode===void 0)return;let e=sh;sh=!0;try{for(let t of n.liveConsumerNode)t.dirty||FO(t)}finally{sh=e}}function uC(){return Nt?.consumerAllowSignalWrites!==!1}function FO(n){n.dirty=!0,cC(n),n.consumerMarkedDirty?.(n)}function ch(n){return n&&(n.nextProducerIndex=0),je(n)}function ny(n,e){if(je(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(yu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)uh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ry(n){lh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(aC(t),r!==t.version))return!0}return!1}function iy(n){if(lh(n),yu(n))for(let e=0;e<n.producerNode.length;e++)uh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function lC(n,e,t){if(dC(n),n.liveConsumerNode.length===0&&hC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=lC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function uh(n,e){if(dC(n),n.liveConsumerNode.length===1&&hC(n))for(let r=0;r<n.producerNode.length;r++)uh(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];lh(i),i.producerIndexOfThis[r]=e}}function yu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function lh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function dC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function hC(n){return n.producerNode!==void 0}function fC(n){let e=Object.create(LO);e.computation=n;let t=()=>{if(aC(e),ty(e),e.value===ah)throw e.error;return e.value};return t[Zi]=e,t}var Xg=Symbol("UNSET"),ey=Symbol("COMPUTING"),ah=Symbol("ERRORED"),LO=he(j({},vu),{value:Xg,dirty:!0,error:null,equal:sC,producerMustRecompute(n){return n.value===Xg||n.value===ey},producerRecomputeValue(n){if(n.value===ey)throw new Error("Detected cycle in computations.");let e=n.value;n.value=ey;let t=ch(n),r;try{r=n.computation()}catch(i){r=ah,n.error=i}finally{ny(n,t)}if(e!==Xg&&e!==ah&&r!==ah&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function VO(){throw new Error}var pC=VO;function mC(){pC()}function gC(n){pC=n}var UO=null;function yC(n){let e=Object.create(_C);e.value=n;let t=()=>(ty(e),e.value);return t[Zi]=e,t}function sy(n,e){uC()||mC(),n.equal(n.value,e)||(n.value=e,jO(n))}function vC(n,e){uC()||mC(),sy(n,e(n.value))}var _C=he(j({},vu),{equal:sC,value:void 0});function jO(n){n.version++,OO(),cC(n),UO?.()}function pe(n){return typeof n=="function"}function la(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var dh=la(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Qs(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var dt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(pe(r))try{r()}catch(s){e=s instanceof dh?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{wC(s)}catch(o){e=e??[],o instanceof dh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new dh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)wC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Qs(t,e)}remove(e){let{_finalizers:t}=this;t&&Qs(t,e),e instanceof n&&e._removeParent(this)}};dt.EMPTY=(()=>{let n=new dt;return n.closed=!0,n})();var oy=dt.EMPTY;function hh(n){return n instanceof dt||n&&"closed"in n&&pe(n.remove)&&pe(n.add)&&pe(n.unsubscribe)}function wC(n){pe(n)?n():n.unsubscribe()}var cr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var da={setTimeout(n,e,...t){let{delegate:r}=da;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=da;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function fh(n){da.setTimeout(()=>{let{onUnhandledError:e}=cr;if(e)e(n);else throw n})}function _u(){}var EC=ay("C",void 0,void 0);function IC(n){return ay("E",void 0,n)}function bC(n){return ay("N",n,void 0)}function ay(n,e,t){return{kind:n,value:e,error:t}}var Ys=null;function ha(n){if(cr.useDeprecatedSynchronousErrorHandling){let e=!Ys;if(e&&(Ys={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ys;if(Ys=null,t)throw r}}else n()}function CC(n){cr.useDeprecatedSynchronousErrorHandling&&Ys&&(Ys.errorThrown=!0,Ys.error=n)}var Zs=class extends dt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hh(e)&&e.add(this)):this.destination=HO}static create(e,t,r){return new fa(e,t,r)}next(e){this.isStopped?uy(bC(e),this):this._next(e)}error(e){this.isStopped?uy(IC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?uy(EC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},BO=Function.prototype.bind;function cy(n,e){return BO.call(n,e)}var ly=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ph(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ph(r)}else ph(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ph(t)}}},fa=class extends Zs{constructor(e,t,r){super();let i;if(pe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&cr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&cy(e.next,s),error:e.error&&cy(e.error,s),complete:e.complete&&cy(e.complete,s)}):i=e}this.destination=new ly(i)}};function ph(n){cr.useDeprecatedSynchronousErrorHandling?CC(n):fh(n)}function $O(n){throw n}function uy(n,e){let{onStoppedNotification:t}=cr;t&&da.setTimeout(()=>t(n,e))}var HO={closed:!0,next:_u,error:$O,complete:_u};var pa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function In(n){return n}function dy(...n){return hy(n)}function hy(n){return n.length===0?In:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Fe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=zO(t)?t:new fa(t,r,i);return ha(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=TC(r),new r((i,s)=>{let o=new fa({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[pa](){return this}pipe(...t){return hy(t)(this)}toPromise(t){return t=TC(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function TC(n){var e;return(e=n??cr.Promise)!==null&&e!==void 0?e:Promise}function qO(n){return n&&pe(n.next)&&pe(n.error)&&pe(n.complete)}function zO(n){return n&&n instanceof Zs||qO(n)&&hh(n)}function fy(n){return pe(n?.lift)}function Le(n){return e=>{if(fy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(n,e,t,r,i){return new py(n,e,t,r,i)}var py=class extends Zs{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ma(){return Le((n,e)=>{let t=null;n._refCount++;let r=Re(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ga=class extends Fe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,fy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new dt;let t=this.getSubject();e.add(this.source.subscribe(Re(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=dt.EMPTY)}return e}refCount(){return ma()(this)}};var DC=la(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var zt=(()=>{class n extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new mh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new DC}next(t){ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?oy:(this.currentObservers=null,s.push(t),new dt(()=>{this.currentObservers=null,Qs(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new Fe;return t.source=this,t}}return n.create=(e,t)=>new mh(e,t),n})(),mh=class extends zt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:oy}};var Gt=class extends zt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var my={now(){return(my.delegate||Date).now()},delegate:void 0};var gh=class extends dt{constructor(e,t){super()}schedule(e,t=0){return this}};var wu={setInterval(n,e,...t){let{delegate:r}=wu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=wu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ya=class extends gh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return wu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&wu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Qs(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var va=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};va.now=my.now;var _a=class extends va{constructor(e,t=va.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var gy=new _a(ya);var yh=class extends ya{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var vh=class extends _a{};var yy=new vh(yh);var bn=new Fe(n=>n.complete());function SC(n){return n&&pe(n.schedule)}function AC(n){return n[n.length-1]}function _h(n){return pe(AC(n))?n.pop():void 0}function Ji(n){return SC(AC(n))?n.pop():void 0}function vy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function MC(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{l(r.next(p))}catch(m){o(m)}}function c(p){try{l(r.throw(p))}catch(m){o(m)}}function l(p){p.done?s(p.value):i(p.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function RC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Js(n){return this instanceof Js?(this.v=n,this):new Js(n)}function xC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(w){return function(D){return Promise.resolve(D).then(w,m)}}function a(w,D){r[w]&&(i[w]=function(P){return new Promise(function(N,F){s.push([w,P,N,F])>1||c(w,P)})},D&&(i[w]=D(i[w])))}function c(w,D){try{l(r[w](D))}catch(P){_(s[0][3],P)}}function l(w){w.value instanceof Js?Promise.resolve(w.value.v).then(p,m):_(s[0][2],w)}function p(w){c("next",w)}function m(w){c("throw",w)}function _(w,D){w(D),s.shift(),s.length&&c(s[0][0],s[0][1])}}function NC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof RC=="function"?RC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var wh=n=>n&&typeof n.length=="number"&&typeof n!="function";function Eh(n){return pe(n?.then)}function Ih(n){return pe(n[pa])}function bh(n){return Symbol.asyncIterator&&pe(n?.[Symbol.asyncIterator])}function Ch(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function GO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Th=GO();function Dh(n){return pe(n?.[Th])}function Sh(n){return xC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Js(t.read());if(i)return yield Js(void 0);yield yield Js(r)}}finally{t.releaseLock()}})}function Ah(n){return pe(n?.getReader)}function bt(n){if(n instanceof Fe)return n;if(n!=null){if(Ih(n))return WO(n);if(wh(n))return KO(n);if(Eh(n))return QO(n);if(bh(n))return PC(n);if(Dh(n))return YO(n);if(Ah(n))return ZO(n)}throw Ch(n)}function WO(n){return new Fe(e=>{let t=n[pa]();if(pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KO(n){return new Fe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function QO(n){return new Fe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,fh)})}function YO(n){return new Fe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function PC(n){return new Fe(e=>{JO(n,e).catch(t=>e.error(t))})}function ZO(n){return PC(Sh(n))}function JO(n,e){var t,r,i,s;return MC(this,void 0,void 0,function*(){try{for(t=NC(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function hn(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Xi(n,e=0){return Le((t,r)=>{t.subscribe(Re(r,i=>hn(r,n,()=>r.next(i),e),()=>hn(r,n,()=>r.complete(),e),i=>hn(r,n,()=>r.error(i),e)))})}function es(n,e=0){return Le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function kC(n,e){return bt(n).pipe(es(e),Xi(e))}function OC(n,e){return bt(n).pipe(es(e),Xi(e))}function FC(n,e){return new Fe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function LC(n,e){return new Fe(t=>{let r;return hn(t,e,()=>{r=n[Th](),hn(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>pe(r?.return)&&r.return()})}function Rh(n,e){if(!n)throw new Error("Iterable cannot be null");return new Fe(t=>{hn(t,e,()=>{let r=n[Symbol.asyncIterator]();hn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function VC(n,e){return Rh(Sh(n),e)}function UC(n,e){if(n!=null){if(Ih(n))return kC(n,e);if(wh(n))return FC(n,e);if(Eh(n))return OC(n,e);if(bh(n))return Rh(n,e);if(Dh(n))return LC(n,e);if(Ah(n))return VC(n,e)}throw Ch(n)}function yt(n,e){return e?UC(n,e):bt(n)}function ye(...n){let e=Ji(n);return yt(n,e)}function wa(n,e){let t=pe(n)?n:()=>n,r=i=>i.error(t());return new Fe(e?i=>e.schedule(r,0,i):r)}function _y(n){return!!n&&(n instanceof Fe||pe(n.lift)&&pe(n.subscribe))}var ci=la(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Te(n,e){return Le((t,r)=>{let i=0;t.subscribe(Re(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:XO}=Array;function e1(n,e){return XO(e)?n(...e):n(e)}function Mh(n){return Te(e=>e1(n,e))}var{isArray:t1}=Array,{getPrototypeOf:n1,prototype:r1,keys:i1}=Object;function xh(n){if(n.length===1){let e=n[0];if(t1(e))return{args:e,keys:null};if(s1(e)){let t=i1(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function s1(n){return n&&typeof n=="object"&&n1(n)===r1}function Nh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ph(...n){let e=Ji(n),t=_h(n),{args:r,keys:i}=xh(n);if(r.length===0)return yt([],e);let s=new Fe(o1(r,e,i?o=>Nh(i,o):In));return t?s.pipe(Mh(t)):s}function o1(n,e,t=In){return r=>{jC(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)jC(e,()=>{let l=yt(n[c],e),p=!1;l.subscribe(Re(r,m=>{s[c]=m,p||(p=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function jC(n,e,t){n?hn(t,n,e):e()}function BC(n,e,t,r,i,s,o,a){let c=[],l=0,p=0,m=!1,_=()=>{m&&!c.length&&!l&&e.complete()},w=P=>l<r?D(P):c.push(P),D=P=>{s&&e.next(P),l++;let N=!1;bt(t(P,p++)).subscribe(Re(e,F=>{i?.(F),s?w(F):e.next(F)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;c.length&&l<r;){let F=c.shift();o?hn(e,o,()=>D(F)):D(F)}_()}catch(F){e.error(F)}}))};return n.subscribe(Re(e,w,()=>{m=!0,_()})),()=>{a?.()}}function Pt(n,e,t=1/0){return pe(e)?Pt((r,i)=>Te((s,o)=>e(r,s,i,o))(bt(n(r,i))),t):(typeof e=="number"&&(t=e),Le((r,i)=>BC(r,i,n,t)))}function wy(n=1/0){return Pt(In,n)}function $C(){return wy(1)}function Ea(...n){return $C()(yt(n,Ji(n)))}function kh(n){return new Fe(e=>{bt(n()).subscribe(e)})}function Ey(...n){let e=_h(n),{args:t,keys:r}=xh(n),i=new Fe(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let p=0;p<o;p++){let m=!1;bt(t[p]).subscribe(Re(s,_=>{m||(m=!0,l--),a[p]=_},()=>c--,void 0,()=>{(!c||!m)&&(l||s.next(r?Nh(r,a):a),s.complete())}))}});return e?i.pipe(Mh(e)):i}function ur(n,e){return Le((t,r)=>{let i=0;t.subscribe(Re(r,s=>n.call(e,s,i++)&&r.next(s)))})}function ts(n){return Le((e,t)=>{let r=null,i=!1,s;r=e.subscribe(Re(t,void 0,void 0,o=>{s=bt(n(o,ts(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function HC(n,e,t,r,i){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(Re(o,p=>{let m=l++;c=a?n(c,p,m):(a=!0,p),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Ia(n,e){return pe(e)?Pt(n,e,1):Pt(n,1)}function ns(n){return Le((e,t)=>{let r=!1;e.subscribe(Re(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ui(n){return n<=0?()=>bn:Le((e,t)=>{let r=0;e.subscribe(Re(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Iy(n){return Te(()=>n)}function Oh(n=a1){return Le((e,t)=>{let r=!1;e.subscribe(Re(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function a1(){return new ci}function Eu(n){return Le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Or(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ur((i,s)=>n(i,s,r)):In,ui(1),t?ns(e):Oh(()=>new ci))}function ba(n){return n<=0?()=>bn:Le((e,t)=>{let r=[];e.subscribe(Re(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function by(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ur((i,s)=>n(i,s,r)):In,ba(1),t?ns(e):Oh(()=>new ci))}function Cy(n,e){return Le(HC(n,e,arguments.length>=2,!0))}function Ty(...n){let e=Ji(n);return Le((t,r)=>{(e?Ea(n,t,e):Ea(n,t)).subscribe(r)})}function lr(n,e){return Le((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(Re(r,c=>{i?.unsubscribe();let l=0,p=s++;bt(n(c,p)).subscribe(i=Re(r,m=>r.next(e?e(c,m,p,l++):m),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Dy(n){return Le((e,t)=>{bt(n).subscribe(Re(t,()=>t.complete(),_u)),!t.closed&&e.subscribe(t)})}function kt(n,e,t){let r=pe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Le((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Re(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):In}var RT="https://g.co/ng/security#xss",V=class extends Error{constructor(e,t){super(Av(e,t)),this.code=e}};function Av(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Nu(n){return{toString:n}.toString()}var Fh="__parameters__";function c1(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function MT(n,e,t){return Nu(()=>{let r=c1(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,p){let m=c.hasOwnProperty(Fh)?c[Fh]:Object.defineProperty(c,Fh,{value:[]})[Fh];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var ls=globalThis;function tt(n){for(let e in n)if(n[e]===tt)return e;throw Error("Could not find renamed property on target object.")}function u1(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function sn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(sn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function qC(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var l1=tt({__forward_ref__:tt});function $r(n){return n.__forward_ref__=$r,n.toString=function(){return sn(this())},n}function rn(n){return xT(n)?n():n}function xT(n){return typeof n=="function"&&n.hasOwnProperty(l1)&&n.__forward_ref__===$r}function ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Cn(n){return{providers:n.providers||[],imports:n.imports||[]}}function gf(n){return zC(n,PT)||zC(n,kT)}function NT(n){return gf(n)!==null}function zC(n,e){return n.hasOwnProperty(e)?n[e]:null}function d1(n){let e=n&&(n[PT]||n[kT]);return e||null}function GC(n){return n&&(n.hasOwnProperty(WC)||n.hasOwnProperty(h1))?n[WC]:null}var PT=tt({\u0275prov:tt}),WC=tt({\u0275inj:tt}),kT=tt({ngInjectableDef:tt}),h1=tt({ngInjectorDef:tt}),X=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function OT(n){return n&&!!n.\u0275providers}var f1=tt({\u0275cmp:tt}),p1=tt({\u0275dir:tt}),m1=tt({\u0275pipe:tt}),g1=tt({\u0275mod:tt}),zh=tt({\u0275fac:tt}),Cu=tt({__NG_ELEMENT_ID__:tt}),KC=tt({__NG_ENV_ID__:tt});function yf(n){return typeof n=="string"?n:n==null?"":String(n)}function y1(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():yf(n)}function v1(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new V(-200,n)}function Rv(n,e){throw new V(-201,!1)}var Ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ce||{}),jy;function FT(){return jy}function Hn(n){let e=jy;return jy=n,e}function LT(n,e,t){let r=gf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ce.Optional)return null;if(e!==void 0)return e;Rv(n,"Injector")}var _1={},Tu=_1,By="__NG_DI_FLAG__",Gh="ngTempTokenPath",w1="ngTokenPath",E1=/\n/gm,I1="\u0275",QC="__source",Sa;function b1(){return Sa}function rs(n){let e=Sa;return Sa=n,e}function C1(n,e=Ce.Default){if(Sa===void 0)throw new V(-203,!1);return Sa===null?LT(n,void 0,e):Sa.get(n,e&Ce.Optional?null:void 0,e)}function ae(n,e=Ce.Default){return(FT()||C1)(rn(n),e)}function K(n,e=Ce.Default){return ae(n,vf(e))}function vf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function $y(n){let e=[];for(let t=0;t<n.length;t++){let r=rn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,s=Ce.Default;for(let o=0;o<r.length;o++){let a=r[o],c=T1(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(ae(i,s))}else e.push(ae(r))}return e}function VT(n,e){return n[By]=e,n.prototype[By]=e,n}function T1(n){return n[By]}function D1(n,e,t,r){let i=n[Gh];throw e[QC]&&i.unshift(e[QC]),n.message=S1(`
`+n.message,i,t,r),n[w1]=i,n[Gh]=null,n}function S1(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==I1?n.slice(2):n;let i=sn(e);if(Array.isArray(e))i=e.map(sn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):sn(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(E1,`
  `)}`}var ut=VT(MT("Optional"),8);var UT=VT(MT("SkipSelf"),4);function Ra(n,e){let t=n.hasOwnProperty(zh);return t?n[zh]:null}function Mv(n,e){n.forEach(t=>Array.isArray(t)?Mv(t,e):e(t))}function jT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Wh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function A1(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function R1(n,e,t){let r=Pu(n,e);return r>=0?n[r|1]=t:(r=~r,A1(n,r,e,t)),r}function Sy(n,e){let t=Pu(n,e);if(t>=0)return n[t|1]}function Pu(n,e){return M1(n,e,1)}function M1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var Ma={},qn=[],xa=new X(""),BT=new X("",-1),$T=new X(""),Kh=class{get(e,t=Tu){if(t===Tu){let r=new Error(`NullInjectorError: No provider for ${sn(e)}!`);throw r.name="NullInjectorError",r}return t}},HT=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(HT||{}),Vr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Vr||{}),os=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(os||{});function x1(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Hy(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];P1(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function N1(n){return n===3||n===4||n===6}function P1(n){return n.charCodeAt(0)===64}function Du(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?YC(n,t,i,null,e[++r]):YC(n,t,i,null,null))}}return n}function YC(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var qT="ng-template";function k1(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&x1(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(xv(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function xv(n){return n.type===4&&n.value!==qT}function O1(n,e,t){let r=n.type===4&&!t?qT:n.value;return e===r}function F1(n,e,t){let r=4,i=n.attrs,s=i!==null?U1(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!dr(r)&&!dr(c))return!1;if(o&&dr(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!O1(n,c,t)||c===""&&e.length===1){if(dr(r))return!1;o=!0}}else if(r&8){if(i===null||!k1(n,i,c,t)){if(dr(r))return!1;o=!0}}else{let l=e[++a],p=L1(c,i,xv(n),t);if(p===-1){if(dr(r))return!1;o=!0;continue}if(l!==""){let m;if(p>s?m="":m=i[p+1].toLowerCase(),r&2&&l!==m){if(dr(r))return!1;o=!0}}}}return dr(r)||o}function dr(n){return(n&1)===0}function L1(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return j1(e,n)}function V1(n,e,t=!1){for(let r=0;r<e.length;r++)if(F1(n,e[r],t))return!0;return!1}function U1(n){for(let e=0;e<n.length;e++){let t=n[e];if(N1(t))return e}return n.length}function j1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function ZC(n,e){return n?":not("+e.trim()+")":e}function B1(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!dr(o)&&(e+=ZC(s,i),i=""),r=o,s=s||!dr(r);t++}return i!==""&&(e+=ZC(s,i)),e}function $1(n){return n.map(B1).join(",")}function H1(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!dr(i))break;i=s}r++}return{attrs:e,classes:t}}function Tn(n){return Nu(()=>{let e=QT(n),t=he(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===HT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Vr.Emulated,styles:n.styles||qn,_:null,schemas:n.schemas||null,tView:null,id:""});YT(t);let r=n.dependencies;return t.directiveDefs=XC(r,!1),t.pipeDefs=XC(r,!0),t.id=G1(t),t})}function q1(n){return eo(n)||zT(n)}function z1(n){return n!==null}function Dn(n){return Nu(()=>({type:n.type,bootstrap:n.bootstrap||qn,declarations:n.declarations||qn,imports:n.imports||qn,exports:n.exports||qn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function JC(n,e){if(n==null)return Ma;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a=os.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==os.None?[r,a]:r,e[s]=o):t[s]=r}return t}function ht(n){return Nu(()=>{let e=QT(n);return YT(e),e})}function eo(n){return n[f1]||null}function zT(n){return n[p1]||null}function GT(n){return n[m1]||null}function WT(n){let e=eo(n)||zT(n)||GT(n);return e!==null?e.standalone:!1}function KT(n,e){let t=n[g1]||null;if(!t&&e===!0)throw new Error(`Type ${sn(n)} does not have '\u0275mod' property.`);return t}function QT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ma,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||qn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:JC(n.inputs,e),outputs:JC(n.outputs),debugInfo:null}}function YT(n){n.features?.forEach(e=>e(n))}function XC(n,e){if(!n)return null;let t=e?GT:q1;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(z1)}function G1(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function fn(n){return{\u0275providers:n}}function Nv(...n){return{\u0275providers:ZT(!0,n),\u0275fromNgModule:!0}}function ZT(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return Mv(e,o=>{let a=o;qy(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&JT(i,s),t}function JT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Pv(i,s=>{e(s,r)})}}function qy(n,e,t,r){if(n=rn(n),!n)return!1;let i=null,s=GC(n),o=!s&&eo(n);if(!s&&!o){let c=n.ngModule;if(s=GC(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)qy(l,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Mv(s.imports,p=>{qy(p,e,t,r)&&(l||=[],l.push(p))})}finally{}l!==void 0&&JT(l,e)}if(!a){let l=Ra(i)||(()=>new i);e({provide:i,useFactory:l,deps:qn},i),e({provide:$T,useValue:i,multi:!0},i),e({provide:xa,useValue:()=>ae(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=n;Pv(c,p=>{e(p,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Pv(n,e){for(let t of n)OT(t)&&(t=t.\u0275providers),Array.isArray(t)?Pv(t,e):e(t)}var W1=tt({provide:String,useValue:tt});function XT(n){return n!==null&&typeof n=="object"&&W1 in n}function K1(n){return!!(n&&n.useExisting)}function Q1(n){return!!(n&&n.useFactory)}function Na(n){return typeof n=="function"}function Y1(n){return!!n.useClass}var _f=new X(""),jh={},Z1={},Ay;function kv(){return Ay===void 0&&(Ay=new Kh),Ay}var Wn=class{},Su=class extends Wn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gy(e,o=>this.processProvider(o)),this.records.set(BT,Ca(void 0,this)),i.has("environment")&&this.records.set(Wn,Ca(void 0,this));let s=this.records.get(_f);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($T,qn,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=je(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),je(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=rs(this),r=Hn(void 0),i;try{return e()}finally{rs(t),Hn(r)}}get(e,t=Tu,r=Ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(KC))return e[KC](this);r=vf(r);let i,s=rs(this),o=Hn(void 0);try{if(!(r&Ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=nF(e)&&gf(e);l&&this.injectableDefInScope(l)?c=Ca(zy(e),jh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Ce.Self?kv():this.parent;return t=r&Ce.Optional&&t===Tu?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Gh]=a[Gh]||[]).unshift(sn(e)),s)throw a;return D1(a,e,"R3InjectorError",this.source)}else throw a}finally{Hn(o),rs(s)}}resolveInjectorInitializers(){let e=je(null),t=rs(this),r=Hn(void 0),i;try{let s=this.get(xa,qn,Ce.Self);for(let o of s)o()}finally{rs(t),Hn(r),je(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(sn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(e){e=rn(e);let t=Na(e)?e:rn(e&&e.provide),r=X1(e);if(!Na(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ca(void 0,jh,!0),i.factory=()=>$y(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=je(null);try{return t.value===jh&&(t.value=Z1,t.value=t.factory()),typeof t.value=="object"&&t.value&&tF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{je(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=rn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function zy(n){let e=gf(n),t=e!==null?e.factory:Ra(n);if(t!==null)return t;if(n instanceof X)throw new V(204,!1);if(n instanceof Function)return J1(n);throw new V(204,!1)}function J1(n){if(n.length>0)throw new V(204,!1);let t=d1(n);return t!==null?()=>t.factory(n):()=>new n}function X1(n){if(XT(n))return Ca(void 0,n.useValue);{let e=eD(n);return Ca(e,jh)}}function eD(n,e,t){let r;if(Na(n)){let i=rn(n);return Ra(i)||zy(i)}else if(XT(n))r=()=>rn(n.useValue);else if(Q1(n))r=()=>n.useFactory(...$y(n.deps||[]));else if(K1(n))r=()=>ae(rn(n.useExisting));else{let i=rn(n&&(n.useClass||n.provide));if(eF(n))r=()=>new i(...$y(n.deps));else return Ra(i)||zy(i)}return r}function Ca(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function eF(n){return!!n.deps}function tF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function nF(n){return typeof n=="function"||typeof n=="object"&&n instanceof X}function Gy(n,e){for(let t of n)Array.isArray(t)?Gy(t,e):t&&OT(t)?Gy(t.\u0275providers,e):e(t)}function pi(n,e){n instanceof Su&&n.assertNotDestroyed();let t,r=rs(n),i=Hn(void 0);try{return e()}finally{rs(r),Hn(i)}}function rF(){return FT()!==void 0||b1()!=null}function iF(n){return typeof n=="function"}var mi=0,Me=1,de=2,on=3,hr=4,pr=5,Qh=6,Yh=7,fr=8,Pa=9,Ur=10,Ut=11,Au=12,eT=13,ja=14,jr=15,ka=16,Ta=17,Oa=18,wf=19,tD=20,is=21,Ry=22,zn=23,li=25,nD=1;var to=7,Zh=8,Jh=9,Gn=10,Xh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Xh||{});function ss(n){return Array.isArray(n)&&typeof n[nD]=="object"}function gi(n){return Array.isArray(n)&&n[nD]===!0}function rD(n){return(n.flags&4)!==0}function Ef(n){return n.componentOffset>-1}function Ov(n){return(n.flags&1)===1}function as(n){return!!n.template}function Wy(n){return(n[de]&512)!==0}var Ky=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function iD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function yi(){return sD}function sD(n){return n.type.prototype.ngOnChanges&&(n.setInput=oF),sF}yi.ngInherit=!0;function sF(){let n=aD(this),e=n?.current;if(e){let t=n.previous;if(t===Ma)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function oF(n,e,t,r,i){let s=this.declaredInputs[r],o=aD(n)||aF(n,{previous:Ma,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new Ky(l&&l.currentValue,t,c===Ma),iD(n,e,i,t)}var oD="__ngSimpleChanges__";function aD(n){return n[oD]||null}function aF(n,e){return n[oD]=e}var tT=null;var Fr=function(n,e,t){tT?.(n,e,t)},cF="svg",uF="math";function Br(n){for(;Array.isArray(n);)n=n[mi];return n}function cD(n,e){return Br(e[n])}function Kn(n,e){return Br(e[n.index])}function uD(n,e){return n.data[e]}function lF(n,e){return n[e]}function ds(n,e){let t=e[n];return ss(t)?t:t[mi]}function Fv(n){return(n[de]&128)===128}function dF(n){return gi(n[on])}function ef(n,e){return e==null?null:n[e]}function lD(n){n[Ta]=0}function dD(n){n[de]&1024||(n[de]|=1024,Fv(n)&&bf(n))}function hF(n,e){for(;n>0;)e=e[ja],n--;return e}function If(n){return!!(n[de]&9216||n[zn]?.dirty)}function Qy(n){n[Ur].changeDetectionScheduler?.notify(8),n[de]&64&&(n[de]|=1024),If(n)&&bf(n)}function bf(n){n[Ur].changeDetectionScheduler?.notify(0);let e=no(n);for(;e!==null&&!(e[de]&8192||(e[de]|=8192,!Fv(e)));)e=no(e)}function hD(n,e){if((n[de]&256)===256)throw new V(911,!1);n[is]===null&&(n[is]=[]),n[is].push(e)}function fF(n,e){if(n[is]===null)return;let t=n[is].indexOf(e);t!==-1&&n[is].splice(t,1)}function no(n){let e=n[on];return gi(e)?e[on]:e}var De={lFrame:ED(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var fD=!1;function pF(){return De.lFrame.elementDepthCount}function mF(){De.lFrame.elementDepthCount++}function gF(){De.lFrame.elementDepthCount--}function pD(){return De.bindingsEnabled}function yF(){return De.skipHydrationRootTNode!==null}function vF(n){return De.skipHydrationRootTNode===n}function _F(){De.skipHydrationRootTNode=null}function st(){return De.lFrame.lView}function Qn(){return De.lFrame.tView}function Qe(n){return De.lFrame.contextLView=n,n[fr]}function Ye(n){return De.lFrame.contextLView=null,n}function Sn(){let n=mD();for(;n!==null&&n.type===64;)n=n.parent;return n}function mD(){return De.lFrame.currentTNode}function wF(){let n=De.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ku(n,e){let t=De.lFrame;t.currentTNode=n,t.isParent=e}function gD(){return De.lFrame.isParent}function EF(){De.lFrame.isParent=!1}function IF(){return De.lFrame.contextLView}function yD(){return fD}function nT(n){fD=n}function bF(n){return De.lFrame.bindingIndex=n}function Lv(){return De.lFrame.bindingIndex++}function CF(n){let e=De.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function TF(){return De.lFrame.inI18n}function DF(n,e){let t=De.lFrame;t.bindingIndex=t.bindingRootIndex=n,Yy(e)}function SF(){return De.lFrame.currentDirectiveIndex}function Yy(n){De.lFrame.currentDirectiveIndex=n}function AF(n){let e=De.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function vD(n){De.lFrame.currentQueryIndex=n}function RF(n){let e=n[Me];return e.type===2?e.declTNode:e.type===1?n[pr]:null}function _D(n,e,t){if(t&Ce.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&Ce.Host);)if(i=RF(s),i===null||(s=s[ja],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=De.lFrame=wD();return r.currentTNode=e,r.lView=n,!0}function Vv(n){let e=wD(),t=n[Me];De.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function wD(){let n=De.lFrame,e=n===null?null:n.child;return e===null?ED(n):e}function ED(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function ID(){let n=De.lFrame;return De.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var bD=ID;function Uv(){let n=ID();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function MF(n){return(De.lFrame.contextLView=hF(n,De.lFrame.contextLView))[fr]}function Ba(){return De.lFrame.selectedIndex}function ro(n){De.lFrame.selectedIndex=n}function jv(){let n=De.lFrame;return uD(n.tView,n.selectedIndex)}function xF(){return De.lFrame.currentNamespace}var CD=!0;function Bv(){return CD}function $v(n){CD=n}function NF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=sD(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Hv(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:p}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),p!=null&&(n.destroyHooks??=[]).push(t,p)}}function Bh(n,e,t){TD(n,e,3,t)}function $h(n,e,t,r){(n[de]&3)===t&&TD(n,e,t,r)}function My(n,e){let t=n[de];(t&3)===e&&(t&=16383,t+=1,n[de]=t)}function TD(n,e,t,r){let i=r!==void 0?n[Ta]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ta]+=65536),(a<s||s==-1)&&(PF(n,t,e,c),n[Ta]=(n[Ta]&4294901760)+c+2),c++}function rT(n,e){Fr(4,n,e);let t=je(null);try{e.call(n)}finally{je(t),Fr(5,n,e)}}function PF(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[de]>>14<n[Ta]>>16&&(n[de]&3)===e&&(n[de]+=16384,rT(a,s)):rT(a,s)}var Aa=-1,io=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function kF(n){return n instanceof io}function OF(n){return(n.flags&8)!==0}function FF(n){return(n.flags&16)!==0}var xy={},Zy=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=vf(r);let i=this.injector.get(e,xy,r);return i!==xy||t===xy?i:this.parentInjector.get(e,t,r)}};function DD(n){return n!==Aa}function tf(n){return n&32767}function LF(n){return n>>16}function nf(n,e){let t=LF(n),r=e;for(;t>0;)r=r[ja],t--;return r}var Jy=!0;function iT(n){let e=Jy;return Jy=n,e}var VF=256,SD=VF-1,AD=5,UF=0,Lr={};function jF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Cu)&&(r=t[Cu]),r==null&&(r=t[Cu]=UF++);let i=r&SD,s=1<<i;e.data[n+(i>>AD)]|=s}function rf(n,e){let t=RD(n,e);if(t!==-1)return t;let r=e[Me];r.firstCreatePass&&(n.injectorIndex=e.length,Ny(r.data,n),Ny(e,null),Ny(r.blueprint,null));let i=qv(n,e),s=n.injectorIndex;if(DD(i)){let o=tf(i),a=nf(i,e),c=a[Me].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function Ny(n,e){n.push(0,0,0,0,0,0,0,0,e)}function RD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function qv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=kD(i),r===null)return Aa;if(t++,i=i[ja],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Aa}function Xy(n,e,t){jF(n,e,t)}function MD(n,e,t){if(t&Ce.Optional||n!==void 0)return n;Rv(e,"NodeInjector")}function xD(n,e,t,r){if(t&Ce.Optional&&r===void 0&&(r=null),!(t&(Ce.Self|Ce.Host))){let i=n[Pa],s=Hn(void 0);try{return i?i.get(e,r,t&Ce.Optional):LT(e,r,t&Ce.Optional)}finally{Hn(s)}}return MD(r,e,t)}function ND(n,e,t,r=Ce.Default,i){if(n!==null){if(e[de]&2048&&!(r&Ce.Self)){let o=zF(n,e,t,r,Lr);if(o!==Lr)return o}let s=PD(n,e,t,r,Lr);if(s!==Lr)return s}return xD(e,t,r,i)}function PD(n,e,t,r,i){let s=HF(t);if(typeof s=="function"){if(!_D(e,n,r))return r&Ce.Host?MD(i,t,r):xD(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&Ce.Optional))Rv(t);else return o}finally{bD()}}else if(typeof s=="number"){let o=null,a=RD(n,e),c=Aa,l=r&Ce.Host?e[jr][pr]:null;for((a===-1||r&Ce.SkipSelf)&&(c=a===-1?qv(n,e):e[a+8],c===Aa||!oT(r,!1)?a=-1:(o=e[Me],a=tf(c),e=nf(c,e)));a!==-1;){let p=e[Me];if(sT(s,a,p.data)){let m=BF(a,e,t,o,r,l);if(m!==Lr)return m}c=e[a+8],c!==Aa&&oT(r,e[Me].data[a+8]===l)&&sT(s,a,e)?(o=p,a=tf(c),e=nf(c,e)):a=-1}}return i}function BF(n,e,t,r,i,s){let o=e[Me],a=o.data[n+8],c=r==null?Ef(a)&&Jy:r!=o&&(a.type&3)!==0,l=i&Ce.Host&&s===a,p=$F(a,o,t,c,l);return p!==null?Fa(e,o,p,a):Lr}function $F(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,l=n.directiveEnd,p=s>>20,m=r?a:a+p,_=i?a+p:l;for(let w=m;w<_;w++){let D=o[w];if(w<c&&t===D||w>=c&&D.type===t)return w}if(i){let w=o[c];if(w&&as(w)&&w.type===t)return c}return null}function Fa(n,e,t,r){let i=n[t],s=e.data;if(kF(i)){let o=i;o.resolving&&v1(y1(s[t]));let a=iT(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Hn(o.injectImpl):null,p=_D(n,r,Ce.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&NF(t,s[t],e)}finally{l!==null&&Hn(l),iT(a),o.resolving=!1,bD()}}return i}function HF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Cu)?n[Cu]:void 0;return typeof e=="number"?e>=0?e&SD:qF:e}function sT(n,e,t){let r=1<<n;return!!(t[e+(n>>AD)]&r)}function oT(n,e){return!(n&Ce.Self)&&!(n&Ce.Host&&e)}var Xs=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ND(this._tNode,this._lView,e,vf(r),t)}};function qF(){return new Xs(Sn(),st())}function vi(n){return Nu(()=>{let e=n.prototype.constructor,t=e[zh]||ev(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[zh]||ev(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ev(n){return xT(n)?()=>{let e=ev(rn(n));return e&&e()}:Ra(n)}function zF(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[de]&2048&&!(o[de]&512);){let a=PD(s,o,t,r|Ce.Self,Lr);if(a!==Lr)return a;let c=s.parent;if(!c){let l=o[tD];if(l){let p=l.get(t,Lr,r);if(p!==Lr)return p}c=kD(o),o=o[ja]}s=c}return i}function kD(n){let e=n[Me],t=e.type;return t===2?e.declTNode:t===1?n[pr]:null}function aT(n,e=null,t=null,r){let i=OD(n,e,t,r);return i.resolveInjectorInitializers(),i}function OD(n,e=null,t=null,r,i=new Set){let s=[t||qn,Nv(n)];return r=r||(typeof n=="object"?void 0:sn(n)),new Su(s,e||kv(),r||null,i)}var Ot=class n{static{this.THROW_IF_NOT_FOUND=Tu}static{this.NULL=new Kh}static create(e,t){if(Array.isArray(e))return aT({name:""},t,e,"");{let r=e.name??"";return aT({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ne({token:n,providedIn:"any",factory:()=>ae(BT)})}static{this.__NG_ELEMENT_ID__=-1}};var GF=new X("");GF.__NG_ELEMENT_ID__=n=>{let e=Sn();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&Ce.Optional)return null;throw new V(204,!1)};var WF="ngOriginalError";function Py(n){return n[WF]}var FD=!0,LD=(()=>{class n{static{this.__NG_ELEMENT_ID__=KF}static{this.__NG_ENV_ID__=t=>t}}return n})(),tv=class extends LD{constructor(e){super(),this._lView=e}onDestroy(e){return hD(this._lView,e),()=>fF(this._lView,e)}};function KF(){return new tv(st())}var $a=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Gt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}}return n})();var nv=class extends zt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,rF()&&(this.destroyRef=K(LD,{optional:!0})??void 0,this.pendingTasks=K($a,{optional:!0})??void 0)}emit(e){let t=je(null);try{super.next(e)}finally{je(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof dt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ct=nv;function sf(...n){}function VD(n){let e,t;function r(){n=sf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function cT(n){return queueMicrotask(()=>n()),()=>{n=sf}}var zv="isAngularZone",of=zv+"_ID",QF=0,_e=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ct(!1),this.onMicrotaskEmpty=new Ct(!1),this.onStable=new Ct(!1),this.onError=new Ct(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=FD}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,JF(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(zv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,YF,sf,sf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},YF={};function Gv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ZF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){VD(()=>{n.callbackScheduled=!1,rv(n),n.isCheckStableRunning=!0,Gv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),rv(n)}function JF(n){let e=()=>{ZF(n)},t=QF++;n._inner=n._inner.fork({name:"angular",properties:{[zv]:!0,[of]:t,[of+t]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(XF(c))return r.invokeTask(s,o,a,c);try{return uT(n),r.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),lT(n)}},onInvoke:(r,i,s,o,a,c,l)=>{try{return uT(n),r.invoke(s,o,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!eL(c)&&e(),lT(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,rv(n),Gv(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function rv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function uT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function lT(n){n._nesting--,Gv(n)}var iv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ct,this.onMicrotaskEmpty=new Ct,this.onStable=new Ct,this.onError=new Ct}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function XF(n){return UD(n,"__ignore_ng_zone__")}function eL(n){return UD(n,"__scheduler_tick__")}function UD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var di=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Py(e);for(;t&&Py(t);)t=Py(t);return t||null}},tL=new X("",{providedIn:"root",factory:()=>{let n=K(_e),e=K(di);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function nL(){return Cf(Sn(),st())}function Cf(n,e){return new _i(Kn(n,e))}var _i=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=nL}}return n})();function jD(n){return(n.flags&128)===128}var BD=new Map,rL=0;function iL(){return rL++}function sL(n){BD.set(n[wf],n)}function sv(n){BD.delete(n[wf])}var dT="__ngContext__";function so(n,e){ss(e)?(n[dT]=e[wf],sL(e)):n[dT]=e}function $D(n){return qD(n[Au])}function HD(n){return qD(n[hr])}function qD(n){for(;n!==null&&!gi(n);)n=n[hr];return n}var ov;function zD(n){ov=n}function oL(){if(ov!==void 0)return ov;if(typeof document<"u")return document;throw new V(210,!1)}var Tf=new X("",{providedIn:"root",factory:()=>aL}),aL="ng",Wv=new X(""),hs=new X("",{providedIn:"platform",factory:()=>"unknown"});var Kv=new X(""),Qv=new X("",{providedIn:"root",factory:()=>oL().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cL="h",uL="b";var lL=()=>null;function Yv(n,e,t=!1){return lL(n,e,t)}var GD=!1,dL=new X("",{providedIn:"root",factory:()=>GD});var af=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${RT})`}};function Df(n){return n instanceof af?n.changingThisBreaksApplicationSecurity:n}function WD(n,e){let t=hL(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${RT})`)}return t===e}function hL(n){return n instanceof af&&n.getTypeName()||null}var fL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function KD(n){return n=String(n),n.match(fL)?n:"unsafe:"+n}var Zv=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Zv||{});function Sf(n){let e=pL();return e?e.sanitize(Zv.URL,n)||"":WD(n,"URL")?Df(n):KD(yf(n))}function pL(){let n=st();return n&&n[Ur].sanitizer}function QD(n){return n instanceof Function?n():n}var hi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(hi||{}),mL;function Jv(n,e){return mL(n,e)}function Da(n,e,t,r,i){if(r!=null){let s,o=!1;gi(r)?s=r:ss(r)&&(o=!0,r=r[mi]);let a=Br(r);n===0&&t!==null?i==null?eS(e,t,a):cf(e,t,a,i||null,!0):n===1&&t!==null?cf(e,t,a,i||null,!0):n===2?ML(e,a,o):n===3&&e.destroyNode(a),s!=null&&NL(e,n,s,t,i)}}function gL(n,e){return n.createText(e)}function yL(n,e,t){n.setValue(e,t)}function YD(n,e,t){return n.createElement(e,t)}function vL(n,e){ZD(n,e),e[mi]=null,e[pr]=null}function _L(n,e,t,r,i,s){r[mi]=i,r[pr]=e,Af(n,r,t,1,i,s)}function ZD(n,e){e[Ur].changeDetectionScheduler?.notify(9),Af(n,e,e[Ut],2,null,null)}function wL(n){let e=n[Au];if(!e)return ky(n[Me],n);for(;e;){let t=null;if(ss(e))t=e[Au];else{let r=e[Gn];r&&(t=r)}if(!t){for(;e&&!e[hr]&&e!==n;)ss(e)&&ky(e[Me],e),e=e[on];e===null&&(e=n),ss(e)&&ky(e[Me],e),t=e&&e[hr]}e=t}}function EL(n,e,t,r){let i=Gn+r,s=t.length;r>0&&(t[i-1][hr]=e),r<s-Gn?(e[hr]=t[i],jT(t,Gn+r,e)):(t.push(e),e[hr]=null),e[on]=t;let o=e[ka];o!==null&&t!==o&&JD(o,e);let a=e[Oa];a!==null&&a.insertView(n),Qy(e),e[de]|=128}function JD(n,e){let t=n[Jh],r=e[on];if(ss(r))n[de]|=Xh.HasTransplantedViews;else{let i=r[on][jr];e[jr]!==i&&(n[de]|=Xh.HasTransplantedViews)}t===null?n[Jh]=[e]:t.push(e)}function Xv(n,e){let t=n[Jh],r=t.indexOf(e);t.splice(r,1)}function av(n,e){if(n.length<=Gn)return;let t=Gn+e,r=n[t];if(r){let i=r[ka];i!==null&&i!==n&&Xv(i,r),e>0&&(n[t-1][hr]=r[hr]);let s=Wh(n,Gn+e);vL(r[Me],r);let o=s[Oa];o!==null&&o.detachView(s[Me]),r[on]=null,r[hr]=null,r[de]&=-129}return r}function XD(n,e){if(!(e[de]&256)){let t=e[Ut];t.destroyNode&&Af(n,e,t,3,null,null),wL(e)}}function ky(n,e){if(e[de]&256)return;let t=je(null);try{e[de]&=-129,e[de]|=256,e[zn]&&iy(e[zn]),bL(n,e),IL(n,e),e[Me].type===1&&e[Ut].destroy();let r=e[ka];if(r!==null&&gi(e[on])){r!==e[on]&&Xv(r,e);let i=e[Oa];i!==null&&i.detachView(n)}sv(e)}finally{je(t)}}function IL(n,e){let t=n.cleanup,r=e[Yh];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[Yh]=null);let i=e[is];if(i!==null){e[is]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function bL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof io)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Fr(4,a,c);try{c.call(a)}finally{Fr(5,a,c)}}else{Fr(4,i,s);try{s.call(i)}finally{Fr(5,i,s)}}}}}function CL(n,e,t){return TL(n,e.parent,t)}function TL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[mi];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===Vr.None||s===Vr.Emulated)return null}return Kn(r,t)}}function cf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function eS(n,e,t){n.appendChild(e,t)}function hT(n,e,t,r,i){r!==null?cf(n,e,t,r,i):eS(n,e,t)}function tS(n,e){return n.parentNode(e)}function DL(n,e){return n.nextSibling(e)}function SL(n,e,t){return RL(n,e,t)}function AL(n,e,t){return n.type&40?Kn(n,t):null}var RL=AL,fT;function e_(n,e,t,r){let i=CL(n,r,e),s=e[Ut],o=r.parent||e[pr],a=SL(o,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)hT(s,i,t[c],a,!1);else hT(s,i,t,a,!1);fT!==void 0&&fT(s,r,e,t,i)}function Iu(n,e){if(e!==null){let t=e.type;if(t&3)return Kn(e,n);if(t&4)return cv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Iu(n,r);{let i=n[e.index];return gi(i)?cv(-1,i):Br(i)}}else{if(t&128)return Iu(n,e.next);if(t&32)return Jv(e,n)()||Br(n[e.index]);{let r=nS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=no(n[jr]);return Iu(i,r)}else return Iu(n,e.next)}}}return null}function nS(n,e){if(e!==null){let r=n[jr][pr],i=e.projection;return r.projection[i]}return null}function cv(n,e){let t=Gn+n+1;if(t<e.length){let r=e[t],i=r[Me].firstChild;if(i!==null)return Iu(r,i)}return e[to]}function ML(n,e,t){n.removeChild(null,e,t)}function t_(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(o&&e===0&&(a&&so(Br(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)t_(n,e,t.child,r,i,s,!1),Da(e,n,i,a,s);else if(c&32){let l=Jv(t,r),p;for(;p=l();)Da(e,n,i,p,s);Da(e,n,i,a,s)}else c&16?xL(n,e,r,t,i,s):Da(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Af(n,e,t,r,i,s){t_(t,r,n.firstChild,e,i,s,!1)}function xL(n,e,t,r,i,s){let o=t[jr],c=o[pr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let p=c[l];Da(e,n,i,p,s)}else{let l=c,p=o[on];jD(r)&&(l.flags|=128),t_(n,e,l,p,i,s,!0)}}function NL(n,e,t,r,i){let s=t[to],o=Br(t);s!==o&&Da(e,n,r,s,i);for(let a=Gn;a<t.length;a++){let c=t[a];Af(c[Me],c,n,e,r,s)}}function PL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:hi.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=hi.Important),n.setStyle(t,r,i,s))}}function kL(n,e,t){n.setAttribute(e,"style",t)}function rS(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function iS(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&Hy(n,e,r),i!==null&&rS(n,e,i),s!==null&&kL(n,e,s)}var co={};function se(n=1){sS(Qn(),st(),Ba()+n,!1)}function sS(n,e,t,r){if(!r)if((e[de]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Bh(e,s,t)}else{let s=n.preOrderHooks;s!==null&&$h(e,s,0,t)}ro(t)}function re(n,e=Ce.Default){let t=st();if(t===null)return ae(n,e);let r=Sn();return ND(r,t,rn(n),e)}function oS(n,e,t,r,i,s){let o=je(null);try{let a=null;i&os.SignalBased&&(a=e[r][Zi]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&os.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,r):iD(e,a,r,s)}finally{je(o)}}function OL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ro(~i);else{let s=i,o=t[++r],a=t[++r];DF(o,s);let c=e[s];a(2,c)}}}finally{ro(-1)}}function Rf(n,e,t,r,i,s,o,a,c,l,p){let m=e.blueprint.slice();return m[mi]=i,m[de]=r|4|128|8|64,(l!==null||n&&n[de]&2048)&&(m[de]|=2048),lD(m),m[on]=m[ja]=n,m[fr]=t,m[Ur]=o||n&&n[Ur],m[Ut]=a||n&&n[Ut],m[Pa]=c||n&&n[Pa]||null,m[pr]=s,m[wf]=iL(),m[Qh]=p,m[tD]=l,m[jr]=e.type==2?n[jr]:m,m}function Mf(n,e,t,r,i){let s=n.data[e];if(s===null)s=FL(n,e,t,r,i),TF()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=wF();s.injectorIndex=o===null?-1:o.injectorIndex}return ku(s,!0),s}function FL(n,e,t,r,i){let s=mD(),o=gD(),a=o?s:s&&s.parent,c=n.data[e]=BL(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function aS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function cS(n,e,t,r,i){let s=Ba(),o=r&2;try{ro(-1),o&&e.length>li&&sS(n,e,li,!1),Fr(o?2:0,i),t(r,i)}finally{ro(s),Fr(o?3:1,i)}}function uS(n,e,t){if(rD(e)){let r=je(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{je(r)}}}function lS(n,e,t){pD()&&(WL(n,e,t,Kn(t,e)),(t.flags&64)===64&&gS(n,e,t))}function dS(n,e,t=Kn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function hS(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=n_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function n_(n,e,t,r,i,s,o,a,c,l,p){let m=li+r,_=m+i,w=LL(m,_),D=typeof l=="function"?l():l;return w[Me]={type:n,blueprint:w,template:t,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:p}}function LL(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:co);return t}function VL(n,e,t,r){let s=r.get(dL,GD)||t===Vr.ShadowDom,o=n.selectRootElement(e,s);return UL(o),o}function UL(n){jL(n)}var jL=()=>null;function BL(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return yF()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function pT(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=os.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}n===0?mT(r,t,l,a,c):mT(r,t,l,a)}return r}function mT(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function $L(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,a=[],c=null,l=null;for(let p=r;p<i;p++){let m=s[p],_=t?t.get(m):null,w=_?_.inputs:null,D=_?_.outputs:null;c=pT(0,m.inputs,p,c,w),l=pT(1,m.outputs,p,l,D);let P=c!==null&&o!==null&&!xv(e)?iV(c,p,o):null;a.push(P)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function HL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function fS(n,e,t,r,i,s,o,a){let c=Kn(e,t),l=e.inputs,p;!a&&l!=null&&(p=l[r])?(r_(n,t,p,r,i),Ef(e)&&qL(t,e.index)):e.type&3?(r=HL(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function qL(n,e){let t=ds(e,n);t[de]&16||(t[de]|=64)}function pS(n,e,t,r){if(pD()){let i=r===null?null:{"":-1},s=QL(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&mS(n,e,t,o,i,a),i&&YL(t,r,i)}t.mergedAttrs=Du(t.mergedAttrs,t.attrs)}function mS(n,e,t,r,i,s){for(let l=0;l<r.length;l++)Xy(rf(t,e),n,r[l].type);JL(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let p=r[l];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,c=aS(n,e,r.length,null);for(let l=0;l<r.length;l++){let p=r[l];t.mergedAttrs=Du(t.mergedAttrs,p.hostAttrs),XL(n,t,e,c,p),ZL(c,p,i),p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let m=p.type.prototype;!o&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}$L(n,t,s)}function zL(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;GL(o)!=a&&o.push(a),o.push(t,r,s)}}function GL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function WL(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;Ef(t)&&eV(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||rf(t,e),so(r,e);let o=t.initialInputs;for(let a=i;a<s;a++){let c=n.data[a],l=Fa(e,n,a,t);if(so(l,e),o!==null&&rV(e,a-i,l,c,t,o),as(c)){let p=ds(t.index,e);p[fr]=Fa(e,n,a,t)}}}function gS(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=SF();try{ro(s);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Yy(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&KL(c,l)}}finally{ro(-1),Yy(o)}}function KL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function QL(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(V1(e,o.selectors,!1))if(r||(r=[]),as(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;uv(n,e,c)}else r.unshift(o),uv(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function uv(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function YL(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new V(-301,!1);r.push(e[i],s)}}}function ZL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;as(e)&&(t[""]=n)}}function JL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function XL(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Ra(i.type,!0)),o=new io(s,as(i),re);n.blueprint[r]=o,t[r]=o,zL(n,e,r,aS(n,t,i.hostVars,co),i)}function eV(n,e,t){let r=Kn(e,n),i=hS(t),s=n[Ur].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=xf(n,Rf(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=a}function tV(n,e,t,r,i,s){let o=Kn(n,e);nV(e[Ut],o,s,n.value,t,r,i)}function nV(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?yf(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function rV(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],p=o[a++],m=o[a++];oS(r,t,c,l,p,m)}}function iV(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}return r}function yS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function vS(n,e){let t=n.contentQueries;if(t!==null){let r=je(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];vD(s),a.contentQueries(2,e[o],o)}}}finally{je(r)}}}function xf(n,e){return n[Au]?n[eT][hr]=e:n[Au]=e,n[eT]=e,e}function lv(n,e,t){vD(0);let r=je(null);try{e(n,t)}finally{je(r)}}function sV(n){return n[Yh]??=[]}function oV(n){return n.cleanup??=[]}function _S(n,e){let t=n[Pa],r=t?t.get(di,null):null;r&&r.handleError(e)}function r_(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],c=t[s++],l=e[o],p=n.data[o];oS(p,l,r,a,c,i)}}function aV(n,e,t){let r=cD(e,n);yL(n[Ut],r,t)}function cV(n,e){let t=ds(e,n),r=t[Me];uV(r,t);let i=t[mi];i!==null&&t[Qh]===null&&(t[Qh]=Yv(i,t[Pa])),i_(r,t,t[fr])}function uV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function i_(n,e,t){Vv(e);try{let r=n.viewQuery;r!==null&&lv(1,r,t);let i=n.template;i!==null&&cS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Oa]?.finishViewCreation(n),n.staticContentQueries&&vS(n,e),n.staticViewQueries&&lv(2,n.viewQuery,t);let s=n.components;s!==null&&lV(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[de]&=-5,Uv()}}function lV(n,e){for(let t=0;t<e.length;t++)cV(n,e[t])}function dV(n,e,t,r){let i=je(null);try{let s=e.tView,a=n[de]&4096?4096:16,c=Rf(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[ka]=l;let p=n[Oa];return p!==null&&(c[Oa]=p.createEmbeddedView(s)),i_(s,c,t),c}finally{je(i)}}function gT(n,e){return!e||e.firstChild===null||jD(n)}function hV(n,e,t,r=!0){let i=e[Me];if(EL(i,e,n,t),r){let o=cv(t,n),a=e[Ut],c=tS(a,n[to]);c!==null&&_L(i,n[pr],a,e,c,o)}let s=e[Qh];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function uf(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(Br(s)),gi(s)&&fV(s,r);let o=t.type;if(o&8)uf(n,e,t.child,r);else if(o&32){let a=Jv(t,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=nS(e,t);if(Array.isArray(a))r.push(...a);else{let c=no(e[jr]);uf(c[Me],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function fV(n,e){for(let t=Gn;t<n.length;t++){let r=n[t],i=r[Me].firstChild;i!==null&&uf(r[Me],r,i,e)}n[to]!==n[mi]&&e.push(n[to])}var wS=[];function pV(n){return n[zn]??mV(n)}function mV(n){let e=wS.pop()??Object.create(yV);return e.lView=n,e}function gV(n){n.lView[zn]!==n&&(n.lView=null,wS.push(n))}var yV=he(j({},vu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{bf(n.lView)},consumerOnSignalRead(){this.lView[zn]=this}});function vV(n){let e=n[zn]??Object.create(_V);return e.lView=n,e}var _V=he(j({},vu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=no(n.lView);for(;e&&!ES(e[Me]);)e=no(e);e&&dD(e)},consumerOnSignalRead(){this.lView[zn]=this}});function ES(n){return n.type!==2}var wV=100;function IS(n,e=!0,t=0){let r=n[Ur],i=r.rendererFactory,s=!1;s||i.begin?.();try{EV(n,t)}catch(o){throw e&&_S(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function EV(n,e){let t=yD();try{nT(!0),dv(n,e);let r=0;for(;If(n);){if(r===wV)throw new V(103,!1);r++,dv(n,1)}}finally{nT(t)}}function IV(n,e,t,r){let i=e[de];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Ur].inlineEffectRunner?.flush(),Vv(e);let a=!0,c=null,l=null;s||(ES(n)?(l=pV(e),c=ch(l)):oC()===null?(a=!1,l=vV(e),c=ch(l)):e[zn]&&(iy(e[zn]),e[zn]=null));try{lD(e),bF(n.bindingStartIndex),t!==null&&cS(n,e,t,2,r);let p=(i&3)===3;if(!s)if(p){let w=n.preOrderCheckHooks;w!==null&&Bh(e,w,null)}else{let w=n.preOrderHooks;w!==null&&$h(e,w,0,null),My(e,0)}if(o||bV(e),bS(e,0),n.contentQueries!==null&&vS(n,e),!s)if(p){let w=n.contentCheckHooks;w!==null&&Bh(e,w)}else{let w=n.contentHooks;w!==null&&$h(e,w,1),My(e,1)}OL(n,e);let m=n.components;m!==null&&TS(e,m,0);let _=n.viewQuery;if(_!==null&&lv(2,_,r),!s)if(p){let w=n.viewCheckHooks;w!==null&&Bh(e,w)}else{let w=n.viewHooks;w!==null&&$h(e,w,2),My(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Ry]){for(let w of e[Ry])w();e[Ry]=null}s||(e[de]&=-73)}catch(p){throw s||bf(e),p}finally{l!==null&&(ny(l,c),a&&gV(l)),Uv()}}function bS(n,e){for(let t=$D(n);t!==null;t=HD(t))for(let r=Gn;r<t.length;r++){let i=t[r];CS(i,e)}}function bV(n){for(let e=$D(n);e!==null;e=HD(e)){if(!(e[de]&Xh.HasTransplantedViews))continue;let t=e[Jh];for(let r=0;r<t.length;r++){let i=t[r];dD(i)}}}function CV(n,e,t){let r=ds(e,n);CS(r,t)}function CS(n,e){Fv(n)&&dv(n,e)}function dv(n,e){let r=n[Me],i=n[de],s=n[zn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&ry(s)),o||=!1,s&&(s.dirty=!1),n[de]&=-9217,o)IV(r,n,r.template,n[fr]);else if(i&8192){bS(n,1);let a=r.components;a!==null&&TS(n,a,1)}}function TS(n,e,t){for(let r=0;r<e.length;r++)CV(n,e[r],t)}function s_(n,e){let t=yD()?64:1088;for(n[Ur].changeDetectionScheduler?.notify(e);n;){n[de]|=t;let r=no(n);if(Wy(n)&&!r)return n;n=r}return null}var oo=class{get rootNodes(){let e=this._lView,t=e[Me];return uf(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fr]}set context(e){this._lView[fr]=e}get destroyed(){return(this._lView[de]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[on];if(gi(e)){let t=e[Zh],r=t?t.indexOf(this):-1;r>-1&&(av(e,r),Wh(t,r))}this._attachedToViewContainer=!1}XD(this._lView[Me],this._lView)}onDestroy(e){hD(this._lView,e)}markForCheck(){s_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[de]&=-129}reattach(){Qy(this._lView),this._lView[de]|=128}detectChanges(){this._lView[de]|=1024,IS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Wy(this._lView),t=this._lView[ka];t!==null&&!e&&Xv(t,this._lView),ZD(this._lView[Me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=Wy(this._lView),r=this._lView[ka];r!==null&&!t&&JD(r,this._lView),Qy(this._lView)}},Nf=(()=>{class n{static{this.__NG_ELEMENT_ID__=SV}}return n})(),TV=Nf,DV=class extends TV{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=dV(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new oo(i)}};function SV(){return AV(Sn(),st())}function AV(n,e){return n.type&4?new DV(e,n,Cf(n,e)):null}var DJ=new RegExp(`^(\\d+)*(${uL}|${cL})*(.*)`);var RV=()=>null;function yT(n,e){return RV(n,e)}var La=class{},Pf=new X("",{providedIn:"root",factory:()=>!1});var DS=new X(""),SS=new X(""),hv=class{},lf=class{};function MV(n){let e=Error(`No component factory found for ${sn(n)}.`);return e[xV]=n,e}var xV="ngComponent";var fv=class{resolveComponentFactory(e){throw MV(e)}},Va=class{static{this.NULL=new fv}},cs=class{},wi=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>NV()}}return n})();function NV(){let n=st(),e=Sn(),t=ds(e.index,n);return(ss(t)?t:n)[Ut]}var PV=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>null})}}return n})();function pv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=qC(i,a);else if(s==2){let c=a,l=e[++o];r=qC(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var df=class extends Va{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=eo(e);return new Ru(t,this.ngModule)}};function vT(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:os.None;e?t.push({propName:o,templateName:r,isSignal:(a&os.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function kV(n){let e=n.toLowerCase();return e==="svg"?cF:e==="math"?uF:null}var Ru=class extends lf{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=vT(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return vT(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=$1(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=je(null);try{i=i||this.ngModule;let o=i instanceof Wn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Zy(e,o):e,c=a.get(cs,null);if(c===null)throw new V(407,!1);let l=a.get(PV,null),p=a.get(La,null),m={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:p},_=c.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",D=r?VL(_,r,this.componentDef.encapsulation,a):YD(_,w,kV(w)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let N=null;D!==null&&(N=Yv(D,a,!0));let F=n_(0,null,null,1,0,null,null,null,null,null,null),q=Rf(null,F,null,P,null,null,m,_,a,null,N);Vv(q);let z,G,be=null;try{let Y=this.componentDef,S,b=null;Y.findHostDirectiveDefs?(S=[],b=new Map,Y.findHostDirectiveDefs(Y,S,b),S.push(Y)):S=[Y];let C=OV(q,D);be=FV(C,D,Y,S,q,m,_),G=uD(F,li),D&&UV(_,Y,D,r),t!==void 0&&jV(G,this.ngContentSelectors,t),z=VV(be,Y,S,b,q,[BV]),i_(F,q,null)}catch(Y){throw be!==null&&sv(be),sv(q),Y}finally{Uv()}return new mv(this.componentType,z,Cf(G,q),q,G)}finally{je(s)}}},mv=class extends hv{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new oo(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;r_(s[Me],s,i,e,t),this.previousInputValues.set(e,t);let o=ds(this._tNode.index,s);s_(o,1)}}get injector(){return new Xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function OV(n,e){let t=n[Me],r=li;return n[r]=e,Mf(t,r,2,"#host",null)}function FV(n,e,t,r,i,s,o){let a=i[Me];LV(r,n,e,o);let c=null;e!==null&&(c=Yv(e,i[Pa]));let l=s.rendererFactory.createRenderer(e,t),p=16;t.signals?p=4096:t.onPush&&(p=64);let m=Rf(i,hS(t),null,p,i[n.index],n,s,l,null,null,c);return a.firstCreatePass&&uv(a,n,r.length-1),xf(i,m),i[n.index]=m}function LV(n,e,t,r){for(let i of n)e.mergedAttrs=Du(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(pv(e,e.mergedAttrs,!0),t!==null&&iS(r,t,e))}function VV(n,e,t,r,i,s){let o=Sn(),a=i[Me],c=Kn(o,i);mS(a,i,o,t,null,r);for(let p=0;p<t.length;p++){let m=o.directiveStart+p,_=Fa(i,a,m,o);so(_,i)}gS(a,i,o),c&&so(c,i);let l=Fa(i,a,o.directiveStart+o.componentOffset,o);if(n[fr]=i[fr]=l,s!==null)for(let p of s)p(l,e);return uS(a,o,i),l}function UV(n,e,t,r){if(r)Hy(n,t,["ng-version","18.2.10"]);else{let{attrs:i,classes:s}=H1(e.selectors[0]);i&&Hy(n,t,i),s&&s.length>0&&rS(n,t,s.join(" "))}}function jV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function BV(){let n=Sn();Hv(st()[Me],n)}var Ha=(()=>{class n{static{this.__NG_ELEMENT_ID__=$V}}return n})();function $V(){let n=Sn();return qV(n,st())}var HV=Ha,AS=class extends HV{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Cf(this._hostTNode,this._hostLView)}get injector(){return new Xs(this._hostTNode,this._hostLView)}get parentInjector(){let e=qv(this._hostTNode,this._hostLView);if(DD(e)){let t=nf(e,this._hostLView),r=tf(e),i=t[Me].data[r+8];return new Xs(i,t)}else return new Xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=_T(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Gn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=yT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,gT(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!iF(e),a;if(o)a=t;else{let D=t||{};a=D.index,r=D.injector,i=D.projectableNodes,s=D.environmentInjector||D.ngModuleRef}let c=o?e:new Ru(eo(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let P=(o?l:this.parentInjector).get(Wn,null);P&&(s=P)}let p=eo(c.componentType??{}),m=yT(this._lContainer,p?.id??null),_=m?.firstChild??null,w=c.create(l,i,_,s);return this.insertImpl(w.hostView,a,gT(this._hostTNode,m)),w}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(dF(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[on],l=new AS(c,c[pr],c[on]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return hV(o,i,s,r),e.attachToViewContainerRef(),jT(Oy(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=_T(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=av(this._lContainer,t);r&&(Wh(Oy(this._lContainer),t),XD(r[Me],r))}detach(e){let t=this._adjustIndex(e,-1),r=av(this._lContainer,t);return r&&Wh(Oy(this._lContainer),t)!=null?new oo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function _T(n){return n[Zh]}function Oy(n){return n[Zh]||(n[Zh]=[])}function qV(n,e){let t,r=e[n.index];return gi(r)?t=r:(t=yS(r,e,null,n),e[n.index]=t,xf(e,t)),GV(t,e,n,r),new AS(t,n,e)}function zV(n,e){let t=n[Ut],r=t.createComment(""),i=Kn(e,n),s=tS(t,i);return cf(t,s,r,DL(t,i),!1),r}var GV=QV,WV=()=>!1;function KV(n,e,t){return WV(n,e,t)}function QV(n,e,t,r){if(n[to])return;let i;t.type&8?i=Br(r):i=zV(e,t),n[to]=i}var wT=new Set;function qa(n){wT.has(n)||(wT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Ou(n,e){qa("NgSignals");let t=yC(n),r=t[Zi];return e?.equal&&(r.equal=e.equal),t.set=i=>sy(r,i),t.update=i=>vC(r,i),t.asReadonly=YV.bind(t),t}function YV(){let n=this[Zi];if(n.readonlyFn===void 0){let e=()=>this();e[Zi]=n,n.readonlyFn=e}return n.readonlyFn}function ZV(n){return Object.getPrototypeOf(n.prototype).constructor}function An(n){let e=ZV(n.type),t=!0,r=[n];for(;e;){let i;if(as(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=Lh(n.inputs),o.inputTransforms=Lh(n.inputTransforms),o.declaredInputs=Lh(n.declaredInputs),o.outputs=Lh(n.outputs);let a=i.hostBindings;a&&n2(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&e2(n,c),l&&t2(n,l),JV(n,i),u1(n.outputs,i.outputs),as(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===An&&(t=!1)}}e=Object.getPrototypeOf(e)}XV(r)}function JV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function XV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Du(i.hostAttrs,t=Du(t,i.hostAttrs))}}function Lh(n){return n===Ma?{}:n===qn?[]:n}function e2(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function t2(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function n2(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var us=class{},Mu=class{};var gv=class extends us{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new df(this);let s=KT(e);this._bootstrapComponents=QD(s.bootstrap),this._r3Injector=OD(e,t,[{provide:us,useValue:this},{provide:Va,useValue:this.componentFactoryResolver},...r],sn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},yv=class extends Mu{constructor(e){super(),this.moduleType=e}create(e){return new gv(this.moduleType,e,[])}};var hf=class extends us{constructor(e){super(),this.componentFactoryResolver=new df(this),this.instance=null;let t=new Su([...e.providers,{provide:us,useValue:this},{provide:Va,useValue:this.componentFactoryResolver}],e.parent||kv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function o_(n,e,t=null){return new hf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function RS(n){return i2(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function r2(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function i2(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function kf(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function s2(n){return(n.flags&32)===32}function o2(n,e,t,r,i,s,o,a,c){let l=e.consts,p=Mf(e,n,4,o||null,a||null);pS(e,t,p,ef(l,c)),Hv(e,p);let m=p.tView=n_(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}function a2(n,e,t,r,i,s,o,a,c,l){let p=t+li,m=e.firstCreatePass?o2(p,e,n,r,i,s,o,a,c):e.data[p];ku(m,!1);let _=c2(e,n,m,t);Bv()&&e_(e,n,_,m),so(_,n);let w=yS(_,n,_,m);return n[p]=w,xf(n,w),KV(w,m,n),Ov(m)&&lS(e,n,m),c!=null&&dS(n,m,l),m}function ze(n,e,t,r,i,s,o,a){let c=st(),l=Qn(),p=ef(l.consts,s);return a2(c,l,n,e,t,r,i,p,o,a),ze}var c2=u2;function u2(n,e,t,r){return $v(!0),e[Ut].createComment("")}var bu=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(bu||{}),l2=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}}return n})(),ET=class n{constructor(){this.ngZone=K(_e),this.scheduler=K(La),this.errorHandler=K(di,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[bu.EarlyRead,bu.Write,bu.MixedReadWrite,bu.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}};function Of(n,e,t,r){let i=st(),s=Lv();if(kf(i,s,e)){let o=Qn(),a=jv();tV(a,i,n,e,t,r)}return Of}function MS(n,e,t,r){return kf(n,Lv(),t)?e+yf(t)+r:co}function Vh(n,e){return n<<17|e<<2}function ao(n){return n>>17&32767}function d2(n){return(n&2)==2}function h2(n,e){return n&131071|e<<17}function vv(n){return n|2}function Ua(n){return(n&131068)>>2}function Fy(n,e){return n&-131069|e<<2}function f2(n){return(n&1)===1}function _v(n){return n|1}function p2(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ao(o),c=Ua(o);n[r]=t;let l=!1,p;if(Array.isArray(t)){let m=t;p=m[1],(p===null||Pu(m,p)>0)&&(l=!0)}else p=t;if(i)if(c!==0){let _=ao(n[a+1]);n[r+1]=Vh(_,a),_!==0&&(n[_+1]=Fy(n[_+1],r)),n[a+1]=h2(n[a+1],r)}else n[r+1]=Vh(a,0),a!==0&&(n[a+1]=Fy(n[a+1],r)),a=r;else n[r+1]=Vh(c,0),a===0?a=r:n[c+1]=Fy(n[c+1],r),c=r;l&&(n[r+1]=vv(n[r+1])),IT(n,p,r,!0),IT(n,p,r,!1),m2(e,p,n,r,s),o=Vh(a,c),s?e.classBindings=o:e.styleBindings=o}function m2(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Pu(s,e)>=0&&(t[r+1]=_v(t[r+1]))}function IT(n,e,t,r){let i=n[t+1],s=e===null,o=r?ao(i):Ua(i),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],l=n[o+1];g2(c,e)&&(a=!0,n[o+1]=r?_v(l):vv(l)),o=r?ao(l):Ua(l)}a&&(n[t+1]=r?vv(i):_v(i))}function g2(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Pu(n,e)>=0:!1}function ue(n,e,t){let r=st(),i=Lv();if(kf(r,i,e)){let s=Qn(),o=jv();fS(s,o,r,n,e,r[Ut],t,!1)}return ue}function bT(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";r_(n,t,s[o],o,r)}function Ff(n,e){return y2(n,e,null,!0),Ff}function y2(n,e,t,r){let i=st(),s=Qn(),o=CF(2);if(s.firstUpdatePass&&_2(s,n,o,r),e!==co&&kf(i,o,e)){let a=s.data[Ba()];C2(s,a,i,i[Ut],n,i[o+1]=T2(e,t),r,o)}}function v2(n,e){return e>=n.expandoStartIndex}function _2(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Ba()],o=v2(n,t);D2(s,r)&&e===null&&!o&&(e=!1),e=w2(i,s,e,r),p2(i,s,e,t,o,r)}}function w2(n,e,t,r){let i=AF(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Ly(null,n,e,t,r),t=xu(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Ly(i,n,e,t,r),s===null){let c=E2(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Ly(null,n,e,c[1],r),c=xu(c,e.attrs,r),I2(n,e,r,c))}else s=b2(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function E2(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ua(r)!==0)return n[ao(r)]}function I2(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ao(i)]=r}function b2(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=xu(r,o,t)}return xu(r,e.attrs,t)}function Ly(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=xu(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function xu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),R1(n,o,t?!0:e[++s]))}return n===void 0?null:n}function C2(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],p=f2(l)?CT(c,e,t,i,Ua(l),o):void 0;if(!ff(p)){ff(s)||d2(l)&&(s=CT(c,null,t,i,a,o));let m=cD(Ba(),t);PL(r,o,m,i,s)}}function CT(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),p=l?c[1]:c,m=p===null,_=t[i+1];_===co&&(_=m?qn:void 0);let w=m?Sy(_,r):p===r?_:void 0;if(l&&!ff(w)&&(w=Sy(c,r)),ff(w)&&(a=w,o))return a;let D=n[i+1];i=o?ao(D):Ua(D)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Sy(c,r))}return a}function ff(n){return n!==void 0}function T2(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=sn(Df(n)))),n}function D2(n,e){return(n.flags&(e?8:16))!==0}function S2(n,e,t,r,i,s){let o=e.consts,a=ef(o,i),c=Mf(e,n,2,r,a);return pS(e,t,c,ef(o,s)),c.attrs!==null&&pv(c,c.attrs,!1),c.mergedAttrs!==null&&pv(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function B(n,e,t,r){let i=st(),s=Qn(),o=li+n,a=i[Ut],c=s.firstCreatePass?S2(o,s,i,e,t,r):s.data[o],l=A2(s,i,c,a,e,n);i[o]=l;let p=Ov(c);return ku(c,!0),iS(a,l,c),!s2(c)&&Bv()&&e_(s,i,l,c),pF()===0&&so(l,i),mF(),p&&(lS(s,i,c),uS(s,c,i)),r!==null&&dS(i,c),B}function H(){let n=Sn();gD()?EF():(n=n.parent,ku(n,!1));let e=n;vF(e)&&_F(),gF();let t=Qn();return t.firstCreatePass&&(Hv(t,n),rD(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&OF(e)&&bT(t,e,st(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&FF(e)&&bT(t,e,st(),e.stylesWithoutHost,!1),H}function vt(n,e,t,r){return B(n,e,t,r),H(),vt}var A2=(n,e,t,r,i,s)=>($v(!0),YD(r,i,xF()));function jt(){return st()}var pf="en-US";var R2=pf;function M2(n){typeof n=="string"&&(R2=n.toLowerCase().replace(/_/g,"-"))}var x2=(n,e,t)=>{};function Se(n,e,t,r){let i=st(),s=Qn(),o=Sn();return P2(s,i,i[Ut],o,n,e,r),Se}function N2(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[Yh],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function P2(n,e,t,r,i,s,o){let a=Ov(r),l=n.firstCreatePass&&oV(n),p=e[fr],m=sV(e),_=!0;if(r.type&3||o){let P=Kn(r,e),N=o?o(P):P,F=m.length,q=o?G=>o(Br(G[r.index])):r.index,z=null;if(!o&&a&&(z=N2(n,e,i,r.index)),z!==null){let G=z.__ngLastListenerFn__||z;G.__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,_=!1}else{s=DT(r,e,p,s),x2(P,i,s);let G=t.listen(N,i,s);m.push(s,G),l&&l.push(i,q,F,F+1)}}else s=DT(r,e,p,s);let w=r.outputs,D;if(_&&w!==null&&(D=w[i])){let P=D.length;if(P)for(let N=0;N<P;N+=2){let F=D[N],q=D[N+1],be=e[F][q].subscribe(s),Y=m.length;m.push(s,be),l&&l.push(i,r.index,Y,-(Y+1))}}}function TT(n,e,t,r){let i=je(null);try{return Fr(6,e,t),t(r)!==!1}catch(s){return _S(n,s),!1}finally{Fr(7,e,t),je(i)}}function DT(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?ds(n.index,e):e;s_(o,5);let a=TT(e,t,r,s),c=i.__ngNextListenerFn__;for(;c;)a=TT(e,t,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function me(n=1){return MF(n)}function a_(n,e,t){return xS(n,"",e,"",t),a_}function xS(n,e,t,r,i){let s=st(),o=MS(s,e,t,r);if(o!==co){let a=Qn(),c=jv();fS(a,c,s,n,o,s[Ut],i,!1)}return xS}function NS(n){let e=IF();return lF(e,li+n)}function ie(n,e=""){let t=st(),r=Qn(),i=n+li,s=r.firstCreatePass?Mf(r,i,1,e,null):r.data[i],o=k2(r,t,s,e,n);t[i]=o,Bv()&&e_(r,t,o,s),ku(s,!1)}var k2=(n,e,t,r,i)=>($v(!0),gL(e[Ut],r));function pn(n){return za("",n,""),pn}function za(n,e,t){let r=st(),i=MS(r,n,e,t);return i!==co&&aV(r,Ba(),i),za}function O2(n,e,t){let r=Qn();if(r.firstCreatePass){let i=as(n);wv(t,r.data,r.blueprint,i,!0),wv(e,r.data,r.blueprint,i,!1)}}function wv(n,e,t,r,i){if(n=rn(n),Array.isArray(n))for(let s=0;s<n.length;s++)wv(n[s],e,t,r,i);else{let s=Qn(),o=st(),a=Sn(),c=Na(n)?n:rn(n.provide),l=eD(n),p=a.providerIndexes&1048575,m=a.directiveStart,_=a.providerIndexes>>20;if(Na(n)||!n.multi){let w=new io(l,i,re),D=Uy(c,e,i?p:p+_,m);D===-1?(Xy(rf(a,o),s,c),Vy(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),o.push(w)):(t[D]=w,o[D]=w)}else{let w=Uy(c,e,p+_,m),D=Uy(c,e,p,p+_),P=w>=0&&t[w],N=D>=0&&t[D];if(i&&!N||!i&&!P){Xy(rf(a,o),s,c);let F=V2(i?L2:F2,t.length,i,r,l);!i&&N&&(t[D].providerFactory=F),Vy(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),o.push(F)}else{let F=PS(t[i?D:w],l,!i&&r);Vy(s,n,w>-1?w:D,F)}!i&&r&&N&&t[D].componentProviders++}}}function Vy(n,e,t,r){let i=Na(e),s=Y1(e);if(i||s){let c=(s?rn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let p=l.indexOf(t);p===-1?l.push(t,[r,c]):l[p+1].push(r,c)}else l.push(t,c)}}}function PS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Uy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function F2(n,e,t,r){return Ev(this.multi,[])}function L2(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Fa(t,t[Me],this.providerFactory.index,r);s=a.slice(0,o),Ev(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Ev(i,s);return s}function Ev(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function V2(n,e,t,r,i){let s=new io(n,t,re);return s.multi=[],s.index=e,s.componentProviders=0,PS(s,i,r&&!t),s}function Ei(n,e=[]){return t=>{t.providersResolver=(r,i)=>O2(r,i?i(n):n,e)}}var U2=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ZT(!1,t.type),i=r.length>0?o_([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ne({token:n,providedIn:"environment",factory:()=>new n(ae(Wn))})}}return n})();function Yn(n){qa("NgStandalone"),n.getStandaloneInjector=e=>e.get(U2).getOrCreateStandaloneInjector(n)}var fi=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},kS=new fi("18.2.10");var Lf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var c_=new X(""),Fu=new X(""),Vf=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,u_||(j2(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(ae(_e),ae(Uf),ae(Fu))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),Uf=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return u_?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function j2(n){u_=n}var u_;function uo(n){return!!n&&typeof n.then=="function"}function OS(n){return!!n&&typeof n.subscribe=="function"}var jf=new X(""),FS=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=K(jf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(uo(s))t.push(s);else if(OS(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),l_=new X("");function B2(){gC(()=>{throw new V(600,!1)})}function $2(n){return n.isBoundToModule}var H2=10;function q2(n,e,t){try{let r=t();return uo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var fs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(tL),this.afterRenderManager=K(l2),this.zonelessEnabled=K(Pf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new zt,this.afterTick=new zt,this.componentTypes=[],this.components=[],this.isStable=K($a).hasPendingTasks.pipe(Te(t=>!t)),this._injector=K(Wn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof lf;if(!this._injector.get(FS).done){let _=!i&&WT(t),w=!1;throw new V(405,w)}let o;i?o=t:o=this._injector.get(Va).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=$2(o)?void 0:this._injector.get(us),c=r||o.selector,l=o.create(Ot.NULL,[],c,a),p=l.location.nativeElement,m=l.injector.get(c_,null);return m?.registerApplication(p),l.onDestroy(()=>{this.detachView(l.hostView),Hh(this.components,l),m?.unregisterApplication(p)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new V(101,!1);let t=je(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,je(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(cs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<H2;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)z2(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>If(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Hh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(l_,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Hh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Hh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function z2(n,e,t,r){if(!t&&!If(n))return;IS(n,e,t&&!r?0:1)}var Iv=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},d_=(()=>{class n{compileModuleSync(t){return new yv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=KT(t),s=QD(i.declarations).reduce((o,a)=>{let c=eo(a);return c&&o.push(new Ru(c)),o},[]);return new Iv(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var G2=(()=>{class n{constructor(){this.zone=K(_e),this.changeDetectionScheduler=K(La),this.applicationRef=K(fs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),W2=new X("",{factory:()=>!1});function LS({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(he(j({},US()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:xa,multi:!0,useFactory:()=>{let r=K(G2,{optional:!0});return()=>r.initialize()}},{provide:xa,multi:!0,useFactory:()=>{let r=K(K2);return()=>{r.initialize()}}},e===!0?{provide:DS,useValue:!0}:[],{provide:SS,useValue:t??FD}]}function VS(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=LS({ngZoneFactory:()=>{let i=US(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&qa("NgZone_CoalesceEvent"),new _e(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return fn([{provide:W2,useValue:!0},{provide:Pf,useValue:!1},r])}function US(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var K2=(()=>{class n{constructor(){this.subscription=new dt,this.initialized=!1,this.zone=K(_e),this.pendingTasks=K($a)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Q2=(()=>{class n{constructor(){this.appRef=K(fs),this.taskService=K($a),this.ngZone=K(_e),this.zonelessEnabled=K(Pf),this.disableScheduling=K(DS,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new dt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(of):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(K(SS,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof iv||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?cT:VD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(of+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Y2(){return typeof $localize<"u"&&$localize.locale||pf}var h_=new X("",{providedIn:"root",factory:()=>K(h_,Ce.Optional|Ce.SkipSelf)||Y2()});var bv=new X("");function Uh(n){return!n.moduleRef}function Z2(n){let e=Uh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{Uh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(di,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),Uh(n)){let s=()=>e.destroy(),o=n.platformInjector.get(bv);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(bv);o.add(s),n.moduleRef.onDestroy(()=>{Hh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return q2(r,t,()=>{let s=e.get(FS);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(h_,pf);if(M2(o||pf),Uh(n)){let a=e.get(fs);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return J2(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function J2(n,e){let t=n.injector.get(fs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new V(-403,!1);e.push(n)}var qh=null;function X2(n=[],e){return Ot.create({name:e,providers:[{provide:_f,useValue:"platform"},{provide:bv,useValue:new Set([()=>qh=null])},...n]})}function eU(n=[]){if(qh)return qh;let e=X2(n);return qh=e,B2(),tU(e),e}function tU(n){n.get(Wv,null)?.forEach(t=>t())}var Ga=(()=>{class n{static{this.__NG_ELEMENT_ID__=nU}}return n})();function nU(n){return rU(Sn(),st(),(n&16)===16)}function rU(n,e,t){if(Ef(n)&&!t){let r=ds(n.index,e);return new oo(r,r)}else if(n.type&175){let r=e[jr];return new oo(r,e)}return null}var Cv=class{constructor(){}supports(e){return RS(e)}create(e){return new Tv(e)}},iU=(n,e)=>e,Tv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||iU}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<ST(r,i,s)?t:r,a=ST(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,p=c-i;if(l!=p){for(let _=0;_<l;_++){let w=_<s.length?s[_]:s[_]=0,D=w+_;p<=D&&D<l&&(s[_]=w+1)}let m=o.previousIndex;s[m]=p-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!RS(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,r2(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Dv(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new mf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new mf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Dv=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Sv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},mf=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Sv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ST(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function AT(){return new f_([new Cv])}var f_=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:AT})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||AT()),deps:[[n,new UT,new ut]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();var jS=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(ae(fs))}}static{this.\u0275mod=Dn({type:n})}static{this.\u0275inj=Cn({})}}return n})();function BS(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=eU(r),s=[LS({}),{provide:La,useExisting:Q2},...t||[]],o=new hf({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Z2({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Bf(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Lu(n,e){qa("NgSignals");let t=fC(n);return e?.equal&&(t[Zi].equal=e.equal),t}function Ii(n){let e=je(null);try{return n()}finally{je(e)}}var GS=null;function Hr(){return GS}function WS(n){GS??=n}var $f=class{};var mn=new X(""),KS=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>K(aU),providedIn:"platform"})}}return n})();var aU=(()=>{class n extends KS{constructor(){super(),this._doc=K(mn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hr().getBaseHref(this._doc)}onPopState(t){let r=Hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function QS(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function $S(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function lo(n){return n&&n[0]!=="?"?"?"+n:n}var qf=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>K(YS),providedIn:"root"})}}return n})(),cU=new X(""),YS=(()=>{class n extends qf{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??K(mn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return QS(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+lo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+lo(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+lo(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ae(KS),ae(cU,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Vu=(()=>{class n{constructor(t){this._subject=new Ct,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=dU($S(HS(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+lo(r))}normalize(t){return n.stripTrailingSlash(lU(this._basePath,HS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=lo}static{this.joinWithSlash=QS}static{this.stripTrailingSlash=$S}static{this.\u0275fac=function(r){return new(r||n)(ae(qf))}}static{this.\u0275prov=ne({token:n,factory:()=>uU(),providedIn:"root"})}}return n})();function uU(){return new Vu(ae(qf))}function lU(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function HS(n){return n.replace(/\/index.html$/,"")}function dU(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function ZS(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var p_=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Wa=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new p_(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),qS(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);qS(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(re(Ha),re(Nf),re(f_))}}static{this.\u0275dir=ht({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function qS(n,e){n.context.$implicit=e.item}var ps=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new m_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(re(Ha),re(Nf))}}static{this.\u0275dir=ht({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),m_=class{constructor(){this.$implicit=null,this.ngIf=null}};function zS(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${sn(e)}'.`)}var Zn=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Dn({type:n})}static{this.\u0275inj=Cn({})}}return n})(),JS="browser",hU="server";function g_(n){return n===hU}var Hf=class{};var __=class extends $f{constructor(){super(...arguments),this.supportsDOMEvents=!0}},w_=class n extends __{static makeCurrent(){WS(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=fU();return t==null?null:pU(t)}resetBaseElement(){Uu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ZS(document.cookie,e)}},Uu=null;function fU(){return Uu=Uu||document.querySelector("base"),Uu?Uu.getAttribute("href"):null}function pU(n){return new URL(n,document.baseURI).pathname}var E_=class{addToWindow(e){ls.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new V(5103,!1);return s},ls.getAllAngularTestabilities=()=>e.getAllTestabilities(),ls.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=ls.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};ls.frameworkStabilizers||(ls.frameworkStabilizers=[]),ls.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?Hr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},mU=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),I_=new X(""),tA=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ae(I_),ae(_e))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),Gf=class{constructor(e){this._doc=e}},y_="ng-app-id",nA=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=g_(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${y_}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(y_),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(y_,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ae(mn),ae(Tf),ae(Qv,8),ae(hs))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),v_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},C_=/%COMP%/g,rA="%COMP%",gU=`_nghost-${rA}`,yU=`_ngcontent-${rA}`,vU=!0,_U=new X("",{providedIn:"root",factory:()=>vU});function wU(n){return yU.replace(C_,n)}function EU(n){return gU.replace(C_,n)}function iA(n,e){return e.map(t=>t.replace(C_,n))}var Wf=(()=>{class n{constructor(t,r,i,s,o,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=g_(a),this.defaultRenderer=new ju(t,o,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Vr.ShadowDom&&(r=he(j({},r),{encapsulation:Vr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Kf?i.applyToHost(t):i instanceof Bu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Vr.Emulated:s=new Kf(c,l,r,this.appId,p,o,a,m);break;case Vr.ShadowDom:return new b_(c,l,t,r,o,a,this.nonce,m);default:s=new Bu(c,l,r,p,o,a,m);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ae(tA),ae(nA),ae(Tf),ae(_U),ae(mn),ae(hs),ae(_e),ae(Qv))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),ju=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(v_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(XS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(XS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=v_[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=v_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(hi.DashCase|hi.Important)?e.style.setProperty(t,r,i&hi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&hi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Hr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function XS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var b_=class extends ju{constructor(e,t,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=iA(i.id,i.styles);for(let p of l){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Bu=class extends ju{constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?iA(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Kf=class extends Bu{constructor(e,t,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,t,r,s,o,a,c,l),this.contentAttr=wU(l),this.hostAttr=EU(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},IU=(()=>{class n extends Gf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ae(mn))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),eA=["alt","control","meta","shift"],bU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},TU=(()=>{class n extends Gf{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),eA.forEach(l=>{let p=r.indexOf(l);p>-1&&(r.splice(p,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=bU[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),eA.forEach(o=>{if(o!==i){let a=CU[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ae(mn))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();function sA(n,e){return BS(j({rootComponent:n},DU(e)))}function DU(n){return{appProviders:[...oA,...n?.providers??[]],platformProviders:MU}}function SU(){w_.makeCurrent()}function AU(){return new di}function RU(){return zD(document),document}var MU=[{provide:hs,useValue:JS},{provide:Wv,useValue:SU,multi:!0},{provide:mn,useFactory:RU,deps:[]}];var xU=new X(""),NU=[{provide:Fu,useClass:E_,deps:[]},{provide:c_,useClass:Vf,deps:[_e,Uf,Fu]},{provide:Vf,useClass:Vf,deps:[_e,Uf,Fu]}],oA=[{provide:_f,useValue:"root"},{provide:di,useFactory:AU,deps:[]},{provide:I_,useClass:IU,multi:!0,deps:[mn,_e,hs]},{provide:I_,useClass:TU,multi:!0,deps:[mn]},Wf,nA,tA,{provide:cs,useExisting:Wf},{provide:Hf,useClass:mU,deps:[]},[]],aA=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Tf,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(ae(xU,12))}}static{this.\u0275mod=Dn({type:n})}static{this.\u0275inj=Cn({providers:[...oA,...NU],imports:[Zn,jS]})}}return n})();var cA=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ae(mn))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var we="primary",il=Symbol("RouteTitle"),R_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Xa(n){return new R_(n)}function FU(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function LU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!qr(n[t],e[t]))return!1;return!0}function qr(n,e){let t=n?M_(n):void 0,r=e?M_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!gA(n[i],e[i]))return!1;return!0}function M_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function gA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function yA(n){return n.length>0?n[n.length-1]:null}function ms(n){return _y(n)?n:uo(n)?yt(Promise.resolve(n)):ye(n)}var VU={exact:_A,subset:wA},vA={exact:UU,subset:jU,ignored:()=>!0};function uA(n,e,t){return VU[t.paths](n.root,e.root,t.matrixParams)&&vA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function UU(n,e){return qr(n,e)}function _A(n,e,t){if(!fo(n.segments,e.segments)||!Zf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!_A(n.children[r],e.children[r],t))return!1;return!0}function jU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gA(n[t],e[t]))}function wA(n,e,t){return EA(n,e,e.segments,t)}function EA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!fo(i,t)||e.hasChildren()||!Zf(i,t,r))}else if(n.segments.length===t.length){if(!fo(n.segments,t)||!Zf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!wA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!fo(n.segments,i)||!Zf(n.segments,i,r)||!n.children[we]?!1:EA(n.children[we],e,s,r)}}function Zf(n,e,t){return e.every((r,i)=>vA[t](n[i].parameters,r.parameters))}var Ci=class{constructor(e=new Ke([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xa(this.queryParams),this._queryParamMap}toString(){return HU.serialize(this)}},Ke=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jf(this)}},ho=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Xa(this.parameters),this._parameterMap}toString(){return bA(this)}};function BU(n,e){return fo(n,e)&&n.every((t,r)=>qr(t.parameters,e[r].parameters))}function fo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function $U(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===we&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==we&&(t=t.concat(e(i,r)))}),t}var nw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>new Ku,providedIn:"root"})}}return n})(),Ku=class{parse(e){let t=new N_(e);return new Ci(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${$u(e.root,!0)}`,r=GU(e.queryParams),i=typeof e.fragment=="string"?`#${qU(e.fragment)}`:"";return`${t}${r}${i}`}},HU=new Ku;function Jf(n){return n.segments.map(e=>bA(e)).join("/")}function $u(n,e){if(!n.hasChildren())return Jf(n);if(e){let t=n.children[we]?$u(n.children[we],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==we&&r.push(`${i}:${$u(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=$U(n,(r,i)=>i===we?[$u(n.children[we],!1)]:[`${i}:${$u(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[we]!=null?`${Jf(n)}/${t[0]}`:`${Jf(n)}/(${t.join("//")})`}}function IA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qf(n){return IA(n).replace(/%3B/gi,";")}function qU(n){return encodeURI(n)}function x_(n){return IA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xf(n){return decodeURIComponent(n)}function lA(n){return Xf(n.replace(/\+/g,"%20"))}function bA(n){return`${x_(n.path)}${zU(n.parameters)}`}function zU(n){return Object.entries(n).map(([e,t])=>`;${x_(e)}=${x_(t)}`).join("")}function GU(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Qf(t)}=${Qf(i)}`).join("&"):`${Qf(t)}=${Qf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var WU=/^[^\/()?;#]+/;function T_(n){let e=n.match(WU);return e?e[0]:""}var KU=/^[^\/()?;=#]+/;function QU(n){let e=n.match(KU);return e?e[0]:""}var YU=/^[^=?&#]+/;function ZU(n){let e=n.match(YU);return e?e[0]:""}var JU=/^[^&#]+/;function XU(n){let e=n.match(JU);return e?e[0]:""}var N_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ke([],{}):new Ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[we]=new Ke(e,t)),r}parseSegment(){let e=T_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new ho(Xf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=QU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=T_(this.remaining);i&&(r=i,this.capture(r))}e[Xf(t)]=Xf(r)}parseQueryParam(e){let t=ZU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=XU(this.remaining);o&&(r=o,this.capture(r))}let i=lA(t),s=lA(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=T_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=we);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[we]:new Ke([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function CA(n){return n.segments.length>0?new Ke([],{[we]:n}):n}function TA(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=TA(i);if(r===we&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Ke(n.segments,e);return ej(t)}function ej(n){if(n.numberOfChildren===1&&n.children[we]){let e=n.children[we];return new Ke(n.segments.concat(e.segments),e.children)}return n}function Qu(n){return n instanceof Ci}function tj(n,e,t=null,r=null){let i=DA(n);return SA(i,e,t,r)}function DA(n){let e;function t(s){let o={};for(let c of s.children){let l=t(c);o[c.outlet]=l}let a=new Ke(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=CA(r);return e??i}function SA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return D_(i,i,i,t,r);let s=nj(e);if(s.toRoot())return D_(i,i,new Ke([],{}),t,r);let o=rj(s,i,n),a=o.processChildren?zu(o.segmentGroup,o.index,s.commands):RA(o.segmentGroup,o.index,s.commands);return D_(i,o.segmentGroup,a,t,r)}function ep(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Yu(n){return typeof n=="object"&&n!=null&&n.outlets}function D_(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(p=>`${p}`):`${l}`});let o;n===e?o=t:o=AA(n,e,t);let a=CA(TA(o));return new Ci(a,s,i)}function AA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=AA(s,e,t)}),new Ke(n.segments,r)}var tp=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ep(r[0]))throw new V(4003,!1);let i=r.find(Yu);if(i&&i!==yA(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new tp(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new tp(t,e,r)}var Ya=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function rj(n,e,t){if(n.isAbsolute)return new Ya(e,!0,0);if(!t)return new Ya(e,!1,NaN);if(t.parent===null)return new Ya(t,!0,0);let r=ep(n.commands[0])?0:1,i=t.segments.length-1+r;return ij(t,i,n.numberOfDoubleDots)}function ij(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new Ya(r,!1,i-s)}function sj(n){return Yu(n[0])?n[0].outlets:{[we]:n}}function RA(n,e,t){if(n??=new Ke([],{}),n.segments.length===0&&n.hasChildren())return zu(n,e,t);let r=oj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Ke(n.segments.slice(0,r.pathIndex),{});return s.children[we]=new Ke(n.segments.slice(r.pathIndex),n.children),zu(s,0,i)}else return r.match&&i.length===0?new Ke(n.segments,{}):r.match&&!n.hasChildren()?P_(n,e,t):r.match?zu(n,0,i):P_(n,e,t)}function zu(n,e,t){if(t.length===0)return new Ke(n.segments,{});{let r=sj(t),i={};if(Object.keys(r).some(s=>s!==we)&&n.children[we]&&n.numberOfChildren===1&&n.children[we].segments.length===0){let s=zu(n.children[we],e,t);return new Ke(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=RA(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ke(n.segments,i)}}function oj(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Yu(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!hA(c,l,o))return s;r+=2}else{if(!hA(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function P_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Yu(s)){let c=aj(s.outlets);return new Ke(r,c)}if(i===0&&ep(t[0])){let c=n.segments[e];r.push(new ho(c.path,dA(t[0]))),i++;continue}let o=Yu(s)?s.outlets[we]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&ep(a)?(r.push(new ho(o,dA(a))),i+=2):(r.push(new ho(o,{})),i++)}return new Ke(r,{})}function aj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=P_(new Ke([],{}),0,r))}),e}function dA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function hA(n,e,t){return n==t.path&&qr(e,t.parameters)}var Gu="imperative",Wt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Wt||{}),Jn=class{constructor(e,t){this.id=e,this.url=t}},Zu=class extends Jn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Wt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},po=class extends Jn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Wt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(xn||{}),k_=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(k_||{}),bi=class extends Jn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Wt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mo=class extends Jn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Wt.NavigationSkipped}},Ju=class extends Jn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Wt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},np=class extends Jn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Wt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},O_=class extends Jn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Wt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},F_=class extends Jn{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Wt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},L_=class extends Jn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Wt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},V_=class extends Jn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Wt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},U_=class{constructor(e){this.route=e,this.type=Wt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},j_=class{constructor(e){this.route=e,this.type=Wt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},B_=class{constructor(e){this.snapshot=e,this.type=Wt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$_=class{constructor(e){this.snapshot=e,this.type=Wt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},H_=class{constructor(e){this.snapshot=e,this.type=Wt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},q_=class{constructor(e){this.snapshot=e,this.type=Wt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Xu=class{},ec=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function cj(n,e){return n.providers&&!n._injector&&(n._injector=o_(n.providers,e,`Route: ${n.path}`)),n._injector??e}function mr(n){return n.outlet||we}function uj(n,e){let t=n.filter(r=>mr(r)===e);return t.push(...n.filter(r=>mr(r)!==e)),t}function sl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var z_=class{get injector(){return sl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new up(this.rootInjector),this.attachRef=null}},up=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new z_(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(ae(Wn))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=G_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=G_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=W_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return W_(e,this._root).map(t=>t.value)}};function G_(n,e){if(n===e.value)return e;for(let t of e.children){let r=G_(n,t);if(r)return r}return null}function W_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=W_(n,t);if(r.length)return r.unshift(e),r}return[]}var Mn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Qa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ip=class extends rp{constructor(e,t){super(e),this.snapshot=t,rw(this,e)}toString(){return this.snapshot.toString()}};function MA(n){let e=lj(n),t=new Gt([new ho("",{})]),r=new Gt({}),i=new Gt({}),s=new Gt({}),o=new Gt(""),a=new tc(t,r,s,o,i,we,n,e.root);return a.snapshot=e.root,new ip(new Mn(a,[]),e)}function lj(n){let e={},t={},r={},i="",s=new Za([],e,r,i,t,we,n,null,{});return new op("",new Mn(s,[]))}var tc=class{constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Te(l=>l[il]))??ye(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Te(e=>Xa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Te(e=>Xa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&NA(i)&&(r.resolve[il]=i.title),r}var Za=class{get title(){return this.data?.[il]}constructor(e,t,r,i,s,o,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},op=class extends rp{constructor(e,t){super(t),this.url=e,rw(this,t)}toString(){return xA(this._root)}};function rw(n,e){e.value._routerState=n,e.children.forEach(t=>rw(n,t))}function xA(n){let e=n.children.length>0?` { ${n.children.map(xA).join(", ")} } `:"";return`${n.value}${e}`}function S_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,qr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),qr(e.params,t.params)||n.paramsSubject.next(t.params),LU(e.url,t.url)||n.urlSubject.next(t.url),qr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function K_(n,e){let t=qr(n.params,e.params)&&BU(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||K_(n.parent,e.parent))}function NA(n){return typeof n.title=="string"||n.title===null}var iw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new Ct,this.deactivateEvents=new Ct,this.attachEvents=new Ct,this.detachEvents=new Ct,this.parentContexts=K(up),this.location=K(Ha),this.changeDetector=K(Ga),this.inputBinder=K(sw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Q_(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ht({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yi]})}}return n})(),Q_=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===tc?this.route:e===up?this.childContexts:this.parent.get(e,t)}},sw=new X("");function dj(n,e,t){let r=el(n,e._root,t?t._root:void 0);return new ip(r,e)}function el(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=hj(n,e,t);return new Mn(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>el(n,a)),o}}let r=fj(e.value),i=e.children.map(s=>el(n,s));return new Mn(r,i)}}function hj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return el(n,r,i);return el(n,r)})}function fj(n){return new tc(new Gt(n.url),new Gt(n.params),new Gt(n.queryParams),new Gt(n.fragment),new Gt(n.data),n.outlet,n.component,n)}var tl=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},PA="ngNavigationCancelingError";function ap(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Qu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=kA(!1,xn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function kA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[PA]=!0,t.cancellationCode=e,t}function pj(n){return OA(n)&&Qu(n.url)}function OA(n){return!!n&&n[PA]}var mj=(n,e,t,r)=>Te(i=>(new Y_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Y_=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),S_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Qa(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Qa(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Qa(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Qa(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new q_(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $_(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(S_(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),S_(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},cp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ja=class{constructor(e,t){this.component=e,this.route=t}};function gj(n,e,t){let r=n._root,i=e?e._root:null;return Hu(r,i,t,[r.value])}function yj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function rc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!NT(n)?n:e.get(n):r}function Hu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Qa(e);return n.children.forEach(o=>{vj(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Wu(a,t.getContext(o),i)),i}function vj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=_j(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new cp(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Hu(n,e,a?a.children:null,r,i):Hu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ja(a.outlet.component,o))}else o&&Wu(e,a,i),i.canActivateChecks.push(new cp(r)),s.component?Hu(n,null,a?a.children:null,r,i):Hu(n,null,t,r,i);return i}function _j(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!fo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!fo(n.url,e.url)||!qr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!K_(n,e)||!qr(n.queryParams,e.queryParams);case"paramsChange":default:return!K_(n,e)}}function Wu(n,e,t){let r=Qa(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Wu(o,e.children.getContext(s),t):Wu(o,null,t):Wu(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ja(e.outlet.component,i)):t.canDeactivateChecks.push(new Ja(null,i)):t.canDeactivateChecks.push(new Ja(null,i))}function ol(n){return typeof n=="function"}function wj(n){return typeof n=="boolean"}function Ej(n){return n&&ol(n.canLoad)}function Ij(n){return n&&ol(n.canActivate)}function bj(n){return n&&ol(n.canActivateChild)}function Cj(n){return n&&ol(n.canDeactivate)}function Tj(n){return n&&ol(n.canMatch)}function FA(n){return n instanceof ci||n?.name==="EmptyError"}var Yf=Symbol("INITIAL_VALUE");function nc(){return lr(n=>Ph(n.map(e=>e.pipe(ui(1),Ty(Yf)))).pipe(Te(e=>{for(let t of e)if(t!==!0){if(t===Yf)return Yf;if(t===!1||Dj(t))return t}return!0}),ur(e=>e!==Yf),ui(1)))}function Dj(n){return Qu(n)||n instanceof tl}function Sj(n,e){return Pt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?ye(he(j({},t),{guardsResult:!0})):Aj(o,r,i,n).pipe(Pt(a=>a&&wj(a)?Rj(r,s,n,e):ye(a)),Te(a=>he(j({},t),{guardsResult:a})))})}function Aj(n,e,t,r){return yt(n).pipe(Pt(i=>kj(i.component,i.route,t,e,r)),Or(i=>i!==!0,!0))}function Rj(n,e,t,r){return yt(e).pipe(Ia(i=>Ea(xj(i.route.parent,r),Mj(i.route,r),Pj(n,i.path,t),Nj(n,i.route,t))),Or(i=>i!==!0,!0))}function Mj(n,e){return n!==null&&e&&e(new H_(n)),ye(!0)}function xj(n,e){return n!==null&&e&&e(new B_(n)),ye(!0)}function Nj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ye(!0);let i=r.map(s=>kh(()=>{let o=sl(e)??t,a=rc(s,o),c=Ij(a)?a.canActivate(e,n):pi(o,()=>a(e,n));return ms(c).pipe(Or())}));return ye(i).pipe(nc())}function Pj(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>yj(o)).filter(o=>o!==null).map(o=>kh(()=>{let a=o.guards.map(c=>{let l=sl(o.node)??t,p=rc(c,l),m=bj(p)?p.canActivateChild(r,n):pi(l,()=>p(r,n));return ms(m).pipe(Or())});return ye(a).pipe(nc())}));return ye(s).pipe(nc())}function kj(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ye(!0);let o=s.map(a=>{let c=sl(e)??i,l=rc(a,c),p=Cj(l)?l.canDeactivate(n,e,t,r):pi(c,()=>l(n,e,t,r));return ms(p).pipe(Or())});return ye(o).pipe(nc())}function Oj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ye(!0);let s=i.map(o=>{let a=rc(o,n),c=Ej(a)?a.canLoad(e,t):pi(n,()=>a(e,t));return ms(c)});return ye(s).pipe(nc(),LA(r))}function LA(n){return dy(kt(e=>{if(typeof e!="boolean")throw ap(n,e)}),Te(e=>e===!0))}function Fj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ye(!0);let s=i.map(o=>{let a=rc(o,n),c=Tj(a)?a.canMatch(e,t):pi(n,()=>a(e,t));return ms(c)});return ye(s).pipe(nc(),LA(r))}var nl=class{constructor(e){this.segmentGroup=e||null}},rl=class extends Error{constructor(e){super(),this.urlTree=e}};function Ka(n){return wa(new nl(n))}function Lj(n){return wa(new V(4e3,!1))}function Vj(n){return wa(kA(!1,xn.GuardRejected))}var Z_=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ye(r);if(i.numberOfChildren>1||!i.children[we])return Lj(`${e.redirectTo}`);i=i.children[we]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:p,url:m,outlet:_,params:w,data:D,title:P}=i,N=pi(s,()=>a({params:w,data:D,queryParams:c,fragment:l,routeConfig:p,url:m,outlet:_,title:P}));if(N instanceof Ci)throw new rl(N);t=N}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new rl(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Ci(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Ke(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},J_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uj(n,e,t,r,i){let s=VA(n,e,t);return s.matched?(r=cj(e,r),Fj(r,e,t,i).pipe(Te(o=>o===!0?s:j({},J_)))):ye(s)}function VA(n,e,t){if(e.path==="**")return jj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},J_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||FU)(t,n,e);if(!i)return j({},J_);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?j(j({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function jj(n){return{matched:!0,parameters:n.length>0?yA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function fA(n,e,t,r){return t.length>0&&Hj(n,t,r)?{segmentGroup:new Ke(e,$j(r,new Ke(t,n.children))),slicedSegments:[]}:t.length===0&&qj(n,t,r)?{segmentGroup:new Ke(n.segments,Bj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ke(n.segments,n.children),slicedSegments:t}}function Bj(n,e,t,r){let i={};for(let s of t)if(lp(n,e,s)&&!r[mr(s)]){let o=new Ke([],{});i[mr(s)]=o}return j(j({},r),i)}function $j(n,e){let t={};t[we]=e;for(let r of n)if(r.path===""&&mr(r)!==we){let i=new Ke([],{});t[mr(r)]=i}return t}function Hj(n,e,t){return t.some(r=>lp(n,e,r)&&mr(r)!==we)}function qj(n,e,t){return t.some(r=>lp(n,e,r))}function lp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function zj(n,e,t){return e.length===0&&!n.children[t]}var X_=class{};function Gj(n,e,t,r,i,s,o="emptyOnly"){return new ew(n,e,t,r,i,o,s).recognize()}var Wj=31,ew=class{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Z_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=fA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Te(({children:t,rootSnapshot:r})=>{let i=new Mn(r,t),s=new op("",i),o=tj(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Za([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),we,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,we,t).pipe(Te(r=>({children:r,rootSnapshot:t})),ts(r=>{if(r instanceof rl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof nl?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(Te(o=>o instanceof Mn?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return yt(s).pipe(Ia(o=>{let a=r.children[o],c=uj(t,o);return this.processSegmentGroup(e,c,a,o,i)}),Cy((o,a)=>(o.push(...a),o)),ns(null),by(),Pt(o=>{if(o===null)return Ka(r);let a=UA(o);return Kj(a),ye(a)}))}processSegment(e,t,r,i,s,o,a){return yt(t).pipe(Ia(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a).pipe(ts(l=>{if(l instanceof nl)return ye(null);throw l}))),Or(c=>!!c),ts(c=>{if(FA(c))return zj(r,i,s)?ye(new X_):Ka(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,c){return mr(r)!==o&&(o===we||!lp(i,s,r))?Ka(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c):Ka(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:l,consumedSegments:p,positionalParamSegments:m,remainingSegments:_}=VA(t,i,s);if(!c)return Ka(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Wj&&(this.allowRedirects=!1));let w=new Za(s,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,pA(i),mr(i),i.component??i._loadedComponent??null,i,mA(i)),D=sp(w,a,this.paramsInheritanceStrategy);w.params=Object.freeze(D.params),w.data=Object.freeze(D.data);let P=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,m,w,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(Pt(N=>this.processSegment(e,r,t,N.concat(_),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=Uj(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(lr(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(lr(({routes:l})=>{let p=r._loadedInjector??e,{parameters:m,consumedSegments:_,remainingSegments:w}=c,D=new Za(_,m,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,pA(r),mr(r),r.component??r._loadedComponent??null,r,mA(r)),P=sp(D,o,this.paramsInheritanceStrategy);D.params=Object.freeze(P.params),D.data=Object.freeze(P.data);let{segmentGroup:N,slicedSegments:F}=fA(t,_,w,l);if(F.length===0&&N.hasChildren())return this.processChildren(p,l,N,D).pipe(Te(z=>new Mn(D,z)));if(l.length===0&&F.length===0)return ye(new Mn(D,[]));let q=mr(r)===s;return this.processSegment(p,l,N,F,q?we:s,!0,D).pipe(Te(z=>new Mn(D,z instanceof Mn?[z]:[])))}))):Ka(t)))}getChildConfig(e,t,r){return t.children?ye({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ye({routes:t._loadedRoutes,injector:t._loadedInjector}):Oj(e,t,r,this.urlSerializer).pipe(Pt(i=>i?this.configLoader.loadChildren(e,t).pipe(kt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):Vj(t))):ye({routes:[],injector:e})}};function Kj(n){n.sort((e,t)=>e.value.outlet===we?-1:t.value.outlet===we?1:e.value.outlet.localeCompare(t.value.outlet))}function Qj(n){let e=n.value.routeConfig;return e&&e.path===""}function UA(n){let e=[],t=new Set;for(let r of n){if(!Qj(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=UA(r.children);e.push(new Mn(r.value,i))}return e.filter(r=>!t.has(r))}function pA(n){return n.data||{}}function mA(n){return n.resolve||{}}function Yj(n,e,t,r,i,s){return Pt(o=>Gj(n,e,t,r,o.extractedUrl,i,s).pipe(Te(({state:a,tree:c})=>he(j({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Zj(n,e){return Pt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ye(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of jA(c))o.add(l);let a=0;return yt(o).pipe(Ia(c=>s.has(c)?Jj(c,r,n,e):(c.data=sp(c,c.parent,n).resolve,ye(void 0))),kt(()=>a++),ba(1),Pt(c=>a===o.size?ye(t):bn))})}function jA(n){let e=n.children.map(t=>jA(t)).flat();return[n,...e]}function Jj(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!NA(i)&&(s[il]=i.title),Xj(s,n,e,r).pipe(Te(o=>(n._resolvedData=o,n.data=sp(n,n.parent,t).resolve,null)))}function Xj(n,e,t,r){let i=M_(n);if(i.length===0)return ye({});let s={};return yt(i).pipe(Pt(o=>eB(n[o],e,t,r).pipe(Or(),kt(a=>{if(a instanceof tl)throw ap(new Ku,a);s[o]=a}))),ba(1),Iy(s),ts(o=>FA(o)?bn:wa(o)))}function eB(n,e,t,r){let i=sl(e)??r,s=rc(n,i),o=s.resolve?s.resolve(e,t):pi(i,()=>s(e,t));return ms(o)}function A_(n){return lr(e=>{let t=n(e);return t?yt(t).pipe(Te(()=>e)):ye(e)})}var BA=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===we);return r}getResolvedTitleForRoute(t){return t.data[il]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>K(tB),providedIn:"root"})}}return n})(),tB=(()=>{class n extends BA{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ae(cA))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ow=new X("",{providedIn:"root",factory:()=>({})}),nB=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Tn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Yn],decls:1,vars:0,template:function(r,i){r&1&&vt(0,"router-outlet")},dependencies:[iw],encapsulation:2})}}return n})();function aw(n){let e=n.children&&n.children.map(aw),t=e?he(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==we&&(t.component=nB),t}var cw=new X(""),rB=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(d_)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ye(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ms(t.loadComponent()).pipe(Te($A),kt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Eu(()=>{this.componentLoaders.delete(t)})),i=new ga(r,()=>new zt).pipe(ma());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ye({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=iB(r,this.compiler,t,this.onLoadEndListener).pipe(Eu(()=>{this.childrenLoaders.delete(r)})),o=new ga(s,()=>new zt).pipe(ma());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function iB(n,e,t,r){return ms(n.loadChildren()).pipe(Te($A),Pt(i=>i instanceof Mu||Array.isArray(i)?ye(i):yt(e.compileModuleAsync(i))),Te(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(cw,[],{optional:!0,self:!0}).flat()),{routes:o.map(aw),injector:s}}))}function sB(n){return n&&typeof n=="object"&&"default"in n}function $A(n){return sB(n)?n.default:n}var uw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>K(oB),providedIn:"root"})}}return n})(),oB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),aB=new X("");var cB=new X(""),uB=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new zt,this.transitionAbortSubject=new zt,this.configLoader=K(rB),this.environmentInjector=K(Wn),this.urlSerializer=K(nw),this.rootContexts=K(up),this.location=K(Vu),this.inputBindingEnabled=K(sw,{optional:!0})!==null,this.titleStrategy=K(BA),this.options=K(ow,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=K(uw),this.createViewTransition=K(aB,{optional:!0}),this.navigationErrorHandler=K(cB,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ye(void 0),this.rootComponentType=null;let t=i=>this.events.next(new U_(i)),r=i=>this.events.next(new j_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(he(j(j({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Gt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Gu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ur(s=>s.id!==0),Te(s=>he(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),lr(s=>{let o=!1,a=!1;return ye(s).pipe(lr(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",xn.SupersededByNewNavigation),bn;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?he(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&p!=="reload"){let m="";return this.events.next(new mo(c.id,this.urlSerializer.serialize(c.rawUrl),m,k_.IgnoredSameUrlNavigation)),c.resolve(!1),bn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ye(c).pipe(lr(m=>{let _=this.transitions?.getValue();return this.events.next(new Zu(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?bn:Promise.resolve(m)}),Yj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),kt(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=he(j({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let _=new np(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:m,extractedUrl:_,source:w,restoredState:D,extras:P}=c,N=new Zu(m,this.urlSerializer.serialize(_),w,D);this.events.next(N);let F=MA(this.rootComponentType).snapshot;return this.currentTransition=s=he(j({},c),{targetSnapshot:F,urlAfterRedirects:_,extras:he(j({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ye(s)}else{let m="";return this.events.next(new mo(c.id,this.urlSerializer.serialize(c.extractedUrl),m,k_.IgnoredByUrlHandlingStrategy)),c.resolve(!1),bn}}),kt(c=>{let l=new O_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Te(c=>(this.currentTransition=s=he(j({},c),{guards:gj(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),Sj(this.environmentInjector,c=>this.events.next(c)),kt(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw ap(this.urlSerializer,c.guardsResult);let l=new F_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),ur(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",xn.GuardRejected),!1)),A_(c=>{if(c.guards.canActivateChecks.length)return ye(c).pipe(kt(l=>{let p=new L_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(p)}),lr(l=>{let p=!1;return ye(l).pipe(Zj(this.paramsInheritanceStrategy,this.environmentInjector),kt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(l,"",xn.NoDataFromResolver)}}))}),kt(l=>{let p=new V_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(p)}))}),A_(c=>{let l=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(kt(_=>{p.component=_}),Te(()=>{})));for(let _ of p.children)m.push(...l(_));return m};return Ph(l(c.targetSnapshot.root)).pipe(ns(null),ui(1))}),A_(()=>this.afterPreactivation()),lr(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,p=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return p?yt(p).pipe(Te(()=>s)):ye(s)}),Te(c=>{let l=dj(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=he(j({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),kt(()=>{this.events.next(new Xu)}),mj(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ui(1),kt({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new po(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),Dy(this.transitionAbortSubject.pipe(kt(c=>{throw c}))),Eu(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",xn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ts(c=>{if(a=!0,OA(c))this.events.next(new bi(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),pj(c)?this.events.next(new ec(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let l=new Ju(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let p=pi(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(p instanceof tl){let{message:m,cancellationCode:_}=ap(this.urlSerializer,p);this.events.next(new bi(s.id,this.urlSerializer.serialize(s.extractedUrl),m,_)),this.events.next(new ec(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(l);let m=t.errorHandler(c);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return bn}))}))}cancelNavigationTransition(t,r,i){let s=new bi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function lB(n){return n!==Gu}var dB=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>K(hB),providedIn:"root"})}}return n})(),tw=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},hB=(()=>{class n extends tw{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vi(n)))(i||n)}})()}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),HA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:()=>K(fB),providedIn:"root"})}}return n})(),fB=(()=>{class n extends HA{constructor(){super(...arguments),this.location=K(Vu),this.urlSerializer=K(nw),this.options=K(ow,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=K(uw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ci,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=MA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Zu)this.stateMemento=this.createStateMemento();else if(t instanceof mo)this.rawUrlTree=r.initialUrl;else if(t instanceof np){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Xu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof bi&&(t.code===xn.GuardRejected||t.code===xn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ju?this.restoreHistory(r,!0):t instanceof po&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Ci?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=j(j({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vi(n)))(i||n)}})()}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(qu||{});function pB(n,e){n.events.pipe(ur(t=>t instanceof po||t instanceof bi||t instanceof Ju||t instanceof mo),Te(t=>t instanceof po||t instanceof mo?qu.COMPLETE:(t instanceof bi?t.code===xn.Redirect||t.code===xn.SupersededByNewNavigation:!1)?qu.REDIRECTING:qu.FAILED),ur(t=>t!==qu.REDIRECTING),ui(1)).subscribe(()=>{e()})}function mB(n){throw n}var gB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=K(Lf),this.stateManager=K(HA),this.options=K(ow,{optional:!0})||{},this.pendingTasks=K($a),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=K(uB),this.urlSerializer=K(nw),this.location=K(Vu),this.urlHandlingStrategy=K(uw),this._events=new zt,this.errorHandler=this.options.errorHandler||mB,this.navigated=!1,this.routeReuseStrategy=K(dB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=K(cw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!K(sw,{optional:!0}),this.eventsSubscription=new dt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof bi&&r.code!==xn.Redirect&&r.code!==xn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof po)this.navigated=!0;else if(r instanceof ec){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lB(i.source)},o);this.scheduleNavigation(a,Gu,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_B(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=j({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(aw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let _=i?i.snapshot:this.routerState.snapshot.root;m=DA(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return SA(m,t,p,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Qu(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Gu,null,r)}navigate(t,r={skipLocationChange:!1}){return vB(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},gB):r===!1?i=j({},yB):i=r,Qu(t))return uA(this.currentUrlTree,t,i);let s=this.parseUrl(t);return uA(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((m,_)=>{a=m,c=_});let p=this.pendingTasks.add();return pB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function vB(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}function _B(n){return!(n instanceof Xu)&&!(n instanceof ec)}var wB=new X("");function qA(n,...e){return fn([{provide:cw,multi:!0,useValue:n},[],{provide:tc,useFactory:EB,deps:[zr]},{provide:l_,multi:!0,useFactory:IB},e.map(t=>t.\u0275providers)])}function EB(n){return n.routerState.root}function IB(){let n=K(Ot);return e=>{let t=n.get(fs);if(e!==t.components[0])return;let r=n.get(zr),i=n.get(bB);n.get(CB)===1&&r.initialNavigation(),n.get(TB,null,Ce.Optional)?.setUpPreloading(),n.get(wB,null,Ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var bB=new X("",{factory:()=>new zt}),CB=new X("",{providedIn:"root",factory:()=>1});var TB=new X("");var GA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},DB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},WA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,p=s>>2,m=(s&3)<<4|a>>4,_=(a&15)<<2|l>>6,w=l&63;c||(w=64,o||(_=64)),r.push(t[p],t[m],t[_],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(GA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):DB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let m=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||l==null||m==null)throw new dw;let _=s<<2|a>>4;if(r.push(_),l!==64){let w=a<<4&240|l>>2;if(r.push(w),m!==64){let D=l<<6&192|m;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},dw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},SB=function(n){let e=GA(n);return WA.encodeByteArray(e,!0)},al=function(n){return SB(n).replace(/\./g,"")},fw=function(n){try{return WA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var RB=()=>AB().__FIREBASE_DEFAULTS__,MB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&fw(n[1]);return e&&JSON.parse(e)},fp=()=>{try{return RB()||MB()||xB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pw=n=>{var e,t;return(t=(e=fp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},pp=n=>{let e=pw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},mw=()=>{var n;return(n=fp())===null||n===void 0?void 0:n.config},gw=n=>{var e;return(e=fp())===null||e===void 0?void 0:e[`_${n}`]};var hp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function mp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[al(JSON.stringify(t)),al(JSON.stringify(o)),""].join(".")}function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function NB(){var n;let e=(n=fp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YA(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ZA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JA(){let n=Bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function XA(){return!NB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cl(){try{return typeof indexedDB=="object"}catch{return!1}}function gp(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function eR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var PB="FirebaseError",Kt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=PB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nn.prototype.create)}},Nn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?kB(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Kt(i,a,r)}};function kB(n,e){return n.replace(OB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var OB=/\{\$([^}]+)}/g;function tR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function go(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(zA(s)&&zA(o)){if(!go(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function zA(n){return n!==null&&typeof n=="object"}function ul(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ic(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function sc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function nR(n,e){let t=new hw(n,e);return t.subscribe.bind(t)}var hw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");FB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=lw),i.error===void 0&&(i.error=lw),i.complete===void 0&&(i.complete=lw);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function FB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function lw(){}var GX=4*60*60*1e3;function nt(n){return n&&n._delegate?n._delegate:n}var Tt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var yo="[DEFAULT]";var yw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new hp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VB(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LB(n){return n===yo?void 0:n}function VB(n){return n.instantiationMode==="EAGER"}var yp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new yw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var UB=[],xe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(xe||{}),jB={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},BB=xe.INFO,$B={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},HB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=$B[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},gs=class{constructor(e){this.name=e,this._logLevel=BB,this._logHandler=HB,this._userLogHandler=null,UB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}};var qB=(n,e)=>e.some(t=>n instanceof t),rR,iR;function zB(){return rR||(rR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GB(){return iR||(iR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var sR=new WeakMap,_w=new WeakMap,oR=new WeakMap,vw=new WeakMap,Ew=new WeakMap;function WB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(gr(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&sR.set(t,n)}).catch(()=>{}),Ew.set(e,n),e}function KB(n){if(_w.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});_w.set(n,e)}var ww={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _w.get(n);if(e==="objectStoreNames")return n.objectStoreNames||oR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function aR(n){ww=n(ww)}function QB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(vp(this),e,...t);return oR.set(r,e.sort?e.sort():[e]),gr(r)}:GB().includes(n)?function(...e){return n.apply(vp(this),e),gr(sR.get(this))}:function(...e){return gr(n.apply(vp(this),e))}}function YB(n){return typeof n=="function"?QB(n):(n instanceof IDBTransaction&&KB(n),qB(n,zB())?new Proxy(n,ww):n)}function gr(n){if(n instanceof IDBRequest)return WB(n);if(vw.has(n))return vw.get(n);let e=YB(n);return e!==n&&(vw.set(n,e),Ew.set(e,n)),e}var vp=n=>Ew.get(n);function vo(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=gr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(gr(o.result),c.oldVersion,c.newVersion,gr(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function _p(n,{blocked:e}={}){let t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),gr(t).then(()=>{})}var ZB=["get","getKey","getAll","getAllKeys","count"],JB=["put","add","delete","clear"],Iw=new Map;function cR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Iw.get(e))return Iw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=JB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZB.includes(t)))return;let s=function(o,...a){return I(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return Iw.set(e,s),s}aR(n=>he(j({},n),{get:(e,t,r)=>cR(e,t)||n.get(e,t,r),has:(e,t)=>!!cR(e,t)||n.has(e,t)}));var Cw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function XB(n){let e=n.getComponent();return e?.type==="VERSION"}var Tw="@firebase/app",uR="0.10.13";var Ti=new gs("@firebase/app"),e$="@firebase/app-compat",t$="@firebase/analytics-compat",n$="@firebase/analytics",r$="@firebase/app-check-compat",i$="@firebase/app-check",s$="@firebase/auth",o$="@firebase/auth-compat",a$="@firebase/database",c$="@firebase/data-connect",u$="@firebase/database-compat",l$="@firebase/functions",d$="@firebase/functions-compat",h$="@firebase/installations",f$="@firebase/installations-compat",p$="@firebase/messaging",m$="@firebase/messaging-compat",g$="@firebase/performance",y$="@firebase/performance-compat",v$="@firebase/remote-config",_$="@firebase/remote-config-compat",w$="@firebase/storage",E$="@firebase/storage-compat",I$="@firebase/firestore",b$="@firebase/vertexai-preview",C$="@firebase/firestore-compat",T$="firebase",D$="10.14.1";var Dw="[DEFAULT]",S$={[Tw]:"fire-core",[e$]:"fire-core-compat",[n$]:"fire-analytics",[t$]:"fire-analytics-compat",[i$]:"fire-app-check",[r$]:"fire-app-check-compat",[s$]:"fire-auth",[o$]:"fire-auth-compat",[a$]:"fire-rtdb",[c$]:"fire-data-connect",[u$]:"fire-rtdb-compat",[l$]:"fire-fn",[d$]:"fire-fn-compat",[h$]:"fire-iid",[f$]:"fire-iid-compat",[p$]:"fire-fcm",[m$]:"fire-fcm-compat",[g$]:"fire-perf",[y$]:"fire-perf-compat",[v$]:"fire-rc",[_$]:"fire-rc-compat",[w$]:"fire-gcs",[E$]:"fire-gcs-compat",[I$]:"fire-fst",[C$]:"fire-fst-compat",[b$]:"fire-vertex","fire-js":"fire-js",[T$]:"fire-js-all"};var ll=new Map,A$=new Map,Sw=new Map;function lR(n,e){try{n.container.addComponent(e)}catch(t){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xt(n){let e=n.name;if(Sw.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Sw.set(e,n);for(let t of ll.values())lR(t,n);for(let t of A$.values())lR(t,n);return!0}function Xn(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yr(n){return n.settings!==void 0}var R$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new Nn("app","Firebase",R$);var Aw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}};var Gr=D$;function xw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Dw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ys.create("bad-app-name",{appName:String(i)});if(t||(t=mw()),!t)throw ys.create("no-options");let s=ll.get(i);if(s){if(go(t,s.options)&&go(r,s.config))return s;throw ys.create("duplicate-app",{appName:i})}let o=new yp(i);for(let c of Sw.values())o.addComponent(c);let a=new Aw(t,r,o);return ll.set(i,a),a}function vr(n=Dw){let e=ll.get(n);if(!e&&n===Dw&&mw())return xw();if(!e)throw ys.create("no-app",{appName:n});return e}function wp(){return Array.from(ll.values())}function He(n,e,t){var r;let i=(r=S$[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(a.join(" "));return}Xt(new Tt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var M$="firebase-heartbeat-database",x$=1,dl="firebase-heartbeat-store",bw=null;function pR(){return bw||(bw=vo(M$,x$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dl)}catch(t){console.warn(t)}}}}).catch(n=>{throw ys.create("idb-open",{originalErrorMessage:n.message})})),bw}function N$(n){return I(this,null,function*(){try{let t=(yield pR()).transaction(dl),r=yield t.objectStore(dl).get(mR(n));return yield t.done,r}catch(e){if(e instanceof Kt)Ti.warn(e.message);else{let t=ys.create("idb-get",{originalErrorMessage:e?.message});Ti.warn(t.message)}}})}function dR(n,e){return I(this,null,function*(){try{let r=(yield pR()).transaction(dl,"readwrite");yield r.objectStore(dl).put(e,mR(n)),yield r.done}catch(t){if(t instanceof Kt)Ti.warn(t.message);else{let r=ys.create("idb-set",{originalErrorMessage:t?.message});Ti.warn(r.message)}}})}function mR(n){return`${n.name}!${n.options.appId}`}var P$=1024,k$=30*24*60*60*1e3,Rw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Mw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hR();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=k$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ti.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=hR(),{heartbeatsToSend:r,unsentEntries:i}=O$(this._heartbeatsCache.heartbeats),s=al(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ti.warn(t),""}})}};function hR(){return new Date().toISOString().substring(0,10)}function O$(n,e=P$){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),fR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Mw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return cl()?gp().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield N$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return dR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return dR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function fR(n){return al(JSON.stringify({version:2,heartbeats:n})).length}function F$(n){Xt(new Tt("platform-logger",e=>new Cw(e),"PRIVATE")),Xt(new Tt("heartbeat",e=>new Rw(e),"PRIVATE")),He(Tw,uR,n),He(Tw,uR,"esm2017"),He("fire-js","")}F$("");var L$="firebase",V$="10.14.1";He(L$,V$,"app");var _r=new fi("ANGULARFIRE2_VERSION"),gR=n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`;function _s(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Di=(n,e)=>{let t=e?[e]:wp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},vs=class{constructor(){return Di(U$)}},U$="app-check";function oc(){}var Ep=class{zone;delegate;constructor(e,t=yy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},Nw=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oc,{},oc,oc)),t.pipe(kt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Wr=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Ep(Zone.current)),this.insideAngular=t.run(()=>new Ep(Zone.current,gy)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ae(_e))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ip(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function j$(n){return Ip().ngZone.runOutsideAngular(()=>n())}function _o(n){return Ip().ngZone.run(()=>n())}function B$(n){return $$(Ip())(n)}function $$(n){return function(t){return t=t.lift(new Nw(n.ngZone)),t.pipe(es(n.outsideAngular),Xi(n.insideAngular))}}var H$=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),_o(()=>n.apply(void 0,r))},ot=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=_o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oc,{},oc,oc))),r[s]=H$(r[s],t));let i=j$(()=>n.apply(this,r));if(!e)if(i instanceof Fe){let s=Ip();return i.pipe(es(s.outsideAngular),Xi(s.insideAngular))}else return _o(()=>i);return i instanceof Fe?i.pipe(B$):i instanceof Promise?_o(()=>new Promise((s,o)=>i.then(a=>_o(()=>s(a)),a=>_o(()=>o(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:_o(()=>i)};var Pn=class{constructor(e){return e}},wr=class{constructor(){return wp()}};function q$(n){return n&&n.length===1?n[0]:new Pn(vr())}var Pw=new X("angularfire2._apps"),z$={provide:Pn,useFactory:q$,deps:[[new ut,Pw]]},G$={provide:wr,deps:[[new ut,Pw]]};function W$(n){return(e,t)=>{let r=t.get(hs);He("angularfire",_r.full,"core"),He("angularfire",_r.full,"app"),He("angular",kS.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Pn(i)}}function yR(n,...e){return fn([z$,G$,{provide:Pw,useFactory:W$(n),multi:!0,deps:[_e,Ot,Wr,...e]}])}var vR=ot(xw,!0);function OR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var FR=OR,LR=new Nn("auth","Firebase",OR());var Ap=new gs("@firebase/auth");function K$(n,...e){Ap.logLevel<=xe.WARN&&Ap.warn(`Auth (${Gr}): ${n}`,...e)}function Cp(n,...e){Ap.logLevel<=xe.ERROR&&Ap.error(`Auth (${Gr}): ${n}`,...e)}function Qr(n,...e){throw nE(n,...e)}function wo(n,...e){return nE(n,...e)}function VR(n,e,t){let r=Object.assign(Object.assign({},FR()),{[e]:t});return new Nn("auth","Firebase",r).create(e,{appName:n.name})}function Ri(n){return VR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return LR.create(n,...e)}function oe(n,e,...t){if(!n)throw nE(e,...t)}function Si(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Cp(e),new Error(e)}function Es(n,e){n||Si(e)}function Lw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Q$(){return _R()==="http:"||_R()==="https:"}function _R(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Y$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q$()||YA()||"connection"in navigator)?navigator.onLine:!0}function Z$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Eo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Es(t>e,"Short delay should be less than long delay!"),this.isMobile=KA()||ZA()}get(){return Y$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function rE(n,e){Es(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Rp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var J$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var X$=new Eo(3e4,6e4);function Mi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function xi(s,o,a,c){return I(this,arguments,function*(n,e,t,r,i={}){return UR(n,i,()=>I(this,null,function*(){let l={},p={};r&&(e==="GET"?p=r:l={body:JSON.stringify(r)});let m=ul(Object.assign({key:n.config.apiKey},p)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let w=Object.assign({method:e,headers:_},l);return QA()||(w.referrerPolicy="no-referrer"),Rp.fetch()(jR(n,n.config.apiHost,t,m),w)}))})}function UR(n,e,t){return I(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},J$),e);try{let i=new Vw(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw bp(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw bp(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw bp(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw bp(n,"user-disabled",o);let p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw VR(n,p,l);Qr(n,p)}}catch(i){if(i instanceof Kt)throw i;Qr(n,"network-request-failed",{message:String(i)})}})}function _l(s,o,a,c){return I(this,arguments,function*(n,e,t,r,i={}){let l=yield xi(n,e,t,r,i);return"mfaPendingCredential"in l&&Qr(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function jR(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?rE(n.config,i):`${n.config.apiScheme}://${i}`}function eH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Vw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wo(this.auth,"network-request-failed")),X$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function bp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=wo(n,e,r);return i.customData._tokenResponse=t,i}function wR(n){return n!==void 0&&n.enterprise!==void 0}var Uw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return eH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function tH(n,e){return I(this,null,function*(){return xi(n,"GET","/v2/recaptchaConfig",Mi(n,e))})}function nH(n,e){return I(this,null,function*(){return xi(n,"POST","/v1/accounts:delete",e)})}function BR(n,e){return I(this,null,function*(){return xi(n,"POST","/v1/accounts:lookup",e)})}function hl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function iE(n,e=!1){return I(this,null,function*(){let t=nt(n),r=yield t.getIdToken(e),i=sE(r);oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:hl(kw(i.auth_time)),issuedAtTime:hl(kw(i.iat)),expirationTime:hl(kw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function kw(n){return Number(n)*1e3}function sE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Cp("JWT malformed, contained fewer than 3 sections"),null;try{let i=fw(t);return i?JSON.parse(i):(Cp("Failed to decode base64 JWT payload"),null)}catch(i){return Cp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ER(n){let e=sE(n);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function pl(n,e,t=!1){return I(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Kt&&rH(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function rH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var jw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),t)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ml=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Mp(n){return I(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield pl(n,BR(t,{idToken:r}));oe(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$R(s.providerUserInfo):[],a=iH(n.providerData,o),c=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!a?.length,p=c?l:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ml(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,m)})}function oE(n){return I(this,null,function*(){let e=nt(n);yield Mp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function iH(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $R(n){return n.map(e=>{var{providerId:t}=e,r=vy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function sH(n,e){return I(this,null,function*(){let t=yield UR(n,{},()=>I(this,null,function*(){let r=ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=jR(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Rp.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function oH(n,e){return I(this,null,function*(){return xi(n,"POST","/v2/accounts:revokeToken",Mi(n,e))})}var fl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ER(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){oe(e.length!==0,"internal-error");let t=ER(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return I(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield sH(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Si("not implemented")}};function ws(n,e){oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ac=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=vy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ml(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let t=yield pl(this,this.stsTokenManager.getToken(this.auth,e));return oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return iE(this,e)}reload(){return oE(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Mp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(yr(this.auth.app))return Promise.reject(Ri(this.auth));let e=yield this.getIdToken();return yield pl(this,nH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,l,p;let m=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,w=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,D=(o=t.photoURL)!==null&&o!==void 0?o:void 0,P=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,q=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:z,emailVerified:G,isAnonymous:be,providerData:Y,stsTokenManager:S}=t;oe(z&&S,e,"internal-error");let b=fl.fromJSON(this.name,S);oe(typeof z=="string",e,"internal-error"),ws(m,e.name),ws(_,e.name),oe(typeof G=="boolean",e,"internal-error"),oe(typeof be=="boolean",e,"internal-error"),ws(w,e.name),ws(D,e.name),ws(P,e.name),ws(N,e.name),ws(F,e.name),ws(q,e.name);let C=new n({uid:z,auth:e,email:_,emailVerified:G,displayName:m,isAnonymous:be,photoURL:D,phoneNumber:w,tenantId:P,stsTokenManager:b,createdAt:F,lastLoginAt:q});return Y&&Array.isArray(Y)&&(C.providerData=Y.map(A=>Object.assign({},A))),N&&(C._redirectEventId=N),C}static _fromIdTokenResponse(e,t,r=!1){return I(this,null,function*(){let i=new fl;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Mp(s),s})}static _fromGetAccountInfoResponse(e,t,r){return I(this,null,function*(){let i=t.users[0];oe(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?$R(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new fl;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ml(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var IR=new Map;function Ai(n){Es(n instanceof Function,"Expected a class definition");let e=IR.get(n);return e?(Es(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,IR.set(n,e),e)}var aH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(t,r){return I(this,null,function*(){this.storage[t]=r})}_get(t){return I(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return I(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Bw=aH;function Tp(n,e,t){return`firebase:${n}:${e}:${t}`}var xp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Tp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Tp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ac._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return I(this,null,function*(){if(!t.length)return new n(Ai(Bw),e,r);let i=(yield Promise.all(t.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Ai(Bw),o=Tp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let p=yield l._get(o);if(p){let m=ac._fromJSON(e,p);l!==s&&(a=m),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(l=>I(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function bR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KR(e))return"Blackberry";if(QR(e))return"Webos";if(qR(e))return"Safari";if((e.includes("chrome/")||zR(e))&&!e.includes("edge/"))return"Chrome";if(WR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function HR(n=Bt()){return/firefox\//i.test(n)}function qR(n=Bt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zR(n=Bt()){return/crios\//i.test(n)}function GR(n=Bt()){return/iemobile/i.test(n)}function WR(n=Bt()){return/android/i.test(n)}function KR(n=Bt()){return/blackberry/i.test(n)}function QR(n=Bt()){return/webos/i.test(n)}function aE(n=Bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cH(n=Bt()){var e;return aE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uH(){return JA()&&document.documentMode===10}function YR(n=Bt()){return aE(n)||WR(n)||QR(n)||KR(n)||/windows phone/i.test(n)||GR(n)}function ZR(n,e=[]){let t;switch(n){case"Browser":t=bR(Bt());break;case"Worker":t=`${bR(Bt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Gr}/${r}`}var $w=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function lH(t){return I(this,arguments,function*(n,e={}){return xi(n,"GET","/v2/passwordPolicy",Mi(n,e))})}var dH=6,Hw=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:dH,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var qw=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Np(this),this.idTokenSubscription=new Np(this),this.beforeStateQueue=new $w(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield xp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let t=yield BR(this,{idToken:e}),r=yield ac._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var t;if(yr(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Mp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Z$()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(yr(this.app))return Promise.reject(Ri(this));let t=e?nt(e):null;return t&&oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return I(this,null,function*(){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return yr(this.app)?Promise.reject(Ri(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return yr(this.app)?Promise.reject(Ri(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(Ai(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield lH(this),t=new Hw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield oH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ai(e)||this._popupRedirectResolver;oe(t,this,"argument-error"),this.redirectPersistenceManager=yield xp.create(this,[Ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return I(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&K$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function bo(n){return nt(n)}var Np=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=nR(t=>this.observer=t)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Up={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hH(n){Up=n}function JR(n){return Up.loadJS(n)}function fH(){return Up.recaptchaEnterpriseScript}function pH(){return Up.gapiScript}function XR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var mH="recaptcha-enterprise",gH="NO_RECAPTCHA",zw=class{constructor(e){this.type=mH,this.auth=bo(e)}verify(e="verify",t=!1){return I(this,null,function*(){function r(s){return I(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>I(this,null,function*(){tH(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Uw(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;wR(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(gH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&wR(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=fH();c.length!==0&&(c+=a),JR(c).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function CR(n,e,t,r=!1){return I(this,null,function*(){let i=new zw(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Gw(n,e,t,r){return I(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield CR(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>I(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield CR(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)}))})}function cE(n,e){let t=Xn(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(go(s,e??{}))return i;Qr(i,"already-initialized")}return t.initialize({options:e})}function yH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ai);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function uE(n,e,t){let r=bo(n);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=eM(e),{host:o,port:a}=vH(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||_H()}function eM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function vH(n){let e=eM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:TR(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:TR(o)}}}function TR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function _H(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var gl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Si("not implemented")}_getIdTokenResponse(e){return Si("not implemented")}_linkToIdToken(e,t){return Si("not implemented")}_getReauthenticationResolver(e){return Si("not implemented")}};function wH(n,e){return I(this,null,function*(){return xi(n,"POST","/v1/accounts:signUp",e)})}function EH(n,e){return I(this,null,function*(){return _l(n,"POST","/v1/accounts:signInWithPassword",Mi(n,e))})}function IH(n,e){return I(this,null,function*(){return xi(n,"POST","/v1/accounts:sendOobCode",Mi(n,e))})}function bH(n,e){return I(this,null,function*(){return IH(n,e)})}function CH(n,e){return I(this,null,function*(){return _l(n,"POST","/v1/accounts:signInWithEmailLink",Mi(n,e))})}function TH(n,e){return I(this,null,function*(){return _l(n,"POST","/v1/accounts:signInWithEmailLink",Mi(n,e))})}var yl=class n extends gl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gw(e,t,"signInWithPassword",EH);case"emailLink":return CH(e,{email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}})}_linkToIdToken(e,t){return I(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gw(e,r,"signUpPassword",wH);case"emailLink":return TH(e,{idToken:t,email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ow(n,e){return I(this,null,function*(){return _l(n,"POST","/v1/accounts:signInWithIdp",Mi(n,e))})}function DH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SH(n){let e=ic(sc(n)).link,t=e?ic(sc(e)).deep_link_id:null,r=ic(sc(n)).deep_link_id;return(r?ic(sc(r)).link:null)||r||t||e||n}var Pp=class n{constructor(e){var t,r,i,s,o,a;let c=ic(sc(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,m=DH((i=c.mode)!==null&&i!==void 0?i:null);oe(l&&p&&m,"argument-error"),this.apiKey=l,this.operation=m,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=SH(e);try{return new n(t)}catch{return null}}};var tM=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return yl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Pp.parseLink(r);return oe(i,"argument-error"),yl._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),kp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ww=class extends kp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function AH(n,e){return I(this,null,function*(){return _l(n,"POST","/v1/accounts:signUp",Mi(n,e))})}var cc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return I(this,null,function*(){let s=yield ac._fromIdTokenResponse(e,r,i),o=DR(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=DR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function DR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Kw=class n extends Kt{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function nM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Kw._fromErrorAndOperation(n,s,e,r):s})}function RH(n,e,t=!1){return I(this,null,function*(){let r=yield pl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return cc._forOperation(n,"link",r)})}function MH(n,e,t=!1){return I(this,null,function*(){let{auth:r}=n;if(yr(r.app))return Promise.reject(Ri(r));let i="reauthenticate";try{let s=yield pl(n,nM(r,i,e,n),t);oe(s.idToken,r,"internal-error");let o=sE(s.idToken);oe(o,r,"internal-error");let{sub:a}=o;return oe(n.uid===a,r,"user-mismatch"),cc._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Qr(r,"user-mismatch"),s}})}function rM(n,e,t=!1){return I(this,null,function*(){if(yr(n.app))return Promise.reject(Ri(n));let r="signIn",i=yield nM(n,r,e),s=yield cc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function lE(n,e){return I(this,null,function*(){return rM(bo(n),e)})}function xH(n,e,t){var r;oe(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),oe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(oe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(oe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function iM(n){return I(this,null,function*(){let e=bo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function dE(n,e,t){return I(this,null,function*(){if(yr(n.app))return Promise.reject(Ri(n));let r=bo(n),o=yield Gw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AH).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&iM(n),c}),a=yield cc._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function hE(n,e,t){return yr(n.app)?Promise.reject(Ri(n)):lE(nt(n),tM.credential(e,t)).catch(r=>I(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&iM(n),r}))}function fE(n,e){return I(this,null,function*(){let t=nt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&xH(t.auth,i,e);let{email:s}=yield bH(t.auth,i);s!==n.email&&(yield n.reload())})}function pE(n,e,t,r){return nt(n).onIdTokenChanged(e,t,r)}function mE(n,e,t){return nt(n).beforeAuthStateChanged(e,t)}function gE(n,e,t,r){return nt(n).onAuthStateChanged(e,t,r)}function yE(n){return nt(n).signOut()}var Op="__sak";var Fp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Op,"1"),this.storage.removeItem(Op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var NH=1e3,PH=10,kH=(()=>{class n extends Fp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);uH()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,PH):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},NH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return I(this,null,function*(){yield Yi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return I(this,null,function*(){let r=yield Yi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return I(this,null,function*(){yield Yi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),sM=kH;var OH=(()=>{class n extends Fp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),vE=OH;function FH(n){return Promise.all(n.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var LH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return I(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(p=>I(this,null,function*(){return p(r.origin,o)})),l=yield FH(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function oM(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Qw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=oM("",20);i.port1.start();let p=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){let _=m;if(_.data.eventId===l)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(_.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Kr(){return window}function VH(n){Kr().location.href=n}function aM(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}function UH(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function jH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function BH(){return aM()?self:null}var cM="firebaseLocalStorageDb",$H=1,Lp="firebaseLocalStorage",uM="fbase_key",Io=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function jp(n,e){return n.transaction([Lp],e?"readwrite":"readonly").objectStore(Lp)}function HH(){let n=indexedDB.deleteDatabase(cM);return new Io(n).toPromise()}function Yw(){let n=indexedDB.open(cM,$H);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Lp,{keyPath:uM})}catch(i){t(i)}}),n.addEventListener("success",()=>I(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Lp)?e(r):(r.close(),yield HH(),e(yield Yw()))}))})}function SR(n,e,t){return I(this,null,function*(){let r=jp(n,!0).put({[uM]:e,value:t});return new Io(r).toPromise()})}function qH(n,e){return I(this,null,function*(){let t=jp(n,!1).get(e),r=yield new Io(t).toPromise();return r===void 0?null:r.value})}function AR(n,e){let t=jp(n,!0).delete(e);return new Io(t).toPromise()}var zH=800,GH=3,WH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield Yw(),this.db)})}_withRetries(t){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>GH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return aM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=LH._getInstance(BH()),this.receiver._subscribe("keyChanged",(t,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var t,r;if(this.activeServiceWorker=yield UH(),!this.activeServiceWorker)return;this.sender=new Qw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||jH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Yw();return yield SR(t,Op,"1"),yield AR(t,Op),!0}catch{}return!1})}_withPendingWrite(t){return I(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>SR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return I(this,null,function*(){let r=yield this._withRetries(i=>qH(i,t));return this.localCache[t]=r,r})}_remove(t){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>AR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return I(this,null,function*(){let t=yield this._withRetries(s=>{let o=jp(s,!1).getAll();return new Io(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),zH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),lM=WH;var Uee=XR("rcb"),jee=new Eo(3e4,6e4);function KH(n,e){return e?Ai(e):(oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var vl=class extends gl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ow(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ow(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ow(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function QH(n){return rM(n.auth,new vl(n),n.bypassAuthState)}function YH(n){let{auth:e,user:t}=n;return oe(t,e,"internal-error"),MH(t,new vl(n),n.bypassAuthState)}function ZH(n){return I(this,null,function*(){let{auth:e,user:t}=n;return oe(t,e,"internal-error"),RH(t,new vl(n),n.bypassAuthState)})}var Zw=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QH;case"linkViaPopup":case"linkViaRedirect":return ZH;case"reauthViaPopup":case"reauthViaRedirect":return YH;default:Qr(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Bee=new Eo(2e3,1e4);var JH="pendingRedirect",Dp=new Map,Jw=class n extends Zw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=Dp.get(this.auth._key());if(!e){try{let r=(yield XH(this.resolver,this.auth))?yield Yi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Dp.set(this.auth._key(),e)}return this.bypassAuthState||Dp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return Yi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Yi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function XH(n,e){return I(this,null,function*(){let t=nq(e),r=tq(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function eq(n,e){Dp.set(n._key(),e)}function tq(n){return Ai(n._redirectPersistence)}function nq(n){return Tp(JH,n.config.apiKey,n.name)}function rq(n,e,t=!1){return I(this,null,function*(){if(yr(n.app))return Promise.reject(Ri(n));let r=bo(n),i=KH(r,e),o=yield new Jw(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var iq=10*60*1e3,Xw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!dM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(wo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iq&&this.cachedEventUids.clear(),this.cachedEventUids.has(RR(e))}saveEventToCache(e){this.cachedEventUids.add(RR(e)),this.lastProcessedEventTime=Date.now()}};function RR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function sq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dM(n);default:return!1}}function oq(t){return I(this,arguments,function*(n,e={}){return xi(n,"GET","/v1/projects",e)})}var aq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cq=/^https?/;function uq(n){return I(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield oq(n);for(let t of e)try{if(lq(t))return}catch{}Qr(n,"unauthorized-domain")})}function lq(n){let e=Lw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!cq.test(t))return!1;if(aq.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var dq=new Eo(3e4,6e4);function MR(){let n=Kr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hq(n){return new Promise((e,t)=>{var r,i,s;function o(){MR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MR(),t(wo(n,"network-request-failed"))},timeout:dq.get()})}if(!((i=(r=Kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kr().gapi)===null||s===void 0)&&s.load)o();else{let a=XR("iframefcb");return Kr()[a]=()=>{gapi.load?o():t(wo(n,"network-request-failed"))},JR(`${pH()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Sp=null,e})}var Sp=null;function fq(n){return Sp=Sp||hq(n),Sp}var pq=new Eo(5e3,15e3),mq="__/auth/iframe",gq="emulator/auth/iframe",yq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _q(n){let e=n.config;oe(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?rE(e,gq):`https://${n.config.authDomain}/${mq}`,r={apiKey:e.apiKey,appName:n.name,v:Gr},i=vq.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${ul(r).slice(1)}`}function wq(n){return I(this,null,function*(){let e=yield fq(n),t=Kr().gapi;return oe(t,n,"internal-error"),e.open({where:document.body,url:_q(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yq,dontclear:!0},r=>new Promise((i,s)=>I(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=wo(n,"network-request-failed"),a=Kr().setTimeout(()=>{s(o)},pq.get());function c(){Kr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var Eq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Iq=500,bq=600,Cq="_blank",Tq="http://localhost",Vp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Dq(n,e,t,r=Iq,i=bq){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Eq),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Bt().toLowerCase();t&&(a=zR(l)?Cq:t),HR(l)&&(e=e||Tq,c.scrollbars="yes");let p=Object.entries(c).reduce((_,[w,D])=>`${_}${w}=${D},`,"");if(cH(l)&&a!=="_self")return Sq(e||"",a),new Vp(null);let m=window.open(e||"",a,p);oe(m,n,"popup-blocked");try{m.focus()}catch{}return new Vp(m)}function Sq(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Aq="__/auth/handler",Rq="emulator/auth/handler",Mq=encodeURIComponent("fac");function xR(n,e,t,r,i,s){return I(this,null,function*(){oe(n.config.authDomain,n,"auth-domain-config-required"),oe(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Gr,eventId:i};if(e instanceof kp){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",tR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,m]of Object.entries(s||{}))o[p]=m}if(e instanceof Ww){let p=e.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let c=yield n._getAppCheckToken(),l=c?`#${Mq}=${encodeURIComponent(c)}`:"";return`${xq(n)}?${ul(a).slice(1)}${l}`})}function xq({config:n}){return n.emulator?rE(n,Rq):`https://${n.authDomain}/${Aq}`}var Fw="webStorageSupport",eE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vE,this._completeRedirectFn=rq,this._overrideRedirectResult=eq}_openPopup(e,t,r,i){return I(this,null,function*(){var s;Es((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield xR(e,t,r,Lw(),i);return Dq(e,o,oM())})}_openRedirect(e,t,r,i){return I(this,null,function*(){yield this._originValidation(e);let s=yield xR(e,t,r,Lw(),i);return VH(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Es(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return I(this,null,function*(){let t=yield wq(e),r=new Xw(e);return t.register("authEvent",i=>(oe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fw,{type:Fw},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Fw];o!==void 0&&t(!!o),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YR()||qR()||aE()}},hM=eE;var NR="@firebase/auth",PR="1.7.9";var tE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Nq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Pq(n){Xt(new Tt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZR(n)},l=new qw(r,i,s,c);return yH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xt(new Tt("auth-internal",e=>{let t=bo(e.getProvider("auth").getImmediate());return(r=>new tE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(NR,PR,Nq(n)),He(NR,PR,"esm2017")}var kq=5*60,Oq=gw("authIdTokenMaxAge")||kq,kR=null,Fq=n=>e=>I(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Oq)return;let i=t?.token;kR!==i&&(kR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function _E(n=vr()){let e=Xn(n,"auth");if(e.isInitialized())return e.getImmediate();let t=cE(n,{popupRedirectResolver:hM,persistence:[lM,sM,vE]}),r=gw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Fq(s.toString());mE(t,o,()=>o(t.currentUser)),pE(t,a=>o(a))}}let i=pw("auth");return i&&uE(t,`http://${i}`),t}function Lq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}hH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=wo("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",Lq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Pq("Browser");var fM="auth",kn=class{constructor(e){return e}},Co=class{constructor(){return Di(fM)}};var wE=new X("angularfire2.auth-instances");function Tz(n,e){let t=_s(fM,n,e);return t&&new kn(t)}function Dz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new kn(r)}}var Sz={provide:Co,deps:[[new ut,wE]]},Az={provide:kn,useFactory:Tz,deps:[[new ut,wE],Pn]};function pM(n,...e){return He("angularfire",_r.full,"auth"),fn([Az,Sz,{provide:wE,useFactory:Dz(n),multi:!0,deps:[_e,Ot,Wr,wr,[new ut,vs],...e]}])}var Bp=ot(dE,!0);var $p=ot(_E,!0);var mM=ot(gE,!0);var Hp=ot(fE,!0);var gM=ot(hE,!0);var qp=ot(yE,!0);var yM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vM={};var Is,EE;(function(){var n;function e(S,b){function C(){}C.prototype=b.prototype,S.D=b.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(A,M,R){for(var T=Array(arguments.length-2),cn=2;cn<arguments.length;cn++)T[cn-2]=arguments[cn];return b.prototype[M].apply(A,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,b,C){C||(C=0);var A=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)A[M]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(M=0;16>M;++M)A[M]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=S.g[0],C=S.g[1],M=S.g[2];var R=S.g[3],T=b+(R^C&(M^R))+A[0]+3614090360&4294967295;b=C+(T<<7&4294967295|T>>>25),T=R+(M^b&(C^M))+A[1]+3905402710&4294967295,R=b+(T<<12&4294967295|T>>>20),T=M+(C^R&(b^C))+A[2]+606105819&4294967295,M=R+(T<<17&4294967295|T>>>15),T=C+(b^M&(R^b))+A[3]+3250441966&4294967295,C=M+(T<<22&4294967295|T>>>10),T=b+(R^C&(M^R))+A[4]+4118548399&4294967295,b=C+(T<<7&4294967295|T>>>25),T=R+(M^b&(C^M))+A[5]+1200080426&4294967295,R=b+(T<<12&4294967295|T>>>20),T=M+(C^R&(b^C))+A[6]+2821735955&4294967295,M=R+(T<<17&4294967295|T>>>15),T=C+(b^M&(R^b))+A[7]+4249261313&4294967295,C=M+(T<<22&4294967295|T>>>10),T=b+(R^C&(M^R))+A[8]+1770035416&4294967295,b=C+(T<<7&4294967295|T>>>25),T=R+(M^b&(C^M))+A[9]+2336552879&4294967295,R=b+(T<<12&4294967295|T>>>20),T=M+(C^R&(b^C))+A[10]+4294925233&4294967295,M=R+(T<<17&4294967295|T>>>15),T=C+(b^M&(R^b))+A[11]+2304563134&4294967295,C=M+(T<<22&4294967295|T>>>10),T=b+(R^C&(M^R))+A[12]+1804603682&4294967295,b=C+(T<<7&4294967295|T>>>25),T=R+(M^b&(C^M))+A[13]+4254626195&4294967295,R=b+(T<<12&4294967295|T>>>20),T=M+(C^R&(b^C))+A[14]+2792965006&4294967295,M=R+(T<<17&4294967295|T>>>15),T=C+(b^M&(R^b))+A[15]+1236535329&4294967295,C=M+(T<<22&4294967295|T>>>10),T=b+(M^R&(C^M))+A[1]+4129170786&4294967295,b=C+(T<<5&4294967295|T>>>27),T=R+(C^M&(b^C))+A[6]+3225465664&4294967295,R=b+(T<<9&4294967295|T>>>23),T=M+(b^C&(R^b))+A[11]+643717713&4294967295,M=R+(T<<14&4294967295|T>>>18),T=C+(R^b&(M^R))+A[0]+3921069994&4294967295,C=M+(T<<20&4294967295|T>>>12),T=b+(M^R&(C^M))+A[5]+3593408605&4294967295,b=C+(T<<5&4294967295|T>>>27),T=R+(C^M&(b^C))+A[10]+38016083&4294967295,R=b+(T<<9&4294967295|T>>>23),T=M+(b^C&(R^b))+A[15]+3634488961&4294967295,M=R+(T<<14&4294967295|T>>>18),T=C+(R^b&(M^R))+A[4]+3889429448&4294967295,C=M+(T<<20&4294967295|T>>>12),T=b+(M^R&(C^M))+A[9]+568446438&4294967295,b=C+(T<<5&4294967295|T>>>27),T=R+(C^M&(b^C))+A[14]+3275163606&4294967295,R=b+(T<<9&4294967295|T>>>23),T=M+(b^C&(R^b))+A[3]+4107603335&4294967295,M=R+(T<<14&4294967295|T>>>18),T=C+(R^b&(M^R))+A[8]+1163531501&4294967295,C=M+(T<<20&4294967295|T>>>12),T=b+(M^R&(C^M))+A[13]+2850285829&4294967295,b=C+(T<<5&4294967295|T>>>27),T=R+(C^M&(b^C))+A[2]+4243563512&4294967295,R=b+(T<<9&4294967295|T>>>23),T=M+(b^C&(R^b))+A[7]+1735328473&4294967295,M=R+(T<<14&4294967295|T>>>18),T=C+(R^b&(M^R))+A[12]+2368359562&4294967295,C=M+(T<<20&4294967295|T>>>12),T=b+(C^M^R)+A[5]+4294588738&4294967295,b=C+(T<<4&4294967295|T>>>28),T=R+(b^C^M)+A[8]+2272392833&4294967295,R=b+(T<<11&4294967295|T>>>21),T=M+(R^b^C)+A[11]+1839030562&4294967295,M=R+(T<<16&4294967295|T>>>16),T=C+(M^R^b)+A[14]+4259657740&4294967295,C=M+(T<<23&4294967295|T>>>9),T=b+(C^M^R)+A[1]+2763975236&4294967295,b=C+(T<<4&4294967295|T>>>28),T=R+(b^C^M)+A[4]+1272893353&4294967295,R=b+(T<<11&4294967295|T>>>21),T=M+(R^b^C)+A[7]+4139469664&4294967295,M=R+(T<<16&4294967295|T>>>16),T=C+(M^R^b)+A[10]+3200236656&4294967295,C=M+(T<<23&4294967295|T>>>9),T=b+(C^M^R)+A[13]+681279174&4294967295,b=C+(T<<4&4294967295|T>>>28),T=R+(b^C^M)+A[0]+3936430074&4294967295,R=b+(T<<11&4294967295|T>>>21),T=M+(R^b^C)+A[3]+3572445317&4294967295,M=R+(T<<16&4294967295|T>>>16),T=C+(M^R^b)+A[6]+76029189&4294967295,C=M+(T<<23&4294967295|T>>>9),T=b+(C^M^R)+A[9]+3654602809&4294967295,b=C+(T<<4&4294967295|T>>>28),T=R+(b^C^M)+A[12]+3873151461&4294967295,R=b+(T<<11&4294967295|T>>>21),T=M+(R^b^C)+A[15]+530742520&4294967295,M=R+(T<<16&4294967295|T>>>16),T=C+(M^R^b)+A[2]+3299628645&4294967295,C=M+(T<<23&4294967295|T>>>9),T=b+(M^(C|~R))+A[0]+4096336452&4294967295,b=C+(T<<6&4294967295|T>>>26),T=R+(C^(b|~M))+A[7]+1126891415&4294967295,R=b+(T<<10&4294967295|T>>>22),T=M+(b^(R|~C))+A[14]+2878612391&4294967295,M=R+(T<<15&4294967295|T>>>17),T=C+(R^(M|~b))+A[5]+4237533241&4294967295,C=M+(T<<21&4294967295|T>>>11),T=b+(M^(C|~R))+A[12]+1700485571&4294967295,b=C+(T<<6&4294967295|T>>>26),T=R+(C^(b|~M))+A[3]+2399980690&4294967295,R=b+(T<<10&4294967295|T>>>22),T=M+(b^(R|~C))+A[10]+4293915773&4294967295,M=R+(T<<15&4294967295|T>>>17),T=C+(R^(M|~b))+A[1]+2240044497&4294967295,C=M+(T<<21&4294967295|T>>>11),T=b+(M^(C|~R))+A[8]+1873313359&4294967295,b=C+(T<<6&4294967295|T>>>26),T=R+(C^(b|~M))+A[15]+4264355552&4294967295,R=b+(T<<10&4294967295|T>>>22),T=M+(b^(R|~C))+A[6]+2734768916&4294967295,M=R+(T<<15&4294967295|T>>>17),T=C+(R^(M|~b))+A[13]+1309151649&4294967295,C=M+(T<<21&4294967295|T>>>11),T=b+(M^(C|~R))+A[4]+4149444226&4294967295,b=C+(T<<6&4294967295|T>>>26),T=R+(C^(b|~M))+A[11]+3174756917&4294967295,R=b+(T<<10&4294967295|T>>>22),T=M+(b^(R|~C))+A[2]+718787259&4294967295,M=R+(T<<15&4294967295|T>>>17),T=C+(R^(M|~b))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+b&4294967295,S.g[1]=S.g[1]+(M+(T<<21&4294967295|T>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,b){b===void 0&&(b=S.length);for(var C=b-this.blockSize,A=this.B,M=this.h,R=0;R<b;){if(M==0)for(;R<=C;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<b;)if(A[M++]=S.charCodeAt(R++),M==this.blockSize){i(this,A),M=0;break}}else for(;R<b;)if(A[M++]=S[R++],M==this.blockSize){i(this,A),M=0;break}}this.h=M,this.o+=b},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var b=1;b<S.length-8;++b)S[b]=0;var C=8*this.o;for(b=S.length-8;b<S.length;++b)S[b]=C&255,C/=256;for(this.u(S),S=Array(16),b=C=0;4>b;++b)for(var A=0;32>A;A+=8)S[C++]=this.g[b]>>>A&255;return S};function s(S,b){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=b(S)}function o(S,b){this.h=b;for(var C=[],A=!0,M=S.length-1;0<=M;M--){var R=S[M]|0;A&&R==b||(C[M]=R,A=!1)}this.g=C}var a={};function c(S){return-128<=S&&128>S?s(S,function(b){return new o([b|0],0>b?-1:0)}):new o([S|0],0>S?-1:0)}function l(S){if(isNaN(S)||!isFinite(S))return m;if(0>S)return N(l(-S));for(var b=[],C=1,A=0;S>=C;A++)b[A]=S/C|0,C*=4294967296;return new o(b,0)}function p(S,b){if(S.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S.charAt(0)=="-")return N(p(S.substring(1),b));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=l(Math.pow(b,8)),A=m,M=0;M<S.length;M+=8){var R=Math.min(8,S.length-M),T=parseInt(S.substring(M,M+R),b);8>R?(R=l(Math.pow(b,R)),A=A.j(R).add(l(T))):(A=A.j(C),A=A.add(l(T)))}return A}var m=c(0),_=c(1),w=c(16777216);n=o.prototype,n.m=function(){if(P(this))return-N(this).m();for(var S=0,b=1,C=0;C<this.g.length;C++){var A=this.i(C);S+=(0<=A?A:4294967296+A)*b,b*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D(this))return"0";if(P(this))return"-"+N(this).toString(S);for(var b=l(Math.pow(S,6)),C=this,A="";;){var M=G(C,b).g;C=F(C,M.j(b));var R=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=M,D(C))return R+A;for(;6>R.length;)R="0"+R;A=R+A}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function D(S){if(S.h!=0)return!1;for(var b=0;b<S.g.length;b++)if(S.g[b]!=0)return!1;return!0}function P(S){return S.h==-1}n.l=function(S){return S=F(this,S),P(S)?-1:D(S)?0:1};function N(S){for(var b=S.g.length,C=[],A=0;A<b;A++)C[A]=~S.g[A];return new o(C,~S.h).add(_)}n.abs=function(){return P(this)?N(this):this},n.add=function(S){for(var b=Math.max(this.g.length,S.g.length),C=[],A=0,M=0;M<=b;M++){var R=A+(this.i(M)&65535)+(S.i(M)&65535),T=(R>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);A=T>>>16,R&=65535,T&=65535,C[M]=T<<16|R}return new o(C,C[C.length-1]&-2147483648?-1:0)};function F(S,b){return S.add(N(b))}n.j=function(S){if(D(this)||D(S))return m;if(P(this))return P(S)?N(this).j(N(S)):N(N(this).j(S));if(P(S))return N(this.j(N(S)));if(0>this.l(w)&&0>S.l(w))return l(this.m()*S.m());for(var b=this.g.length+S.g.length,C=[],A=0;A<2*b;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<S.g.length;M++){var R=this.i(A)>>>16,T=this.i(A)&65535,cn=S.i(M)>>>16,nr=S.i(M)&65535;C[2*A+2*M]+=T*nr,q(C,2*A+2*M),C[2*A+2*M+1]+=R*nr,q(C,2*A+2*M+1),C[2*A+2*M+1]+=T*cn,q(C,2*A+2*M+1),C[2*A+2*M+2]+=R*cn,q(C,2*A+2*M+2)}for(A=0;A<b;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=b;A<2*b;A++)C[A]=0;return new o(C,0)};function q(S,b){for(;(S[b]&65535)!=S[b];)S[b+1]+=S[b]>>>16,S[b]&=65535,b++}function z(S,b){this.g=S,this.h=b}function G(S,b){if(D(b))throw Error("division by zero");if(D(S))return new z(m,m);if(P(S))return b=G(N(S),b),new z(N(b.g),N(b.h));if(P(b))return b=G(S,N(b)),new z(N(b.g),b.h);if(30<S.g.length){if(P(S)||P(b))throw Error("slowDivide_ only works with positive integers.");for(var C=_,A=b;0>=A.l(S);)C=be(C),A=be(A);var M=Y(C,1),R=Y(A,1);for(A=Y(A,2),C=Y(C,2);!D(A);){var T=R.add(A);0>=T.l(S)&&(M=M.add(C),R=T),A=Y(A,1),C=Y(C,1)}return b=F(S,M.j(b)),new z(M,b)}for(M=m;0<=S.l(b);){for(C=Math.max(1,Math.floor(S.m()/b.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),R=l(C),T=R.j(b);P(T)||0<T.l(S);)C-=A,R=l(C),T=R.j(b);D(R)&&(R=_),M=M.add(R),S=F(S,T)}return new z(M,S)}n.A=function(S){return G(this,S).h},n.and=function(S){for(var b=Math.max(this.g.length,S.g.length),C=[],A=0;A<b;A++)C[A]=this.i(A)&S.i(A);return new o(C,this.h&S.h)},n.or=function(S){for(var b=Math.max(this.g.length,S.g.length),C=[],A=0;A<b;A++)C[A]=this.i(A)|S.i(A);return new o(C,this.h|S.h)},n.xor=function(S){for(var b=Math.max(this.g.length,S.g.length),C=[],A=0;A<b;A++)C[A]=this.i(A)^S.i(A);return new o(C,this.h^S.h)};function be(S){for(var b=S.g.length+1,C=[],A=0;A<b;A++)C[A]=S.i(A)<<1|S.i(A-1)>>>31;return new o(C,S.h)}function Y(S,b){var C=b>>5;b%=32;for(var A=S.g.length-C,M=[],R=0;R<A;R++)M[R]=0<b?S.i(R+C)>>>b|S.i(R+C+1)<<32-b:S.i(R+C);return new o(M,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,EE=vM.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=p,Is=vM.Integer=o}).apply(typeof yM<"u"?yM:typeof self<"u"?self:typeof window<"u"?window:{});var Gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ni={};var IE,Rz,uc,bE,wl,Wp,CE,TE,DE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,g){return u==Array.prototype||u==Object.prototype||(u[f]=g.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gp=="object"&&Gp];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(u,f){if(f)e:{var g=r;u=u.split(".");for(var v=0;v<u.length-1;v++){var x=u[v];if(!(x in g))break e;g=g[x]}u=u[u.length-1],v=g[u],f=f(v),f!=v&&f!=null&&e(g,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var g=0,v=!1,x={next:function(){if(!v&&g<u.length){var O=g++;return{value:f(O,u[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,g){return g})}});var o=o||{},a=this||self;function c(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function l(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function p(u,f,g){return u.call.apply(u.bind,arguments)}function m(u,f,g){if(!u)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),u.apply(f,x)}}return function(){return u.apply(f,arguments)}}function _(u,f,g){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,_.apply(null,arguments)}function w(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),u.apply(this,v)}}function D(u,f){function g(){}g.prototype=f.prototype,u.aa=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(v,x,O){for(var $=Array(arguments.length-2),We=2;We<arguments.length;We++)$[We-2]=arguments[We];return f.prototype[x].apply(v,$)}}function P(u){let f=u.length;if(0<f){let g=Array(f);for(let v=0;v<f;v++)g[v]=u[v];return g}return[]}function N(u,f){for(let g=1;g<arguments.length;g++){let v=arguments[g];if(c(v)){let x=u.length||0,O=v.length||0;u.length=x+O;for(let $=0;$<O;$++)u[x+$]=v[$]}else u.push(v)}}class F{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function q(u){return/^[\s\xa0]*$/.test(u)}function z(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function G(u){return G[" "](u),u}G[" "]=function(){};var be=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function Y(u,f,g){for(let v in u)f.call(g,u[v],v,u)}function S(u,f){for(let g in u)f.call(void 0,u[g],g,u)}function b(u){let f={};for(let g in u)f[g]=u[g];return f}let C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,f){let g,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(g in v)u[g]=v[g];for(let O=0;O<C.length;O++)g=C[O],Object.prototype.hasOwnProperty.call(v,g)&&(u[g]=v[g])}}function M(u){var f=1;u=u.split(":");let g=[];for(;0<f&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function R(u){a.setTimeout(()=>{throw u},0)}function T(){var u=ge;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class cn{constructor(){this.h=this.g=null}add(f,g){let v=nr.get();v.set(f,g),this.h?this.h.next=v:this.g=v,this.h=v}}var nr=new F(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ee=!1,ge=new cn,Be=()=>{let u=a.Promise.resolve(void 0);Z=()=>{u.then(At)}};var At=()=>{for(var u;u=T();){try{u.h.call(u.g)}catch(g){R(g)}var f=nr;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}ee=!1};function Ge(){this.s=this.s,this.C=this.C}Ge.prototype.s=!1,Ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Je(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var $e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return u}();function un(u,f){if(Je.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,v=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(be){e:{try{G(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Qo[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&un.aa.h.call(this)}}D(un,Je);var Qo={2:"touch",3:"pen",4:"mouse"};un.prototype.h=function(){un.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Xe="closure_listenable_"+(1e6*Math.random()|0),yn=0;function Zt(u,f,g,v,x){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!v,this.ha=x,this.key=++yn,this.da=this.fa=!1}function vn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jn(u){this.src=u,this.g={},this.h=0}jn.prototype.add=function(u,f,g,v,x){var O=u.toString();u=this.g[O],u||(u=this.g[O]=[],this.h++);var $=Gc(u,f,v,x);return-1<$?(f=u[$],g||(f.fa=!1)):(f=new Zt(f,this.src,O,!!v,x),f.fa=g,u.push(f)),f};function Ui(u,f){var g=f.type;if(g in u.g){var v=u.g[g],x=Array.prototype.indexOf.call(v,f,void 0),O;(O=0<=x)&&Array.prototype.splice.call(v,x,1),O&&(vn(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Gc(u,f,g,v){for(var x=0;x<u.length;++x){var O=u[x];if(!O.da&&O.listener==f&&O.capture==!!g&&O.ha==v)return x}return-1}var Ht="closure_lm_"+(1e6*Math.random()|0),_n={};function fd(u,f,g,v,x){if(v&&v.once)return Wc(u,f,g,v,x);if(Array.isArray(f)){for(var O=0;O<f.length;O++)fd(u,f[O],g,v,x);return null}return g=wt(g),u&&u[Xe]?u.K(f,g,l(v)?!!v.capture:!!v,x):Jt(u,f,g,!1,v,x)}function Jt(u,f,g,v,x,O){if(!f)throw Error("Invalid event type");var $=l(x)?!!x.capture:!!x,We=rr(u);if(We||(u[Ht]=We=new jn(u)),g=We.add(f,g,v,$,O),g.proxy)return g;if(v=Yo(),g.proxy=v,v.src=u,v.listener=g,u.addEventListener)$e||(x=$),x===void 0&&(x=!1),u.addEventListener(f.toString(),v,x);else if(u.attachEvent)u.attachEvent(wn(f.toString()),v);else if(u.addListener&&u.removeListener)u.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Yo(){function u(g){return f.call(u.src,u.listener,g)}let f=Sr;return u}function Wc(u,f,g,v,x){if(Array.isArray(f)){for(var O=0;O<f.length;O++)Wc(u,f[O],g,v,x);return null}return g=wt(g),u&&u[Xe]?u.L(f,g,l(v)?!!v.capture:!!v,x):Jt(u,f,g,!0,v,x)}function Kc(u,f,g,v,x){if(Array.isArray(f))for(var O=0;O<f.length;O++)Kc(u,f[O],g,v,x);else v=l(v)?!!v.capture:!!v,g=wt(g),u&&u[Xe]?(u=u.i,f=String(f).toString(),f in u.g&&(O=u.g[f],g=Gc(O,g,v,x),-1<g&&(vn(O[g]),Array.prototype.splice.call(O,g,1),O.length==0&&(delete u.g[f],u.h--)))):u&&(u=rr(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Gc(f,g,v,x)),(g=-1<u?f[u]:null)&&Ae(g))}function Ae(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Xe])Ui(f.i,u);else{var g=u.type,v=u.proxy;f.removeEventListener?f.removeEventListener(g,v,u.capture):f.detachEvent?f.detachEvent(wn(g),v):f.addListener&&f.removeListener&&f.removeListener(v),(g=rr(f))?(Ui(g,u),g.h==0&&(g.src=null,f[Ht]=null)):vn(u)}}}function wn(u){return u in _n?_n[u]:_n[u]="on"+u}function Sr(u,f){if(u.da)u=!0;else{f=new un(f,this);var g=u.listener,v=u.ha||u.src;u.fa&&Ae(u),u=g.call(v,f)}return u}function rr(u){return u=u[Ht],u instanceof jn?u:null}var lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(u){return typeof u=="function"?u:(u[lt]||(u[lt]=function(f){return u.handleEvent(f)}),u[lt])}function Et(){Ge.call(this),this.i=new jn(this),this.M=this,this.F=null}D(Et,Ge),Et.prototype[Xe]=!0,Et.prototype.removeEventListener=function(u,f,g,v){Kc(this,u,f,g,v)};function Lt(u,f){var g,v=u.F;if(v)for(g=[];v;v=v.F)g.push(v);if(u=u.M,v=f.type||f,typeof f=="string")f=new Je(f,u);else if(f instanceof Je)f.target=f.target||u;else{var x=f;f=new Je(v,u),A(f,x)}if(x=!0,g)for(var O=g.length-1;0<=O;O--){var $=f.g=g[O];x=Ar($,v,!0,f)&&x}if($=f.g=u,x=Ar($,v,!0,f)&&x,x=Ar($,v,!1,f)&&x,g)for(O=0;O<g.length;O++)$=f.g=g[O],x=Ar($,v,!1,f)&&x}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var g=u.g[f],v=0;v<g.length;v++)vn(g[v]);delete u.g[f],u.h--}}this.F=null},Et.prototype.K=function(u,f,g,v){return this.i.add(String(u),f,!1,g,v)},Et.prototype.L=function(u,f,g,v){return this.i.add(String(u),f,!0,g,v)};function Ar(u,f,g,v){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,O=0;O<f.length;++O){var $=f[O];if($&&!$.da&&$.capture==g){var We=$.listener,Mt=$.ha||$.src;$.fa&&Ui(u.i,$),x=We.call(Mt,v)!==!1&&x}}return x&&!v.defaultPrevented}function qt(u,f,g){if(typeof u=="function")g&&(u=_(u,g));else if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function pd(u){u.g=qt(()=>{u.g=null,u.i&&(u.i=!1,pd(u))},u.l);let f=u.h;u.h=null,u.m.apply(null,f)}class md extends Ge{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:pd(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(u){Ge.call(this),this.h=u,this.g={}}D(ji,Ge);var Zo=[];function gd(u){Y(u.g,function(f,g){this.g.hasOwnProperty(g)&&Ae(f)},u),u.g={}}ji.prototype.N=function(){ji.aa.N.call(this),gd(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qc=a.JSON.stringify,Pg=a.JSON.parse,kg=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ir(){}ir.prototype.h=null;function yd(u){return u.h||(u.h=u.i())}function vd(){}var Ps={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yc(){Je.call(this,"d")}D(Yc,Je);function Zc(){Je.call(this,"c")}D(Zc,Je);var sr={},_d=null;function Jo(){return _d=_d||new Et}sr.La="serverreachability";function wd(u){Je.call(this,sr.La,u)}D(wd,Je);function ks(u){let f=Jo();Lt(f,new wd(f))}sr.STAT_EVENT="statevent";function Ed(u,f){Je.call(this,sr.STAT_EVENT,u),this.stat=f}D(Ed,Je);function Rt(u){let f=Jo();Lt(f,new Ed(f,u))}sr.Ma="timingevent";function Id(u,f){Je.call(this,sr.Ma,u),this.size=f}D(Id,Je);function Os(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function Fs(){this.g=!0}Fs.prototype.xa=function(){this.g=!1};function Og(u,f,g,v,x,O){u.info(function(){if(u.g)if(O)for(var $="",We=O.split("&"),Mt=0;Mt<We.length;Mt++){var ke=We[Mt].split("=");if(1<ke.length){var Vt=ke[0];ke=ke[1];var xt=Vt.split("_");$=2<=xt.length&&xt[1]=="type"?$+(Vt+"="+ke+"&"):$+(Vt+"=redacted&")}}else $=null;else $=O;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+g+`
`+$})}function Fg(u,f,g,v,x,O,$){u.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+g+`
`+O+" "+$})}function Ue(u,f,g,v){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+Vg(u,g)+(v?" "+v:"")})}function Lg(u,f){u.info(function(){return"TIMEOUT: "+f})}Fs.prototype.info=function(){};function Vg(u,f){if(!u.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var v=g[u];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var O=x[0];if(O!="noop"&&O!="stop"&&O!="close")for(var $=1;$<x.length;$++)x[$]=""}}}}return Qc(g)}catch{return f}}var Xo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jc;function ea(){}D(ea,ir),ea.prototype.g=function(){return new XMLHttpRequest},ea.prototype.i=function(){return{}},Jc=new ea;function Bn(u,f,g,v){this.j=u,this.i=f,this.l=g,this.R=v||1,this.U=new ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bi}function Bi(){this.i=null,this.g="",this.h=!1}var Xc={},$i={};function rt(u,f,g){u.L=1,u.v=na($n(f)),u.m=g,u.P=!0,Cd(u,null)}function Cd(u,f){u.F=Date.now(),Ls(u),u.A=$n(u.v);var g=u.A,v=u.R;Array.isArray(v)||(v=[String(v)]),jd(g.i,"t",v),u.C=0,g=u.j.J,u.h=new Bi,u.g=pu(u.j,g?f:null,!u.m),0<u.O&&(u.M=new md(_(u.Y,u,u.g),u.O)),f=u.U,g=u.g,v=u.ca;var x="readystatechange";Array.isArray(x)||(x&&(Zo[0]=x.toString()),x=Zo);for(var O=0;O<x.length;O++){var $=fd(g,x[O],v||f.handleEvent,!1,f.h||f);if(!$)break;f.g[$.key]=$}f=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),ks(),Og(u.i,u.u,u.A,u.l,u.R,u.m)}Bn.prototype.ca=function(u){u=u.target;let f=this.M;f&&ar(u)==3?f.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)e:{let xt=ar(this.g);var f=this.g.Ba();let Pr=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Wd(this.g)))){this.J||xt!=4||f==7||(f==8||0>=Pr?ks(3):ks(2)),eu(this);var g=this.g.Z();this.X=g;t:if(Td(this)){var v=Wd(this.g);u="";var x=v.length,O=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rr(this),Vs(this);var $="";break t}this.h.i=new a.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,u+=this.h.i.decode(v[f],{stream:!(O&&f==x-1)});v.length=0,this.h.g+=u,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=g==200,Fg(this.i,this.u,this.A,this.l,this.R,xt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Mt=this.g;if((We=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(We)){var ke=We;break t}}ke=null}if(g=ke)Ue(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tu(this,g);else{this.o=!1,this.s=3,Rt(12),Rr(this),Vs(this);break e}}if(this.P){g=!0;let En;for(;!this.J&&this.C<$.length;)if(En=Ug(this,$),En==$i){xt==4&&(this.s=4,Rt(14),g=!1),Ue(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Xc){this.s=4,Rt(15),Ue(this.i,this.l,$,"[Invalid Chunk]"),g=!1;break}else Ue(this.i,this.l,En,null),tu(this,En);if(Td(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||$.length!=0||this.h.h||(this.s=1,Rt(16),g=!1),this.o=this.o&&g,!g)Ue(this.i,this.l,$,"[Invalid Chunked Response]"),Rr(this),Vs(this);else if(0<$.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Ki(Vt),Vt.M=!0,Rt(11))}}else Ue(this.i,this.l,$,null),tu(this,$);xt==4&&Rr(this),this.o&&!this.J&&(xt==4?lu(this.j,this):(this.o=!1,Ls(this)))}else Kg(this.g),g==400&&0<$.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Rr(this),Vs(this)}}}catch{}finally{}};function Td(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ug(u,f){var g=u.C,v=f.indexOf(`
`,g);return v==-1?$i:(g=Number(f.substring(g,v)),isNaN(g)?Xc:(v+=1,v+g>f.length?$i:(f=f.slice(v,v+g),u.C=v+g,f)))}Bn.prototype.cancel=function(){this.J=!0,Rr(this)};function Ls(u){u.S=Date.now()+u.I,Dd(u,u.I)}function Dd(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Os(_(u.ba,u),f)}function eu(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Bn.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Lg(this.i,this.A),this.L!=2&&(ks(),Rt(17)),Rr(this),this.s=2,Vs(this)):Dd(this,this.S-u)};function Vs(u){u.j.G==0||u.J||lu(u.j,u)}function Rr(u){eu(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,gd(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function tu(u,f){try{var g=u.j;if(g.G!=0&&(g.g==u||nu(g.h,u))){if(!u.K&&nu(g.h,u)&&g.G==3){try{var v=g.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Gs(g),oa(g);else break e;zs(g),Rt(18)}}else g.za=x[1],0<g.za-g.T&&37500>x[2]&&g.F&&g.v==0&&!g.C&&(g.C=Os(_(g.Za,g),6e3));if(1>=Md(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Nr(g,11)}else if((u.K||g.g==u)&&Gs(g),!q(f))for(x=g.Da.g.parse(f),f=0;f<x.length;f++){let ke=x[f];if(g.T=ke[0],ke=ke[1],g.G==2)if(ke[0]=="c"){g.K=ke[1],g.ia=ke[2];let Vt=ke[3];Vt!=null&&(g.la=Vt,g.j.info("VER="+g.la));let xt=ke[4];xt!=null&&(g.Aa=xt,g.j.info("SVER="+g.Aa));let Pr=ke[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(v=1.5*Pr,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;let En=u.g;if(En){let ca=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var O=v.h;O.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(ru(O,O.h),O.h=null))}if(v.D){let gu=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;gu&&(v.ya=gu,et(v.I,v.D,gu))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var $=u;if(v.qa=fu(v,v.J?v.ia:null,v.W),$.K){xd(v.h,$);var We=$,Mt=v.L;Mt&&(We.I=Mt),We.B&&(eu(We),Ls(We)),v.g=$}else uu(v);0<g.i.length&&aa(g)}else ke[0]!="stop"&&ke[0]!="close"||Nr(g,7);else g.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Nr(g,7):sa(g):ke[0]!="noop"&&g.l&&g.l.ta(ke),g.v=0)}}ks(4)}catch{}}var Sd=class{constructor(u,f){this.g=u,this.map=f}};function Ad(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rd(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Md(u){return u.h?1:u.g?u.g.size:0}function nu(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function ru(u,f){u.g?u.g.add(f):u.h=f}function xd(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}Ad.prototype.cancel=function(){if(this.i=Nd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function Nd(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(let g of u.g.values())f=f.concat(g.D);return f}return P(u.i)}function Pd(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var f=[],g=u.length,v=0;v<g;v++)f.push(u[v]);return f}f=[],g=0;for(v in u)f[g++]=u[v];return f}function jg(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var f=[];u=u.length;for(var g=0;g<u;g++)f.push(g);return f}f=[],g=0;for(let v in u)f[g++]=v;return f}}}function iu(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var g=jg(u),v=Pd(u),x=v.length,O=0;O<x;O++)f.call(void 0,v[O],g&&g[O],u)}var kd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bg(u,f){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var v=u[g].indexOf("="),x=null;if(0<=v){var O=u[g].substring(0,v);x=u[g].substring(v+1)}else O=u[g];f(O,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function ln(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ln){this.h=u.h,ta(this,u.j),this.o=u.o,this.g=u.g,Hi(this,u.s),this.l=u.l;var f=u.i,g=new Bs;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),su(this,g),this.m=u.m}else u&&(f=String(u).match(kd))?(this.h=!1,ta(this,f[1]||"",!0),this.o=Us(f[2]||""),this.g=Us(f[3]||"",!0),Hi(this,f[4]),this.l=Us(f[5]||"",!0),su(this,f[6]||"",!0),this.m=Us(f[7]||"")):(this.h=!1,this.i=new Bs(null,this.h))}ln.prototype.toString=function(){var u=[],f=this.j;f&&u.push(js(f,Od,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(js(f,Od,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(js(g,g.charAt(0)=="/"?Hg:qi,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",js(g,Ld)),u.join("")};function $n(u){return new ln(u)}function ta(u,f,g){u.j=g?Us(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Hi(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function su(u,f,g){f instanceof Bs?(u.i=f,qg(u.i,u.h)):(g||(f=js(f,Fd)),u.i=new Bs(f,u.h))}function et(u,f,g){u.i.set(f,g)}function na(u){return et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Us(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function js(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,$g),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function $g(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Od=/[#\/\?@]/g,qi=/[#\?:]/g,Hg=/[#\?]/g,Fd=/[#\?@]/g,Ld=/#/g;function Bs(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Mr(u){u.g||(u.g=new Map,u.h=0,u.i&&Bg(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}n=Bs.prototype,n.add=function(u,f){Mr(this),this.i=null,u=zi(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function Vd(u,f){Mr(u),f=zi(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Ud(u,f){return Mr(u),f=zi(u,f),u.g.has(f)}n.forEach=function(u,f){Mr(this),this.g.forEach(function(g,v){g.forEach(function(x){u.call(f,x,v,this)},this)},this)},n.na=function(){Mr(this);let u=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let v=0;v<f.length;v++){let x=u[v];for(let O=0;O<x.length;O++)g.push(f[v])}return g},n.V=function(u){Mr(this);let f=[];if(typeof u=="string")Ud(this,u)&&(f=f.concat(this.g.get(zi(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)f=f.concat(u[g])}return f},n.set=function(u,f){return Mr(this),this.i=null,u=zi(this,u),Ud(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},n.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function jd(u,f,g){Vd(u,f),0<g.length&&(u.i=null,u.g.set(zi(u,f),P(g)),u.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var v=f[g];let O=encodeURIComponent(String(v)),$=this.V(v);for(v=0;v<$.length;v++){var x=O;$[v]!==""&&(x+="="+encodeURIComponent(String($[v]))),u.push(x)}}return this.i=u.join("&")};function zi(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function qg(u,f){f&&!u.j&&(Mr(u),u.i=null,u.g.forEach(function(g,v){var x=v.toLowerCase();v!=x&&(Vd(this,v),jd(this,x,g))},u)),u.j=f}function Gi(u,f){let g=new Fs;if(a.Image){let v=new Image;v.onload=w(xr,g,"TestLoadImage: loaded",!0,f,v),v.onerror=w(xr,g,"TestLoadImage: error",!1,f,v),v.onabort=w(xr,g,"TestLoadImage: abort",!1,f,v),v.ontimeout=w(xr,g,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=u}else f(!1)}function zg(u,f){let g=new Fs,v=new AbortController,x=setTimeout(()=>{v.abort(),xr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:v.signal}).then(O=>{clearTimeout(x),O.ok?xr(g,"TestPingServer: ok",!0,f):xr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),xr(g,"TestPingServer: error",!1,f)})}function xr(u,f,g,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(g)}catch{}}function Bd(){this.g=new kg}function Gg(u,f,g){let v=g||"";try{iu(u,function(x,O){let $=x;l(x)&&($=Qc(x)),f.push(v+O+"="+encodeURIComponent($))})}catch(x){throw f.push(v+"type="+encodeURIComponent("_badmap")),x}}function dn(u){this.l=u.Ub||null,this.j=u.eb||!1}D(dn,ir),dn.prototype.g=function(){return new ra(this.l,this.j)},dn.prototype.i=function(u){return function(){return u}}({});function ra(u,f){Et.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(ra,Et),n=ra.prototype,n.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,$s(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$s(this)),this.g&&(this.readyState=3,$s(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ou(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ou(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?or(this):$s(this),this.readyState==3&&ou(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,or(this))},n.Qa=function(u){this.g&&(this.response=u,or(this))},n.ga=function(){this.g&&or(this)};function or(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$s(u)}n.setRequestHeader=function(u,f){this.u.append(u,f)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function $s(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $d(u){let f="";return Y(u,function(g,v){f+=v,f+=":",f+=g,f+=`\r
`}),f}function au(u,f,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=$d(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):et(u,f,g))}function it(u){Et.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(it,Et);var Wi=/^https?$/i,Wg=["POST","PUT"];n=it.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,f,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jc.g(),this.v=this.o?yd(this.o):yd(Jc),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(O){Hd(this,O);return}if(u=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)g.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let O of v.keys())g.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(O=>O.toLowerCase()=="content-type"),x=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Wg,f,void 0))||v||x||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,$]of g)this.g.setRequestHeader(O,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gd(this),this.u=!0,this.g.send(u),this.u=!1}catch(O){Hd(this,O)}};function Hd(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,qd(u),ia(u)}function qd(u){u.A||(u.A=!0,Lt(u,"complete"),Lt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Lt(this,"complete"),Lt(this,"abort"),ia(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ia(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?zd(this):this.bb())},n.bb=function(){zd(this)};function zd(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ar(u)!=4||u.Z()!=2)){if(u.u&&ar(u)==4)qt(u.Ea,0,u);else if(Lt(u,"readystatechange"),ar(u)==4){u.h=!1;try{let $=u.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var v;if(v=$===0){var x=String(u.D).match(kd)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!Wi.test(x?x.toLowerCase():"")}g=v}if(g)Lt(u,"complete"),Lt(u,"success");else{u.m=6;try{var O=2<ar(u)?u.g.statusText:""}catch{O=""}u.l=O+" ["+u.Z()+"]",qd(u)}}finally{ia(u)}}}}function ia(u,f){if(u.g){Gd(u);let g=u.g,v=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||Lt(u,"ready");try{g.onreadystatechange=v}catch{}}}function Gd(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function ar(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Pg(f)}};function Wd(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Kg(u){let f={};u=(u.g&&2<=ar(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<u.length;v++){if(q(u[v]))continue;var g=M(u[v]);let x=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let O=f[x]||[];f[x]=O,O.push(g)}S(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hs(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function qs(u){this.Aa=0,this.i=[],this.j=new Fs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hs("baseRetryDelayMs",5e3,u),this.cb=Hs("retryDelaySeedMs",1e4,u),this.Wa=Hs("forwardChannelMaxRetries",2,u),this.wa=Hs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ad(u&&u.concurrentRequestLimit),this.Da=new Bd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=qs.prototype,n.la=8,n.G=1,n.connect=function(u,f,g,v){Rt(0),this.W=u,this.H=f||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=fu(this,null,this.W),aa(this)};function sa(u){if(Kd(u),u.G==3){var f=u.U++,g=$n(u.I);if(et(g,"SID",u.K),et(g,"RID",f),et(g,"TYPE","terminate"),ai(u,g),f=new Bn(u,u.j,f),f.L=2,f.v=na($n(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=pu(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Ls(f)}hu(u)}function oa(u){u.g&&(Ki(u),u.g.cancel(),u.g=null)}function Kd(u){oa(u),u.u&&(a.clearTimeout(u.u),u.u=null),Gs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function aa(u){if(!Rd(u.h)&&!u.s){u.s=!0;var f=u.Ga;Z||Be(),ee||(Z(),ee=!0),ge.add(f,u),u.B=0}}function Qd(u,f){return Md(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Os(_(u.Ga,u,f),du(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let x=new Bn(this,this.j,u),O=this.o;if(this.S&&(O?(O=b(O),A(O,this.S)):O=this.S),this.m!==null||this.O||(x.H=O,O=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=cu(this,x,f),g=$n(this.I),et(g,"RID",u),et(g,"CVER",22),this.D&&et(g,"X-HTTP-Session-Id",this.D),ai(this,g),O&&(this.O?f="headers="+encodeURIComponent(String($d(O)))+"&"+f:this.m&&au(g,this.m,O)),ru(this.h,x),this.Ua&&et(g,"TYPE","init"),this.P?(et(g,"$req",f),et(g,"SID","null"),x.T=!0,rt(x,g,null)):rt(x,g,f),this.G=2}}else this.G==3&&(u?Yd(this,u):this.i.length==0||Rd(this.h)||Yd(this))};function Yd(u,f){var g;f?g=f.l:g=u.U++;let v=$n(u.I);et(v,"SID",u.K),et(v,"RID",g),et(v,"AID",u.T),ai(u,v),u.m&&u.o&&au(v,u.m,u.o),g=new Bn(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),f&&(u.i=f.D.concat(u.i)),f=cu(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ru(u.h,g),rt(g,v,f)}function ai(u,f){u.H&&Y(u.H,function(g,v){et(f,v,g)}),u.l&&iu({},function(g,v){et(f,v,g)})}function cu(u,f,g){g=Math.min(u.i.length,g);var v=u.l?_(u.l.Na,u.l,u):null;e:{var x=u.i;let O=-1;for(;;){let $=["count="+g];O==-1?0<g?(O=x[0].g,$.push("ofs="+O)):O=0:$.push("ofs="+O);let We=!0;for(let Mt=0;Mt<g;Mt++){let ke=x[Mt].g,Vt=x[Mt].map;if(ke-=O,0>ke)O=Math.max(0,x[Mt].g-100),We=!1;else try{Gg(Vt,$,"req"+ke+"_")}catch{v&&v(Vt)}}if(We){v=$.join("&");break e}}}return u=u.i.splice(0,g),f.D=u,v}function uu(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;Z||Be(),ee||(Z(),ee=!0),ge.add(f,u),u.v=0}}function zs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Os(_(u.Fa,u),du(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Zd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Os(_(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),oa(this),Zd(this))};function Ki(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Zd(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=$n(u.qa);et(f,"RID","rpc"),et(f,"SID",u.K),et(f,"AID",u.T),et(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&et(f,"TO",u.ja),et(f,"TYPE","xmlhttp"),ai(u,f),u.m&&u.o&&au(f,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=na($n(f)),g.m=null,g.P=!0,Cd(g,u)}n.Za=function(){this.C!=null&&(this.C=null,oa(this),zs(this),Rt(19))};function Gs(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function lu(u,f){var g=null;if(u.g==f){Gs(u),Ki(u),u.g=null;var v=2}else if(nu(u.h,f))g=f.D,xd(u.h,f),v=1;else return;if(u.G!=0){if(f.o)if(v==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var x=u.B;v=Jo(),Lt(v,new Id(v,g)),aa(u)}else uu(u);else if(x=f.s,x==3||x==0&&0<f.X||!(v==1&&Qd(u,f)||v==2&&zs(u)))switch(g&&0<g.length&&(f=u.h,f.i=f.i.concat(g)),x){case 1:Nr(u,5);break;case 4:Nr(u,10);break;case 3:Nr(u,6);break;default:Nr(u,2)}}}function du(u,f){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*f}function Nr(u,f){if(u.j.info("Error code "+f),f==2){var g=_(u.fb,u),v=u.Xa;let x=!v;v=new ln(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ta(v,"https"),na(v),x?Gi(v.toString(),g):zg(v.toString(),g)}else Rt(2);u.G=0,u.l&&u.l.sa(f),hu(u),Kd(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function hu(u){if(u.G=0,u.ka=[],u.l){let f=Nd(u.h);(f.length!=0||u.i.length!=0)&&(N(u.ka,f),N(u.ka,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.ra()}}function fu(u,f,g){var v=g instanceof ln?$n(g):new ln(g);if(v.g!="")f&&(v.g=f+"."+v.g),Hi(v,v.s);else{var x=a.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var O=new ln(null);v&&ta(O,v),f&&(O.g=f),x&&Hi(O,x),g&&(O.l=g),v=O}return g=u.D,f=u.ya,g&&f&&et(v,g,f),et(v,"VER",u.la),ai(u,v),v}function pu(u,f,g){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new it(new dn({eb:g})):new it(u.pa),f.Ha(u.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}n=mu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ws(){}Ws.prototype.g=function(u,f){return new It(u,f)};function It(u,f){Et.call(this),this.g=new qs(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!q(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!q(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Qi(this)}D(It,Et),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){sa(this.g)},It.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Qc(u),u=g);f.i.push(new Sd(f.Ya++,u)),f.G==3&&aa(f)},It.prototype.N=function(){this.g.l=null,delete this.j,sa(this.g),delete this.g,It.aa.N.call(this)};function Jd(u){Yc.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(let g in f){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}D(Jd,Yc);function Xd(){Zc.call(this),this.status=1}D(Xd,Zc);function Qi(u){this.g=u}D(Qi,mu),Qi.prototype.ua=function(){Lt(this.g,"a")},Qi.prototype.ta=function(u){Lt(this.g,new Jd(u))},Qi.prototype.sa=function(u){Lt(this.g,new Xd)},Qi.prototype.ra=function(){Lt(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,DE=Ni.createWebChannelTransport=function(){return new Ws},TE=Ni.getStatEventTarget=function(){return Jo()},CE=Ni.Event=sr,Wp=Ni.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xo.NO_ERROR=0,Xo.TIMEOUT=8,Xo.HTTP_ERROR=6,wl=Ni.ErrorCode=Xo,bd.COMPLETE="complete",bE=Ni.EventType=bd,vd.EventType=Ps,Ps.OPEN="a",Ps.CLOSE="b",Ps.ERROR="c",Ps.MESSAGE="d",Et.prototype.listen=Et.prototype.K,uc=Ni.WebChannel=vd,Rz=Ni.FetchXmlHttpFactory=dn,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,IE=Ni.XhrIo=it}).apply(typeof Gp<"u"?Gp:typeof self<"u"?self:typeof window<"u"?window:{});var _M="@firebase/firestore";var $t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");var Mc="10.14.0";var Ao=new gs("@firebase/firestore");function El(){return Ao.logLevel}function J(n,...e){if(Ao.logLevel<=xe.DEBUG){let t=e.map(ob);Ao.debug(`Firestore (${Mc}): ${n}`,...t)}}function Pi(n,...e){if(Ao.logLevel<=xe.ERROR){let t=e.map(ob);Ao.error(`Firestore (${Mc}): ${n}`,...t)}}function gc(n,...e){if(Ao.logLevel<=xe.WARN){let t=e.map(ob);Ao.warn(`Firestore (${Mc}): ${n}`,...t)}}function ob(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function le(n="Unexpected state"){let e=`FIRESTORE (${Mc}) INTERNAL ASSERTION FAILED: `+n;throw Pi(e),new Error(e)}function Ze(n,e){n||le()}function fe(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},te=class extends Kt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Er=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Jp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},xE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($t.UNAUTHENTICATED))}shutdown(){}},NE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},PE=class{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Er,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>I(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Er)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new Jp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new $t(e)}},kE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},OE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new kE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}},FE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},LE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ze(this.o===void 0);let r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new FE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Mz(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Xp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Mz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function qe(n,e){return n<e?-1:n>e?1:0}function yc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Qt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new te(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new te(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new te(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ve=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Qt(0,0))}static max(){return new n(new Qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var em=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&le(),r===void 0?r=e.length-t:r>e.length-t&&le(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},ft=class n extends em{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new te(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},xz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fn=class n extends em{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return xz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new te(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ce=class n{constructor(e){this.path=e}static fromPath(e){return new n(ft.fromString(e))}static fromName(e){return new n(ft.fromString(e).popFirst(5))}static empty(){return new n(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ft(e.slice()))}};var VE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};VE.UNKNOWN_ID=-1;function Nz(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new Qt(t+1,0):new Qt(t,r));return new Ro(i,ce.empty(),e)}function Pz(n){return new Ro(n.readTime,n.key,-1)}var Ro=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ve.min(),ce.empty(),-1)}static max(){return new n(ve.max(),ce.empty(),-1)}};function kz(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}var Oz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",UE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Vl(n){return I(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==Oz)throw n;J("LocalStore","Unexpectedly lost primary lease")})}var U=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;t(e[l]).next(p=>{o[l]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function Fz(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ul(n){return n.name==="IndexedDbTransactionError"}var YM=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Nm(n){return n==null}function Sl(n){return n===0&&1/n==-1/0}function Lz(n){return typeof n=="number"&&Number.isInteger(n)&&!Sl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Vz=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fte=[...Vz,"documentOverlays"],Uz=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jz=Uz,Bz=[...jz,"indexConfiguration","indexState","indexEntries"];var Lte=[...Bz,"globals"];function wM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var pt=class n{constructor(e,t){this.comparator=e,this.root=t||Zr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fc(this.root,e,this.comparator,!0)}},fc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zr=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();let e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}};Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1;Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Zr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var tn=class n{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tm(this.data.getIterator())}getIteratorFrom(e){return new tm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},tm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var er=class n{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new n([])}unionWith(e){let t=new tn(Fn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var nm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var nn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nm("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};nn.EMPTY_BYTE_STRING=new nn("");var $z=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(n){if(Ze(!!n),typeof n=="string"){let e=0,t=$z.exec(n);if(Ze(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(n.seconds),nanos:at(n.nanos)}}function at(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ts(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}function ab(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function cb(n){let e=n.mapValue.fields.__previous_value__;return ab(e)?cb(e):e}function Al(n){let e=ki(n.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}var jE=class{constructor(e,t,r,i,s,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},rm=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Kp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ab(n)?4:XM(n)?9007199254740991:JM(n)?10:11:le()}function ei(n,e){if(n===e)return!0;let t=Mo(n);if(t!==Mo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Al(n).isEqual(Al(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ki(i.timestampValue),a=ki(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Ts(i.bytesValue).isEqual(Ts(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=at(i.doubleValue),a=at(s.doubleValue);return o===a?Sl(o)===Sl(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return yc(n.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(wM(o)!==wM(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ei(o[c],a[c])))return!1;return!0}(n,e);default:return le()}}function Rl(n,e){return(n.values||[]).find(t=>ei(t,e))!==void 0}function vc(n,e){if(n===e)return 0;let t=Mo(n),r=Mo(e);if(t!==r)return qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=at(s.integerValue||s.doubleValue),c=at(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return EM(n.timestampValue,e.timestampValue);case 4:return EM(Al(n),Al(e));case 5:return qe(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Ts(s),c=Ts(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let p=qe(a[l],c[l]);if(p!==0)return p}return qe(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=qe(at(s.latitude),at(o.latitude));return a!==0?a:qe(at(s.longitude),at(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return IM(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,l,p;let m=s.fields||{},_=o.fields||{},w=(a=m.value)===null||a===void 0?void 0:a.arrayValue,D=(c=_.value)===null||c===void 0?void 0:c.arrayValue,P=qe(((l=w?.values)===null||l===void 0?void 0:l.length)||0,((p=D?.values)===null||p===void 0?void 0:p.length)||0);return P!==0?P:IM(w,D)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Kp.mapValue&&o===Kp.mapValue)return 0;if(s===Kp.mapValue)return 1;if(o===Kp.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},p=Object.keys(l);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){let _=qe(c[m],p[m]);if(_!==0)return _;let w=vc(a[c[m]],l[p[m]]);if(w!==0)return w}return qe(c.length,p.length)}(n.mapValue,e.mapValue);default:throw le()}}function EM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);let t=ki(n),r=ki(e),i=qe(t.seconds,r.seconds);return i!==0?i:qe(t.nanos,r.nanos)}function IM(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=vc(t[i],r[i]);if(s)return s}return qe(t.length,r.length)}function _c(n){return BE(n)}function BE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ki(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ts(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ce.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=BE(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${BE(t.fields[o])}`;return i+"}"}(n.mapValue):le()}function $E(n){return!!n&&"integerValue"in n}function ub(n){return!!n&&"arrayValue"in n}function bM(n){return!!n&&"nullValue"in n}function CM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yp(n){return!!n&&"mapValue"in n}function JM(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function bl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Oo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function XM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var On=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Yp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(t)}setAll(e){let t=Fn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=bl(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Yp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Yp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Oo(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(bl(this.value))}};function ex(n){let e=[];return Oo(n.fields,(t,r)=>{let i=new Fn([t]);if(Yp(r)){let s=ex(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new er(e)}var Ir=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ve.min(),ve.min(),ve.min(),On.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ve.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ve.min(),ve.min(),On.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ve.min(),ve.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var wc=class{constructor(e,t){this.position=e,this.inclusive=t}};function TM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=ce.comparator(ce.fromName(o.referenceValue),t.key):r=vc(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function DM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ei(n.position[t],e.position[t]))return!1;return!0}var Ec=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Hz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var im=class{},Ft=class n extends im{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new qE(e,t,r):t==="array-contains"?new WE(e,r):t==="in"?new KE(e,r):t==="not-in"?new QE(e,r):t==="array-contains-any"?new YE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new zE(e,r):new GE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(vc(t,this.value)):t!==null&&Mo(this.value)===Mo(t)&&this.matchesComparison(vc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ti=class n extends im{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return tx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function tx(n){return n.op==="and"}function nx(n){return qz(n)&&tx(n)}function qz(n){for(let e of n.filters)if(e instanceof ti)return!1;return!0}function HE(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+_c(n.value);if(nx(n))return n.filters.map(e=>HE(e)).join(",");{let e=n.filters.map(t=>HE(t)).join(",");return`${n.op}(${e})`}}function rx(n,e){return n instanceof Ft?function(r,i){return i instanceof Ft&&r.op===i.op&&r.field.isEqual(i.field)&&ei(r.value,i.value)}(n,e):n instanceof ti?function(r,i){return i instanceof ti&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&rx(o,i.filters[a]),!0):!1}(n,e):void le()}function ix(n){return n instanceof Ft?function(t){return`${t.field.canonicalString()} ${t.op} ${_c(t.value)}`}(n):n instanceof ti?function(t){return t.op.toString()+" {"+t.getFilters().map(ix).join(" ,")+"}"}(n):"Filter"}var qE=class extends Ft{constructor(e,t,r){super(e,t,r),this.key=ce.fromName(r.referenceValue)}matches(e){let t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}},zE=class extends Ft{constructor(e,t){super(e,"in",t),this.keys=sx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},GE=class extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=sx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function sx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ce.fromName(r.referenceValue))}var WE=class extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ub(t)&&Rl(t.arrayValue,this.value)}},KE=class extends Ft{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Rl(this.value.arrayValue,t)}},QE=class extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Rl(this.value.arrayValue,t)}},YE=class extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!ub(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}};var ZE=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function SM(n,e=null,t=[],r=[],i=null,s=null,o=null){return new ZE(n,e,t,r,i,s,o)}function lb(n){let e=fe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>HE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Nm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>_c(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>_c(r)).join(",")),e.ue=t}return e.ue}function db(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Hz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DM(n.startAt,e.startAt)&&DM(n.endAt,e.endAt)}function JE(n){return ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ic=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function zz(n,e,t,r,i,s,o,a){return new Ic(n,e,t,r,i,s,o,a)}function hb(n){return new Ic(n)}function AM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Gz(n){return n.collectionGroup!==null}function Cl(n){let e=fe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tn(Fn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ec(s,r))}),t.has(Fn.keyField().canonicalString())||e.ce.push(new Ec(Fn.keyField(),r))}return e.ce}function Jr(n){let e=fe(n);return e.le||(e.le=Wz(e,Cl(n))),e.le}function Wz(n,e){if(n.limitType==="F")return SM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ec(i.field,s)});let t=n.endAt?new wc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wc(n.startAt.position,n.startAt.inclusive):null;return SM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function XE(n,e,t){return new Ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pm(n,e){return db(Jr(n),Jr(e))&&n.limitType===e.limitType}function ox(n){return`${lb(Jr(n))}|lt:${n.limitType}`}function lc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ix(i)).join(", ")}]`),Nm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>_c(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>_c(i)).join(",")),`Target(${r})`}(Jr(n))}; limitType=${n.limitType})`}function km(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ce.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of Cl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=TM(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,Cl(r),i)||r.endAt&&!function(o,a,c){let l=TM(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,Cl(r),i))}(n,e)}function Kz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ax(n){return(e,t)=>{let r=!1;for(let i of Cl(n)){let s=Qz(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Qz(n,e,t){let r=n.field.isKeyField()?ce.comparator(e.key,t.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?vc(c,l):le()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}var Ds=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return ZM(this.inner)}size(){return this.innerSize}};var Yz=new pt(ce.comparator);function Oi(){return Yz}var cx=new pt(ce.comparator);function Il(...n){let e=cx;for(let t of n)e=e.insert(t.key,t);return e}function ux(n){let e=cx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function To(){return Tl()}function lx(){return Tl()}function Tl(){return new Ds(n=>n.toString(),(n,e)=>n.isEqual(e))}var Zz=new pt(ce.comparator),Jz=new tn(ce.comparator);function Ne(...n){let e=Jz;for(let t of n)e=e.add(t);return e}var Xz=new tn(qe);function e4(){return Xz}function fb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sl(e)?"-0":e}}function dx(n){return{integerValue:""+n}}function t4(n,e){return Lz(e)?dx(e):fb(n,e)}var bc=class{constructor(){this._=void 0}};function n4(n,e,t){return n instanceof Cc?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ab(s)&&(s=cb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof xo?fx(n,e):n instanceof No?px(n,e):function(i,s){let o=hx(i,s),a=RM(o)+RM(i.Pe);return $E(o)&&$E(i.Pe)?dx(a):fb(i.serializer,a)}(n,e)}function r4(n,e,t){return n instanceof xo?fx(n,e):n instanceof No?px(n,e):t}function hx(n,e){return n instanceof Tc?function(r){return $E(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Cc=class extends bc{},xo=class extends bc{constructor(e){super(),this.elements=e}};function fx(n,e){let t=mx(e);for(let r of n.elements)t.some(i=>ei(i,r))||t.push(r);return{arrayValue:{values:t}}}var No=class extends bc{constructor(e){super(),this.elements=e}};function px(n,e){let t=mx(e);for(let r of n.elements)t=t.filter(i=>!ei(i,r));return{arrayValue:{values:t}}}var Tc=class extends bc{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function RM(n){return at(n.integerValue||n.doubleValue)}function mx(n){return ub(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function i4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof xo&&i instanceof xo||r instanceof No&&i instanceof No?yc(r.elements,i.elements,ei):r instanceof Tc&&i instanceof Tc?ei(r.Pe,i.Pe):r instanceof Cc&&i instanceof Cc}(n.transform,e.transform)}var eI=class{constructor(e,t){this.version=e,this.transformResults=t}},bs=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Zp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Dc=class{};function gx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sm(n.key,bs.none()):new Po(n.key,n.data,bs.none());{let t=n.data,r=On.empty(),i=new tn(Fn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ni(n.key,r,new er(i.toArray()),bs.none())}}function s4(n,e,t){n instanceof Po?function(i,s,o){let a=i.value.clone(),c=xM(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ni?function(i,s,o){if(!Zp(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=xM(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(yx(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Dl(n,e,t,r){return n instanceof Po?function(s,o,a,c){if(!Zp(s.precondition,o))return a;let l=s.value.clone(),p=NM(s.fieldTransforms,c,o);return l.setAll(p),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof ni?function(s,o,a,c){if(!Zp(s.precondition,o))return a;let l=NM(s.fieldTransforms,c,o),p=o.data;return p.setAll(yx(s)),p.setAll(l),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(n,e,t,r):function(s,o,a){return Zp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function o4(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=hx(r.transform,i||null);s!=null&&(t===null&&(t=On.empty()),t.set(r.field,s))}return t||null}function MM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yc(r,i,(s,o)=>i4(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Po=class extends Dc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ni=class extends Dc{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function yx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function xM(n,e,t){let r=new Map;Ze(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,r4(o,a,t[i]))}return r}function NM(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,n4(s,o,e))}return r}var sm=class extends Dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},tI=class extends Dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var nI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&s4(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Dl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Dl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=lx();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=gx(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,(t,r)=>MM(t,r))&&yc(this.baseMutations,e.baseMutations,(t,r)=>MM(t,r))}},rI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ze(e.mutations.length===r.length);let i=function(){return Zz}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var iI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var sI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Dt,Ve;function a4(n){switch(n){default:return le();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function vx(n){if(n===void 0)return Pi("GRPC error has no .code"),L.UNKNOWN;switch(n){case Dt.OK:return L.OK;case Dt.CANCELLED:return L.CANCELLED;case Dt.UNKNOWN:return L.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return L.INTERNAL;case Dt.UNAVAILABLE:return L.UNAVAILABLE;case Dt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Dt.NOT_FOUND:return L.NOT_FOUND;case Dt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Dt.ABORTED:return L.ABORTED;case Dt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Dt.DATA_LOSS:return L.DATA_LOSS;default:return le()}}(Ve=Dt||(Dt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";var PM=null;function c4(){return new TextEncoder}var u4=new Is([4294967295,4294967295],0);function kM(n){let e=c4().encode(n),t=new EE;return t.update(e),new Uint8Array(t.digest())}function OM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Is([t,r],0),new Is([i,s],0)]}var oI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Do(`Invalid padding: ${t}`);if(r<0)throw new Do(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Do(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Do(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Is.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Is.fromNumber(r)));return i.compare(u4)===1&&(i=new Is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=kM(e),[r,i]=OM(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=kM(e),[r,i]=OM(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Do=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var om=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ml.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ve.min(),i,new pt(qe),Oi(),Ne())}},Ml=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ne(),Ne(),Ne())}};var pc=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},am=class{constructor(e,t){this.targetId=e,this.me=t}},cm=class{constructor(e,t,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},um=class{constructor(){this.fe=0,this.ge=LM(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ne(),t=Ne(),r=Ne();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Ml(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=LM()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},aI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Oi(),this.qe=FM(),this.Qe=new pt(qe)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(JE(s))if(r===0){let o=new ce(s.path);this.Ue(t,o,Ir.newNoDocument(o,ve.min()))}else Ze(r===1);else{let o=this.Ye(t);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}PM?.et(function(p,m,_,w,D){var P,N,F,q,z,G;let be={localCacheCount:p,existenceFilterCount:m.count,databaseId:_.database,projectId:_.projectId},Y=m.unchangedNames;return Y&&(be.bloomFilter={applied:D===0,hashCount:(P=Y?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(q=(F=(N=Y?.bits)===null||N===void 0?void 0:N.bitmap)===null||F===void 0?void 0:F.length)!==null&&q!==void 0?q:0,padding:(G=(z=Y?.bits)===null||z===void 0?void 0:z.padding)!==null&&G!==void 0?G:0,mightContain:S=>{var b;return(b=w?.mightContain(S))!==null&&b!==void 0&&b}}),be}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=Ts(r).toUint8Array()}catch(c){if(c instanceof nm)return gc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new oI(o,i,s)}catch(c){return gc(c instanceof Do?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&JE(a.target)){let c=new ce(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Ir.newNoDocument(c,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=Ne();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new om(e,t,this.Qe,this.ke,r);return this.ke=Oi(),this.qe=FM(),this.Qe=new pt(qe),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new um,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new tn(qe),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||J("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new um),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function FM(){return new pt(ce.comparator)}function LM(){return new pt(ce.comparator)}var l4={asc:"ASCENDING",desc:"DESCENDING"},d4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h4={and:"AND",or:"OR"},cI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function uI(n,e){return n.useProto3Json||Nm(e)?e:{value:e}}function lm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _x(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function f4(n,e){return lm(n,e.toTimestamp())}function Xr(n){return Ze(!!n),ve.fromTimestamp(function(t){let r=ki(t);return new Qt(r.seconds,r.nanos)}(n))}function pb(n,e){return lI(n,e).canonicalString()}function lI(n,e){let t=function(i){return new ft(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function wx(n){let e=ft.fromString(n);return Ze(Tx(e)),e}function dI(n,e){return pb(n.databaseId,e.path)}function SE(n,e){let t=wx(e);if(t.get(1)!==n.databaseId.projectId)throw new te(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new te(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ce(Ix(t))}function Ex(n,e){return pb(n.databaseId,e)}function p4(n){let e=wx(n);return e.length===4?ft.emptyPath():Ix(e)}function hI(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ix(n){return Ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function VM(n,e,t){return{name:dI(n,e),fields:t.value.mapValue.fields}}function m4(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,p){return l.useProto3Json?(Ze(p===void 0||typeof p=="string"),nn.fromBase64String(p||"")):(Ze(p===void 0||p instanceof Buffer||p instanceof Uint8Array),nn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let p=l.code===void 0?L.UNKNOWN:vx(l.code);return new te(p,l.message||"")}(o);t=new cm(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=SE(n,r.document.name),s=Xr(r.document.updateTime),o=r.document.createTime?Xr(r.document.createTime):ve.min(),a=new On({mapValue:{fields:r.document.fields}}),c=Ir.newFoundDocument(i,s,o,a),l=r.targetIds||[],p=r.removedTargetIds||[];t=new pc(l,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=SE(n,r.document),s=r.readTime?Xr(r.readTime):ve.min(),o=Ir.newNoDocument(i,s),a=r.removedTargetIds||[];t=new pc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=SE(n,r.document),s=r.removedTargetIds||[];t=new pc([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new sI(i,s),a=r.targetId;t=new am(a,o)}}return t}function g4(n,e){let t;if(e instanceof Po)t={update:VM(n,e.key,e.value)};else if(e instanceof sm)t={delete:dI(n,e.key)};else if(e instanceof ni)t={update:VM(n,e.key,e.data),updateMask:T4(e.fieldMask)};else{if(!(e instanceof tI))return le();t={verify:dI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Cc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof No)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw le()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:f4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(n,e.precondition)),t}function y4(n,e){return n&&n.length>0?(Ze(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?Xr(i.updateTime):Xr(s);return o.isEqual(ve.min())&&(o=Xr(s)),new eI(o,i.transformResults||[])}(t,e))):[]}function v4(n,e){return{documents:[Ex(n,e.path)]}}function _4(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Ex(n,i);let s=function(l){if(l.length!==0)return Cx(ti.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(p=>function(_){return{field:dc(_.field),direction:I4(_.dir)}}(p))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=uI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function w4(n){let e=p4(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ze(r===1);let p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(m){let _=bx(m);return _ instanceof ti&&nx(_)?_.getFilters():[_]}(t.where));let o=[];t.orderBy&&(o=function(m){return m.map(_=>function(D){return new Ec(hc(D.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(m){let _;return _=typeof m=="object"?m.value:m,Nm(_)?null:_}(t.limit));let c=null;t.startAt&&(c=function(m){let _=!!m.before,w=m.values||[];return new wc(w,_)}(t.startAt));let l=null;return t.endAt&&(l=function(m){let _=!m.before,w=m.values||[];return new wc(w,_)}(t.endAt)),zz(e,i,o,s,a,"F",c,l)}function E4(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=hc(t.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=hc(t.unaryFilter.field);return Ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=hc(t.unaryFilter.field);return Ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=hc(t.unaryFilter.field);return Ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(n):n.fieldFilter!==void 0?function(t){return Ft.create(hc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ti.create(t.compositeFilter.filters.map(r=>bx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(t.compositeFilter.op))}(n):le()}function I4(n){return l4[n]}function b4(n){return d4[n]}function C4(n){return h4[n]}function dc(n){return{fieldPath:n.canonicalString()}}function hc(n){return Fn.fromServerFormat(n.fieldPath)}function Cx(n){return n instanceof Ft?function(t){if(t.op==="=="){if(CM(t.value))return{unaryFilter:{field:dc(t.field),op:"IS_NAN"}};if(bM(t.value))return{unaryFilter:{field:dc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CM(t.value))return{unaryFilter:{field:dc(t.field),op:"IS_NOT_NAN"}};if(bM(t.value))return{unaryFilter:{field:dc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dc(t.field),op:b4(t.op),value:t.value}}}(n):n instanceof ti?function(t){let r=t.getFilters().map(i=>Cx(i));return r.length===1?r[0]:{compositeFilter:{op:C4(t.op),filters:r}}}(n):le()}function T4(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var xl=class n{constructor(e,t,r,i,s=ve.min(),o=ve.min(),a=nn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var fI=class{constructor(e){this.ct=e}};function D4(n){let e=w4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?XE(e,e.limit,"L"):e}var dm=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(at(e.integerValue));else if("doubleValue"in e){let r=at(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Sl(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=ki(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Ts(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?XM(e)?this.dt(t,Number.MAX_SAFE_INTEGER):JM(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):le()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(at(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),ce.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};dm.vt=new dm;var pI=class{constructor(){this.un=new mI}addToCollectionParentIndex(e,t){return this.un.add(t),U.resolve()}getCollectionParents(e,t){return U.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return U.resolve()}deleteFieldIndex(e,t){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,t){return U.resolve()}getDocumentsMatchingTarget(e,t){return U.resolve(null)}getIndexType(e,t){return U.resolve(0)}getFieldIndexes(e,t){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,t){return U.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,t){return U.resolve(Ro.min())}updateCollectionGroup(e,t,r){return U.resolve()}updateIndexEntries(e,t){return U.resolve()}},mI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new tn(ft.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(ft.comparator)).toArray()}};var Ute=new Uint8Array(0);var Yr=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Yr.DEFAULT_COLLECTION_PERCENTILE=10,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yr.DEFAULT=new Yr(41943040,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yr.DISABLED=new Yr(-1,0,0);var Nl=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var gI=class{constructor(){this.changes=new Ds(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ir.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?U.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var yI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var vI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Dl(r.mutation,i,er.empty(),Qt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ne()){let i=To();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Il();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=To();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ne()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Oi(),o=Tl(),a=function(){return Tl()}();return t.forEach((c,l)=>{let p=r.get(l.key);i.has(l.key)&&(p===void 0||p.mutation instanceof ni)?s=s.insert(l.key,l):p!==void 0?(o.set(l.key,p.mutation.getFieldMask()),Dl(p.mutation,l,p.mutation.getFieldMask(),Qt.now())):o.set(l.key,er.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,p)=>o.set(l,p)),t.forEach((l,p)=>{var m;return a.set(l,new yI(p,(m=o.get(l))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Tl(),i=new pt((o,a)=>o-a),s=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let p=r.get(c)||er.empty();p=a.applyToLocalView(l,p),r.set(c,p);let m=(i.get(a.batchId)||Ne()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,p=c.value,m=lx();p.forEach(_=>{if(!s.has(_)){let w=gx(t.get(_),r.get(_));w!==null&&m.set(_,w),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,m))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gz(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):U.resolve(To()),a=-1,c=s;return o.next(l=>U.forEach(l,(p,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(p)?U.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{c=c.insert(p,_)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Ne())).next(p=>({batchId:a,changes:ux(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(r=>{let i=Il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Il();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,c=>{let l=function(m,_){return new Ic(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(p=>{p.forEach((m,_)=>{o=o.insert(m,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,l)=>{let p=l.getKey();o.get(p)===null&&(o=o.insert(p,Ir.newInvalidDocument(p)))});let a=Il();return o.forEach((c,l)=>{let p=s.get(c);p!==void 0&&Dl(p.mutation,l,er.empty(),Qt.now()),km(t,l)&&(a=a.insert(c,l))}),a})}};var _I=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return U.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xr(i.createTime)}}(t)),U.resolve()}getNamedQuery(e,t){return U.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:D4(i.bundledQuery),readTime:Xr(i.readTime)}}(t)),U.resolve()}};var wI=class{constructor(){this.overlays=new pt(ce.comparator),this.Ir=new Map}getOverlay(e,t){return U.resolve(this.overlays.get(t))}getOverlays(e,t){let r=To();return U.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),U.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,t,r){let i=To(),s=t.length+1,o=new ce(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return U.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new pt((l,p)=>l-p),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let p=s.get(l.largestBatchId);p===null&&(p=To(),s=s.insert(l.largestBatchId,p)),p.set(l.getKey(),l)}}let a=To(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,p)=>a.set(l,p)),!(a.size()>=i)););return U.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iI(t,r));let s=this.Ir.get(t);s===void 0&&(s=Ne(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var EI=class{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,U.resolve()}};var Pl=class{constructor(){this.Tr=new tn(St.Er),this.dr=new tn(St.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new St(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new St(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new ce(new ft([])),r=new St(t,e),i=new St(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ce(new ft([])),r=new St(t,e),i=new St(t,e+1),s=Ne();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new St(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},St=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ce.comparator(e.key,t.key)||qe(e.wr,t.wr)}static Ar(e,t){return qe(e.wr,t.wr)||ce.comparator(e.key,t.key)}};var II=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new tn(St.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new nI(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new St(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,t){return U.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new St(t,0),i=new St(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tn(qe);return t.forEach(i=>{let s=new St(i,0),o=new St(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;ce.isDocumentKey(s)||(s=s.child(""));let o=new St(new ce(s),0),a=new tn(qe);return this.br.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ze(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(t.mutations,i=>{let s=new St(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new St(t,0),i=this.br.firstAfterOrEqual(r);return U.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var bI=class{constructor(e){this.Mr=e,this.docs=function(){return new pt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return U.resolve(r?r.document.mutableCopy():Ir.newInvalidDocument(t))}getEntries(e,t){let r=Oi();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ir.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Oi(),o=t.path,a=new ce(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:p}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||kz(Pz(p),r)<=0||(i.has(p.key)||km(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,t,r,i){le()}Or(e,t){return U.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new CI(this)}getSize(e){return U.resolve(this.size)}},CI=class extends gI{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var TI=class{constructor(e){this.persistence=e,this.Nr=new Ds(t=>lb(t),db),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Pl,this.targetCount=0,this.kr=Nl.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),U.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Nl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,U.resolve()}updateTargetData(e,t){return this.Kn(t),U.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return U.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),U.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),U.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return U.resolve(r)}containsKey(e,t){return U.resolve(this.Br.containsKey(t))}};var DI=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new YM(0),this.Kr=!1,this.Kr=!0,this.$r=new EI,this.referenceDelegate=e(this),this.Ur=new TI(this),this.indexManager=new pI,this.remoteDocumentCache=function(i){return new bI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new fI(t),this.Gr=new _I(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new II(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){J("MemoryPersistence","Starting transaction:",e);let i=new SI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},SI=class extends UE{constructor(e){super(),this.currentSequenceNumber=e}},AI=class n{constructor(e){this.persistence=e,this.Jr=new Pl,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw le()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),U.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{let i=ce.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,ve.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return U.or([()=>U.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var RI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Ne(),i=Ne();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var MI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var xI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return XA()?8:Fz(Bt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new MI;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(El()<=xe.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",lc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(El()<=xe.DEBUG&&J("QueryEngine","Query:",lc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(El()<=xe.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",lc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(t))):U.resolve())}Yi(e,t){if(AM(t))return U.resolve(null);let r=Jr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=XE(t,null,"F"),r=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Ne(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.ts(t,a);return this.ns(t,l,o,c.readTime)?this.Yi(e,XE(t,null,"F")):this.rs(e,l,t,c)}))})))}Zi(e,t,r,i){return AM(t)||i.isEqual(ve.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?U.resolve(null):(El()<=xe.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lc(t)),this.rs(e,o,t,Nz(i,-1)).next(a=>a))})}ts(e,t){let r=new tn(ax(e));return t.forEach((i,s)=>{km(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return El()<=xe.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",lc(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ro.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var NI=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new pt(qe),this._s=new Ds(s=>lb(s),db),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function S4(n,e,t,r){return new NI(n,e,t,r)}function Dx(n,e){return I(this,null,function*(){let t=fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Ne();for(let l of i){o.push(l.batchId);for(let p of l.mutations)c=c.add(p.key)}for(let l of s){a.push(l.batchId);for(let p of l.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(r,c).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function A4(n,e){let t=fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,p){let m=l.batch,_=m.keys(),w=U.resolve();return _.forEach(D=>{w=w.next(()=>p.getEntry(c,D)).next(P=>{let N=l.docVersions.get(D);Ze(N!==null),P.version.compareTo(N)<0&&(m.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),p.addEntry(P)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ne();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Sx(n){let e=fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function R4(n,e){let t=fe(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((p,m)=>{let _=i.get(m);if(!_)return;a.push(t.Ur.removeMatchingKeys(s,p.removedDocuments,m).next(()=>t.Ur.addMatchingKeys(s,p.addedDocuments,m)));let w=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(nn.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(m,w),function(P,N,F){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(_,w,p)&&a.push(t.Ur.updateTargetData(s,w))});let c=Oi(),l=Ne();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(M4(s,o,e.documentUpdates).next(p=>{c=p.Ps,l=p.Is})),!r.isEqual(ve.min())){let p=t.Ur.getLastRemoteSnapshotVersion(s).next(m=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.os=i,s))}function M4(n,e,t){let r=Ne(),i=Ne();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Oi();return t.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function x4(n,e){let t=fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function N4(n,e){let t=fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new xl(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function PI(n,e,t){return I(this,null,function*(){let r=fe(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ul(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function UM(n,e,t){let r=fe(n),i=ve.min(),s=Ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,p){let m=fe(c),_=m._s.get(p);return _!==void 0?U.resolve(m.os.get(_)):m.Ur.getTargetData(l,p)}(r,o,Jr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:ve.min(),t?s:Ne())).next(a=>(P4(r,Kz(e),a),{documents:a,Ts:s})))}function P4(n,e,t){let r=n.us.get(e)||ve.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var hm=class{constructor(){this.activeTargetIds=e4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var kI=class{constructor(){this.so=new hm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new hm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var OI=class{_o(e){}shutdown(){}};var fm=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Qp=null;function AE(){return Qp===null?Qp=function(){return 268435456+Math.round(2147483648*Math.random())}():Qp++,"0x"+Qp.toString(16)}var k4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var FI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var en="WebChannelConnection",LI=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let a=AE(),c=this.xo(t,r.toUriEncodedString());J("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(t,c,l,i).then(p=>(J("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw gc("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",c,"request:",i),p})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=k4[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=AE();return new Promise((o,a)=>{let c=new IE;c.setWithCredentials(!0),c.listenOnce(bE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case wl.NO_ERROR:let p=c.getResponseJson();J(en,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case wl.TIMEOUT:J(en,`RPC '${e}' ${s} timed out`),a(new te(L.DEADLINE_EXCEEDED,"Request time out"));break;case wl.HTTP_ERROR:let m=c.getStatus();if(J(en,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);let w=_?.error;if(w&&w.status&&w.message){let D=function(N){let F=N.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(F)>=0?F:L.UNKNOWN}(w.status);a(new te(D,w.message))}else a(new te(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new te(L.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{J(en,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);J(en,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=AE(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=DE(),a=TE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let p=s.join("");J(en,`Creating RPC '${e}' stream ${i}: ${p}`,c);let m=o.createWebChannel(p,c),_=!1,w=!1,D=new FI({Io:N=>{w?J(en,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(_||(J(en,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),J(en,`RPC '${e}' stream ${i} sending:`,N),m.send(N))},To:()=>m.close()}),P=(N,F,q)=>{N.listen(F,z=>{try{q(z)}catch(G){setTimeout(()=>{throw G},0)}})};return P(m,uc.EventType.OPEN,()=>{w||(J(en,`RPC '${e}' stream ${i} transport opened.`),D.yo())}),P(m,uc.EventType.CLOSE,()=>{w||(w=!0,J(en,`RPC '${e}' stream ${i} transport closed`),D.So())}),P(m,uc.EventType.ERROR,N=>{w||(w=!0,gc(en,`RPC '${e}' stream ${i} transport errored:`,N),D.So(new te(L.UNAVAILABLE,"The operation could not be completed")))}),P(m,uc.EventType.MESSAGE,N=>{var F;if(!w){let q=N.data[0];Ze(!!q);let z=q,G=z.error||((F=z[0])===null||F===void 0?void 0:F.error);if(G){J(en,`RPC '${e}' stream ${i} received error:`,G);let be=G.status,Y=function(C){let A=Dt[C];if(A!==void 0)return vx(A)}(be),S=G.message;Y===void 0&&(Y=L.INTERNAL,S="Unknown error status: "+be+" with message "+G.message),w=!0,D.So(new te(Y,S)),m.close()}else J(en,`RPC '${e}' stream ${i} received:`,q),D.bo(q)}}),P(a,CE.STAT_EVENT,N=>{N.stat===Wp.PROXY?J(en,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Wp.NOPROXY&&J(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}};function RE(){return typeof document<"u"?document:null}function Om(n){return new cI(n,!0)}var pm=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var mm=class{constructor(e,t,r,i,s,o,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pm(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return I(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return I(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return I(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new te(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>I(this,null,function*(){this.state=0,this.start()}))}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},VI=class extends mm{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=m4(this.serializer,e),r=function(s){if(!("targetChange"in s))return ve.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?Xr(o.readTime):ve.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=hI(this.serializer),t.addTarget=function(s,o){let a,c=o.target;if(a=JE(c)?{documents:v4(s,c)}:{query:_4(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_x(s,o.resumeToken);let l=uI(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ve.min())>0){a.readTime=lm(s,o.snapshotVersion.toTimestamp());let l=uI(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=E4(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=hI(this.serializer),t.removeTarget=e,this.a_(t)}},UI=class extends mm{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=y4(e.writeResults,e.commitTime),r=Xr(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=hI(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>g4(this.serializer,r))};this.a_(t)}};var jI=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new te(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,lI(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(L.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,lI(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(L.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},BI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pi(t),this.D_=!1):J("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var $I=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>I(this,null,function*(){Fo(this)&&(J("RemoteStore","Restarting streams for network reachability change."),yield function(c){return I(this,null,function*(){let l=fe(c);l.L_.add(4),yield jl(l),l.q_.set("Unknown"),l.L_.delete(4),yield Fm(l)})}(this))}))}),this.q_=new BI(r,i)}};function Fm(n){return I(this,null,function*(){if(Fo(n))for(let e of n.B_)yield e(!0)})}function jl(n){return I(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Ax(n,e){let t=fe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),vb(t)?yb(t):xc(t).r_()&&gb(t,e))}function mb(n,e){let t=fe(n),r=xc(t);t.N_.delete(e),r.r_()&&Rx(t,e),t.N_.size===0&&(r.r_()?r.o_():Fo(t)&&t.q_.set("Unknown"))}function gb(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xc(n).A_(e)}function Rx(n,e){n.Q_.xe(e),xc(n).R_(e)}function yb(n){n.Q_=new aI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),xc(n).start(),n.q_.v_()}function vb(n){return Fo(n)&&!xc(n).n_()&&n.N_.size>0}function Fo(n){return fe(n).L_.size===0}function Mx(n){n.Q_=void 0}function O4(n){return I(this,null,function*(){n.q_.set("Online")})}function F4(n){return I(this,null,function*(){n.N_.forEach((e,t)=>{gb(n,e)})})}function L4(n,e){return I(this,null,function*(){Mx(n),vb(n)?(n.q_.M_(e),yb(n)):n.q_.set("Unknown")})}function V4(n,e,t){return I(this,null,function*(){if(n.q_.set("Online"),e instanceof cm&&e.state===2&&e.cause)try{yield function(i,s){return I(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gm(n,r)}else if(e instanceof pc?n.Q_.Ke(e):e instanceof am?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ve.min()))try{let r=yield Sx(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let p=s.N_.get(l);p&&s.N_.set(l,p.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let p=s.N_.get(c);if(!p)return;s.N_.set(c,p.withResumeToken(nn.EMPTY_BYTE_STRING,p.snapshotVersion)),Rx(s,c);let m=new xl(p.target,c,l,p.sequenceNumber);gb(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){J("RemoteStore","Failed to raise snapshot:",r),yield gm(n,r)}})}function gm(n,e,t){return I(this,null,function*(){if(!Ul(e))throw e;n.L_.add(1),yield jl(n),n.q_.set("Offline"),t||(t=()=>Sx(n.localStore)),n.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){J("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Fm(n)}))})}function xx(n,e){return e().catch(t=>gm(n,t,e))}function Lm(n){return I(this,null,function*(){let e=fe(n),t=Ss(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;U4(e);)try{let i=yield x4(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,j4(e,i)}catch(i){yield gm(e,i)}Nx(e)&&Px(e)})}function U4(n){return Fo(n)&&n.O_.length<10}function j4(n,e){n.O_.push(e);let t=Ss(n);t.r_()&&t.V_&&t.m_(e.mutations)}function Nx(n){return Fo(n)&&!Ss(n).n_()&&n.O_.length>0}function Px(n){Ss(n).start()}function B4(n){return I(this,null,function*(){Ss(n).p_()})}function $4(n){return I(this,null,function*(){let e=Ss(n);for(let t of n.O_)e.m_(t.mutations)})}function H4(n,e,t){return I(this,null,function*(){let r=n.O_.shift(),i=rI.from(r,e,t);yield xx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Lm(n)})}function q4(n,e){return I(this,null,function*(){e&&Ss(n).V_&&(yield function(r,i){return I(this,null,function*(){if(function(o){return a4(o)&&o!==L.ABORTED}(i.code)){let s=r.O_.shift();Ss(r).s_(),yield xx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Lm(r)}})}(n,e)),Nx(n)&&Px(n)})}function jM(n,e){return I(this,null,function*(){let t=fe(n);t.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");let r=Fo(t);t.L_.add(3),yield jl(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Fm(t)})}function z4(n,e){return I(this,null,function*(){let t=fe(n);e?(t.L_.delete(2),yield Fm(t)):e||(t.L_.add(2),yield jl(t),t.q_.set("Unknown"))})}function xc(n){return n.K_||(n.K_=function(t,r,i){let s=fe(t);return s.w_(),new VI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:O4.bind(null,n),Ro:F4.bind(null,n),mo:L4.bind(null,n),d_:V4.bind(null,n)}),n.B_.push(e=>I(this,null,function*(){e?(n.K_.s_(),vb(n)?yb(n):n.q_.set("Unknown")):(yield n.K_.stop(),Mx(n))}))),n.K_}function Ss(n){return n.U_||(n.U_=function(t,r,i){let s=fe(t);return s.w_(),new UI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:B4.bind(null,n),mo:q4.bind(null,n),f_:$4.bind(null,n),g_:H4.bind(null,n)}),n.B_.push(e=>I(this,null,function*(){e?(n.U_.s_(),yield Lm(n)):(yield n.U_.stop(),n.O_.length>0&&(J("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var HI=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function _b(n,e){if(Pi("AsyncQueue",`${e}: ${n}`),Ul(n))return new te(L.UNAVAILABLE,`${e}: ${n}`);throw n}var ym=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ce.comparator(t.key,r.key):(t,r)=>ce.comparator(t.key,r.key),this.keyedMap=Il(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var vm=class{constructor(){this.W_=new pt(ce.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):le():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Sc=class n{constructor(e,t,r,i,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,ym.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var qI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},zI=class{constructor(){this.queries=BM(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=fe(t),s=i.queries;i.queries=BM(),s.forEach((o,a)=>{for(let c of a.j_)c.onError(r)})})(this,new te(L.ABORTED,"Firestore shutting down"))}};function BM(){return new Ds(n=>ox(n),Pm)}function kx(n,e){return I(this,null,function*(){let t=fe(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new qI,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=_b(o,`Initialization of query '${lc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&wb(t)})}function Ox(n,e){return I(this,null,function*(){let t=fe(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function G4(n,e){let t=fe(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&wb(t)}function W4(n,e,t){let r=fe(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function wb(n){n.Y_.forEach(e=>{e.next()})}var GI,$M;($M=GI||(GI={})).ea="default",$M.Cache="cache";var _m=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==GI.Cache}};var wm=class{constructor(e){this.key=e}},Em=class{constructor(e){this.key=e}},WI=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ne(),this.mutatedKeys=Ne(),this.Aa=ax(e),this.Ra=new ym(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new vm,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{let _=i.get(p),w=km(this.query,m)?m:null,D=!!_&&this.mutatedKeys.has(_.key),P=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),N=!1;_&&w?_.data.isEqual(w.data)?D!==P&&(r.track({type:3,doc:w}),N=!0):this.ga(_,w)||(r.track({type:2,doc:w}),N=!0,(c&&this.Aa(w,c)>0||l&&this.Aa(w,l)<0)&&(a=!0)):!_&&w?(r.track({type:0,doc:w}),N=!0):_&&!w&&(r.track({type:1,doc:_}),N=!0,(c||l)&&(a=!0)),N&&(w?(o=o.add(w),s=P?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((p,m)=>function(w,D){let P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return P(w)-P(D)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,l=c!==this.Ea;return this.Ea=c,o.length!==0||l?{snapshot:new Sc(this.query,e.Ra,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ne(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Em(r))}),this.da.forEach(r=>{e.has(r)||t.push(new wm(r))}),t}ba(e){this.Ta=e.Ts,this.da=Ne();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Sc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},KI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},QI=class{constructor(e){this.key=e,this.va=!1}},YI=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ds(a=>ox(a),Pm),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(ce.comparator),this.Na=new Map,this.La=new Pl,this.Ba={},this.ka=new Map,this.qa=Nl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function K4(n,e,t=!0){return I(this,null,function*(){let r=Bx(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield Fx(r,e,t,!0),i})}function Q4(n,e){return I(this,null,function*(){let t=Bx(n);yield Fx(t,e,!0,!1)})}function Fx(n,e,t,r){return I(this,null,function*(){let i=yield N4(n.localStore,Jr(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield Y4(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&Ax(n.remoteStore,i),a})}function Y4(n,e,t,r,i){return I(this,null,function*(){n.Ka=(m,_,w)=>function(P,N,F,q){return I(this,null,function*(){let z=N.view.ma(F);z.ns&&(z=yield UM(P.localStore,N.query,!1).then(({documents:S})=>N.view.ma(S,z)));let G=q&&q.targetChanges.get(N.targetId),be=q&&q.targetMismatches.get(N.targetId)!=null,Y=N.view.applyChanges(z,P.isPrimaryClient,G,be);return qM(P,N.targetId,Y.wa),Y.snapshot})}(n,m,_,w);let s=yield UM(n.localStore,e,!0),o=new WI(e,s.Ts),a=o.ma(s.documents),c=Ml.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(a,n.isPrimaryClient,c);qM(n,t,l.wa);let p=new KI(e,t,o);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function Z4(n,e,t){return I(this,null,function*(){let r=fe(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Pm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield PI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&mb(r.remoteStore,i.targetId),ZI(r,i.targetId)}).catch(Vl))):(ZI(r,i.targetId),yield PI(r.localStore,i.targetId,!0))})}function J4(n,e){return I(this,null,function*(){let t=fe(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),mb(t.remoteStore,r.targetId))})}function X4(n,e,t){return I(this,null,function*(){let r=o3(n);try{let i=yield function(o,a){let c=fe(o),l=Qt.now(),p=a.reduce((w,D)=>w.add(D.key),Ne()),m,_;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let D=Oi(),P=Ne();return c.cs.getEntries(w,p).next(N=>{D=N,D.forEach((F,q)=>{q.isValidDocument()||(P=P.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,D)).next(N=>{m=N;let F=[];for(let q of a){let z=o4(q,m.get(q.key).overlayedDocument);z!=null&&F.push(new ni(q.key,z,ex(z.value.mapValue),bs.exists(!0)))}return c.mutationQueue.addMutationBatch(w,l,F,a)}).next(N=>{_=N;let F=N.applyToLocalDocumentSet(m,P);return c.documentOverlayCache.saveOverlays(w,N.batchId,F)})}).then(()=>({batchId:_.batchId,changes:ux(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Ba[o.currentUser.toKey()];l||(l=new pt(qe)),l=l.insert(a,c),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,t),yield Bl(r,i.changes),yield Lm(r.remoteStore)}catch(i){let s=_b(i,"Failed to persist write");t.reject(s)}})}function Lx(n,e){return I(this,null,function*(){let t=fe(n);try{let r=yield R4(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ze(o.va):i.removedDocuments.size>0&&(Ze(o.va),o.va=!1))}),yield Bl(t,r,e)}catch(r){yield Vl(r)}})}function HM(n,e,t){let r=fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=fe(o);c.onlineState=a;let l=!1;c.queries.forEach((p,m)=>{for(let _ of m.j_)_.Z_(a)&&(l=!0)}),l&&wb(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function e3(n,e,t){return I(this,null,function*(){let r=fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new pt(ce.comparator);o=o.insert(s,Ir.newNoDocument(s,ve.min()));let a=Ne().add(s),c=new om(ve.min(),new Map,new pt(qe),o,a);yield Lx(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),Eb(r)}else yield PI(r.localStore,e,!1).then(()=>ZI(r,e,t)).catch(Vl)})}function t3(n,e){return I(this,null,function*(){let t=fe(n),r=e.batch.batchId;try{let i=yield A4(t.localStore,e);Ux(t,r,null),Vx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Bl(t,i)}catch(i){yield Vl(i)}})}function n3(n,e,t){return I(this,null,function*(){let r=fe(n);try{let i=yield function(o,a){let c=fe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let p;return c.mutationQueue.lookupMutationBatch(l,a).next(m=>(Ze(m!==null),p=m.keys(),c.mutationQueue.removeMutationBatch(l,m))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,p,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,p)).next(()=>c.localDocuments.getDocuments(l,p))})}(r.localStore,e);Ux(r,e,t),Vx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Bl(r,i)}catch(i){yield Vl(i)}})}function Vx(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function Ux(n,e,t){let r=fe(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ZI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||jx(n,r)})}function jx(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(mb(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Eb(n))}function qM(n,e,t){for(let r of t)r instanceof wm?(n.La.addReference(r.key,e),r3(n,r)):r instanceof Em?(J("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||jx(n,r.key)):le()}function r3(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(J("SyncEngine","New document in limbo: "+t),n.xa.add(r),Eb(n))}function Eb(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ce(ft.fromString(e)),r=n.qa.next();n.Na.set(r,new QI(t)),n.Oa=n.Oa.insert(t,r),Ax(n.remoteStore,new xl(Jr(hb(t.path)),r,"TargetPurposeLimboResolution",YM.oe))}}function Bl(n,e,t){return I(this,null,function*(){let r=fe(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,t).then(l=>{var p;if((l||t)&&r.isPrimaryClient){let m=l?!l.fromCache:(p=t?.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(l){i.push(l);let m=RI.Wi(c.targetId,l);s.push(m)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(c,l){return I(this,null,function*(){let p=fe(c);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>U.forEach(l,_=>U.forEach(_.$i,w=>p.persistence.referenceDelegate.addReference(m,_.targetId,w)).next(()=>U.forEach(_.Ui,w=>p.persistence.referenceDelegate.removeReference(m,_.targetId,w)))))}catch(m){if(!Ul(m))throw m;J("LocalStore","Failed to update sequence numbers: "+m)}for(let m of l){let _=m.targetId;if(!m.fromCache){let w=p.os.get(_),D=w.snapshotVersion,P=w.withLastLimboFreeSnapshotVersion(D);p.os=p.os.insert(_,P)}}})}(r.localStore,s))})}function i3(n,e){return I(this,null,function*(){let t=fe(n);if(!t.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());let r=yield Dx(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new te(L.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bl(t,r.hs)}})}function s3(n,e){let t=fe(n),r=t.Na.get(e);if(r&&r.va)return Ne().add(r.key);{let i=Ne(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function Bx(n){let e=fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e3.bind(null,e),e.Ca.d_=G4.bind(null,e.eventManager),e.Ca.$a=W4.bind(null,e.eventManager),e}function o3(n){let e=fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n3.bind(null,e),e}var zM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return I(this,null,function*(){this.serializer=Om(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return S4(this.persistence,new xI,t.initialUser,this.serializer)}Ga(t){return new DI(AI.Zr,this.serializer)}Wa(t){return new kI}terminate(){return I(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var a3=(()=>{class n{initialize(t,r){return I(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>HM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=i3.bind(null,this.syncEngine),yield z4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new zI}()}createDatastore(t){let r=Om(t.databaseInfo.databaseId),i=function(o){return new LI(o)}(t.databaseInfo);return function(o,a,c,l){return new jI(o,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,c){return new $I(i,s,o,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>HM(this.syncEngine,r,0),function(){return fm.D()?new fm:new OI}())}createSyncEngine(t,r){return function(s,o,a,c,l,p,m){let _=new YI(s,o,a,c,l,p);return m&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return I(this,null,function*(){var t,r;yield function(s){return I(this,null,function*(){let o=fe(s);J("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield jl(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Im=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var JI=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=Xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>I(this,null,function*(){J("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(J("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=_b(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ME(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield Dx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function GM(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield c3(n);J("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>jM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>jM(e.remoteStore,i)),n._onlineComponents=e})}function c3(n){return I(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ME(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;gc("Error using user provided cache. Falling back to memory cache: "+t),yield ME(n,new zM)}}else J("FirestoreClient","Using default OfflineComponentProvider"),yield ME(n,new zM);return n._offlineComponents})}function $x(n){return I(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),yield GM(n,n._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),yield GM(n,new a3))),n._onlineComponents})}function u3(n){return $x(n).then(e=>e.syncEngine)}function Hx(n){return I(this,null,function*(){let e=yield $x(n),t=e.eventManager;return t.onListen=K4.bind(null,e.syncEngine),t.onUnlisten=Z4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Q4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=J4.bind(null,e.syncEngine),t})}function l3(n,e,t={}){let r=new Er;return n.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(s,o,a,c,l){let p=new Im({next:_=>{p.Za(),o.enqueueAndForget(()=>Ox(s,m));let w=_.docs.has(a);!w&&_.fromCache?l.reject(new te(L.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&c&&c.source==="server"?l.reject(new te(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(_)},error:_=>l.reject(_)}),m=new _m(hb(a.path),p,{includeMetadataChanges:!0,_a:!0});return kx(s,m)}(yield Hx(n),n.asyncQueue,e,t,r)})),r.promise}function d3(n,e,t={}){let r=new Er;return n.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(s,o,a,c,l){let p=new Im({next:_=>{p.Za(),o.enqueueAndForget(()=>Ox(s,m)),_.fromCache&&c.source==="server"?l.reject(new te(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(_)},error:_=>l.reject(_)}),m=new _m(a,p,{includeMetadataChanges:!0,_a:!0});return kx(s,m)}(yield Hx(n),n.asyncQueue,e,t,r)})),r.promise}function qx(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var WM=new Map;function zx(n,e,t){if(!t)throw new te(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function h3(n,e,t,r){if(e===!0&&r===!0)throw new te(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function KM(n){if(!ce.isDocumentKey(n))throw new te(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QM(n){if(ce.isDocumentKey(n))throw new te(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ib(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":le()}function Fi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new te(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Ib(n);throw new te(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var bm=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ac=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xE;switch(r.type){case"firstParty":return new OE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=WM.get(t);r&&(J("ComponentProvider","Removing Datastore"),WM.delete(t),r.terminate())}(this),Promise.resolve()}};function Gx(n,e,t,r={}){var i;let s=(n=Fi(n,Ac))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=$t.MOCK_USER;else{a=mp(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new te(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new $t(l)}n._authCredentials=new NE(new Jp(a,c))}}var Cm=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},gn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Cs=class n extends Cm{constructor(e,t,r){super(e,t,hb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ce(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Wx(n,e,...t){if(n=nt(n),zx("collection","path",e),n instanceof Ac){let r=ft.fromString(e,...t);return QM(r),new Cs(n,null,r)}{if(!(n instanceof gn||n instanceof Cs))throw new te(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ft.fromString(e,...t));return QM(r),new Cs(n.firestore,null,r)}}function Kx(n,e,...t){if(n=nt(n),arguments.length===1&&(e=Xp.newId()),zx("doc","path",e),n instanceof Ac){let r=ft.fromString(e,...t);return KM(r),new gn(n,null,new ce(r))}{if(!(n instanceof gn||n instanceof Cs))throw new te(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ft.fromString(e,...t));return KM(r),new gn(n.firestore,n instanceof Cs?n.converter:null,new ce(r))}}var Tm=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pm(this,"async_queue_retry"),this.Vu=()=>{let r=RE();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=RE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=RE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Er;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return I(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ul(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Pi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=HI.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&le()}verifyOperationInProgress(){}wu(){return I(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var ko=class extends Ac{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Tm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Tm(e),this._firestoreClient=void 0,yield e}})}};function Qx(n,e){let t=typeof n=="object"?n:vr(),r=typeof n=="string"?n:e||"(default)",i=Xn(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=pp("firestore");s&&Gx(i,...s)}return i}function bb(n){if(n._terminated)throw new te(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||f3(n),n._firestoreClient}function f3(n){var e,t,r;let i=n._freezeSettings(),s=function(a,c,l,p){return new jE(a,c,l,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qx(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new JI(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var kl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(nn.fromBase64String(e))}catch(t){throw new te(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Rc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new te(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ol=class{constructor(e){this._methodName=e}};var Fl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new te(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new te(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}};var Ll=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var p3=/^__.*__$/,XI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ni(e,this.data,this.fieldMask,t,this.fieldTransforms):new Po(e,this.data,t,this.fieldTransforms)}},Dm=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ni(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Yx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}var eb=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Am(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Yx(this.Cu)&&p3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},tb=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Om(e)}Qu(e,t,r,i=!1){return new eb({Cu:e,methodName:t,qu:r,path:Fn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Zx(n){let e=n._freezeSettings(),t=Om(n._databaseId);return new tb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function m3(n,e,t,r,i,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);Cb("Data must be an object, but it was:",o,r);let a=Jx(r,o),c,l;if(s.merge)c=new er(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let p=[];for(let m of s.mergeFields){let _=nb(e,m,t);if(!o.contains(_))throw new te(L.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);eN(p,_)||p.push(_)}c=new er(p),l=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,l=o.fieldTransforms;return new XI(new On(a),c,l)}var Sm=class n extends Ol{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function g3(n,e,t,r){let i=n.Qu(1,e,t);Cb("Data must be an object, but it was:",i,r);let s=[],o=On.empty();Oo(r,(c,l)=>{let p=Tb(e,c,t);l=nt(l);let m=i.Nu(p);if(l instanceof Sm)s.push(p);else{let _=Vm(l,m);_!=null&&(s.push(p),o.set(p,_))}});let a=new er(s);return new Dm(o,a,i.fieldTransforms)}function y3(n,e,t,r,i,s){let o=n.Qu(1,e,t),a=[nb(e,r,t)],c=[i];if(s.length%2!=0)throw new te(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)a.push(nb(e,s[_])),c.push(s[_+1]);let l=[],p=On.empty();for(let _=a.length-1;_>=0;--_)if(!eN(l,a[_])){let w=a[_],D=c[_];D=nt(D);let P=o.Nu(w);if(D instanceof Sm)l.push(w);else{let N=Vm(D,P);N!=null&&(l.push(w),p.set(w,N))}}let m=new er(l);return new Dm(p,m,o.fieldTransforms)}function Vm(n,e){if(Xx(n=nt(n)))return Cb("Unsupported field value:",e,n),Jx(n,e);if(n instanceof Ol)return function(r,i){if(!Yx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Vm(a,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return t4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Qt.fromDate(r);return{timestampValue:lm(i.serializer,s)}}if(r instanceof Qt){let s=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lm(i.serializer,s)}}if(r instanceof Fl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kl)return{bytesValue:_x(i.serializer,r._byteString)};if(r instanceof gn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ll)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return fb(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Ib(r)}`)}(n,e)}function Jx(n,e){let t={};return ZM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(n,(r,i)=>{let s=Vm(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function Xx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qt||n instanceof Fl||n instanceof kl||n instanceof gn||n instanceof Ol||n instanceof Ll)}function Cb(n,e,t){if(!Xx(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Ib(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function nb(n,e,t){if((e=nt(e))instanceof Rc)return e._internalPath;if(typeof e=="string")return Tb(n,e);throw Am("Field path arguments must be of type string or ",n,!1,void 0,t)}var v3=new RegExp("[~\\*/\\[\\]]");function Tb(n,e,t){if(e.search(v3)>=0)throw Am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rc(...e.split("."))._internalPath}catch{throw Am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Am(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new te(L.INVALID_ARGUMENT,a+n+c)}function eN(n,e){return n.some(t=>t.isEqual(e))}var Rm=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new rb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(tN("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},rb=class extends Rm{data(){return super.data()}};function tN(n,e){return typeof e=="string"?Tb(n,e):e instanceof Rc?e._internalPath:e._delegate._internalPath}function _3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new te(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ib=class{convertValue(e,t="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw le()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Oo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>at(o.doubleValue));return new Ll(s)}convertGeoPoint(e){return new Fl(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=cb(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Al(e));default:return null}}convertTimestamp(e){let t=ki(e);return new Qt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ft.fromString(e);Ze(Tx(r));let i=new rm(r.get(1),r.get(3)),s=new ce(r.popFirst(5));return i.isEqual(t)||Pi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function w3(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var So=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Mm=class extends Rm{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(tN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},mc=class extends Mm{data(e={}){return super.data(e)}},sb=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new So(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mc(this._firestore,this._userDataWriter,r.key,r,new So(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new te(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new mc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new So(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new mc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new So(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,p=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:E3(a.type),doc:c,oldIndex:l,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function E3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}function nN(n){n=Fi(n,gn);let e=Fi(n.firestore,ko);return l3(bb(e),n._key).then(t=>I3(e,n,t))}var xm=class extends ib{constructor(e){super(),this.firestore=e}convertBytes(e){return new kl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}};function rN(n){n=Fi(n,Cm);let e=Fi(n.firestore,ko),t=bb(e),r=new xm(e);return _3(n._query),d3(t,n._query).then(i=>new sb(e,r,n,i))}function iN(n,e,t){n=Fi(n,gn);let r=Fi(n.firestore,ko),i=w3(n.converter,e,t);return oN(r,[m3(Zx(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,bs.none())])}function sN(n,e,t,...r){n=Fi(n,gn);let i=Fi(n.firestore,ko),s=Zx(i),o;return o=typeof(e=nt(e))=="string"||e instanceof Rc?y3(s,"updateDoc",n._key,e,t,r):g3(s,"updateDoc",n._key,e),oN(i,[o.toMutation(n._key,bs.exists(!0))])}function oN(n,e){return function(r,i){let s=new Er;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return X4(yield u3(r),i,s)})),s.promise}(bb(n),e)}function I3(n,e,t){let r=t.docs.get(e._key),i=new xm(n);return new Mm(n,i,e._key,r,new So(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Mc=i})(Gr),Xt(new Tt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new ko(new PE(r.getProvider("auth-internal")),new LE(r.getProvider("app-check-internal")),function(l,p){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new te(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rm(l.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),He(_M,"4.7.3",e),He(_M,"4.7.3","esm2017")})();var Ln=class{constructor(e){return e}},aN="firestore",Db=class{constructor(){return Di(aN)}};var Sb=new X("angularfire2.firestore-instances");function b3(n,e){let t=_s(aN,n,e);return t&&new Ln(t)}function C3(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ln(r)}}var T3={provide:Db,deps:[[new ut,Sb]]},D3={provide:Ln,useFactory:b3,deps:[[new ut,Sb],Pn]};function cN(n,...e){return He("angularfire",_r.full,"fst"),fn([D3,T3,{provide:Sb,useFactory:C3(n),multi:!0,deps:[_e,Ot,Wr,wr,[new ut,Co],[new ut,vs],...e]}])}var Um=ot(Wx,!0);var br=ot(Kx,!0);var $l=ot(nN,!0);var jm=ot(rN,!0);var uN=ot(Qx,!0);var Hl=ot(iN,!0);var lN=ot(sN,!0);function S3(n,e){if(n&1){let t=jt();B(0,"li")(1,"a",6),Se("click",function(){Qe(t);let i=me();return Ye(i.navigateTo("/login"))}),ie(2,"Login"),H()()}}function A3(n,e){if(n&1){let t=jt();B(0,"li")(1,"a",7),Se("click",function(){Qe(t);let i=me();return Ye(i.navigateTo("/registro"))}),ie(2,"Registro"),H()()}}function R3(n,e){if(n&1){let t=jt();B(0,"li")(1,"a",8),Se("click",function(){Qe(t);let i=me();return Ye(i.navigateTo("/seccion-usuarios"))}),ie(2,"Usuarios"),H()()}}function M3(n,e){if(n&1){let t=jt();B(0,"li")(1,"a",9),Se("click",function(){Qe(t);let i=me();return Ye(i.cerrarSesion())}),ie(2,"Cerrar Sesi\xF3n"),H()()}}function x3(n,e){n&1&&(B(0,"div",10),vt(1,"div",11),H())}function N3(n,e){n&1&&(B(0,"div")(1,"h2"),ie(2,"Bienvenido a la Cl\xEDnica XYZ"),H(),B(3,"p"),ie(4,"Seleccione una opci\xF3n para comenzar..."),H()())}var $m=class n{constructor(e,t,r){this.router=e;this.auth=t;this.firestore=r}isAdmin=!1;isLoggedIn=!1;isLoading=!0;ngOnInit(){setTimeout(()=>{this.isLoading=!1},2e3);let e=$p();mM(e,t=>I(this,null,function*(){if(t){this.isLoggedIn=!0;let r=br(this.firestore,"administradores",t.uid);(yield $l(r)).exists()&&(this.isAdmin=!0)}else this.isLoggedIn=!1,this.isAdmin=!1}))}navigateTo(e){this.router.navigate([e])}cerrarSesion(){return I(this,null,function*(){try{yield qp(this.auth),this.router.navigate(["/home"])}catch(e){console.error("Error al cerrar sesi\xF3n: ",e)}})}static \u0275fac=function(t){return new(t||n)(re(zr),re(kn),re(Ln))};static \u0275cmp=Tn({type:n,selectors:[["app-home"]],standalone:!0,features:[Yn],decls:14,vars:6,consts:[[1,"navbar"],[1,"navbar__container"],[1,"navbar__brand"],[1,"navbar__links"],[4,"ngIf"],["class","loading-spinner-container",4,"ngIf"],["routerLink","/login","routerLinkActive","active",1,"navbar__link",3,"click"],["routerLink","/registro","routerLinkActive","active",1,"navbar__link",3,"click"],["routerLink","/seccion-usuarios","routerLinkActive","active",1,"navbar__link",3,"click"],["routerLinkActive","active",1,"navbar__link",3,"click"],[1,"loading-spinner-container"],[1,"loading-spinner"]],template:function(t,r){t&1&&(B(0,"header",0)(1,"div",1)(2,"div",2)(3,"h1"),ie(4,"Cl\xEDnica XYZ"),H()(),B(5,"nav",3)(6,"ul"),ze(7,S3,3,0,"li",4)(8,A3,3,0,"li",4)(9,R3,3,0,"li",4)(10,M3,3,0,"li",4),H()()()(),B(11,"main"),ze(12,x3,2,0,"div",5)(13,N3,5,0,"div",4),H()),t&2&&(se(7),ue("ngIf",!r.isLoggedIn),se(),ue("ngIf",!r.isLoggedIn),se(),ue("ngIf",r.isAdmin),se(),ue("ngIf",r.isLoggedIn),se(2),ue("ngIf",r.isLoading),se(),ue("ngIf",!r.isLoading))},dependencies:[Zn,ps],styles:[".navbar[_ngcontent-%COMP%]{background-color:#00796b;color:#fff;padding:1rem}.navbar__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.navbar__brand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.navbar__links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;gap:1rem;margin:0;padding:0}.navbar__links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .navbar__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:600;cursor:pointer;transition:color .3s}.navbar__links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .navbar__link[_ngcontent-%COMP%]:hover{color:#b2dfdb}main[_ngcontent-%COMP%]{padding:2rem;text-align:center}main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}.loading-spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.loading-spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var wN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(re(wi),re(_i))}}static{this.\u0275dir=ht({type:n})}}return n})(),eg=(()=>{class n extends wN{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vi(n)))(i||n)}})()}static{this.\u0275dir=ht({type:n,features:[An]})}}return n})(),Ql=new X("");var P3={provide:Ql,useExisting:$r(()=>Ms),multi:!0};function k3(){let n=Hr()?Hr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var O3=new X(""),Ms=(()=>{class n extends wN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!k3())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(re(wi),re(_i),re(O3,8))}}static{this.\u0275dir=ht({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Se("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ei([P3]),An]})}}return n})();function As(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function EN(n){return n!=null&&typeof n.length=="number"}var Pb=new X(""),IN=new X(""),F3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Pe=class{static min(e){return L3(e)}static max(e){return V3(e)}static required(e){return bN(e)}static requiredTrue(e){return U3(e)}static email(e){return j3(e)}static minLength(e){return B3(e)}static maxLength(e){return $3(e)}static pattern(e){return H3(e)}static nullValidator(e){return Gm(e)}static compose(e){return RN(e)}static composeAsync(e){return xN(e)}};function L3(n){return e=>{if(As(e.value)||As(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function V3(n){return e=>{if(As(e.value)||As(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function bN(n){return As(n.value)?{required:!0}:null}function U3(n){return n.value===!0?null:{required:!0}}function j3(n){return As(n.value)||F3.test(n.value)?null:{email:!0}}function B3(n){return e=>As(e.value)||!EN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function $3(n){return e=>EN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function H3(n){if(!n)return Gm;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(As(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Gm(n){return null}function CN(n){return n!=null}function TN(n){return uo(n)?yt(n):n}function DN(n){let e={};return n.forEach(t=>{e=t!=null?j(j({},e),t):e}),Object.keys(e).length===0?null:e}function SN(n,e){return e.map(t=>t(n))}function q3(n){return!n.validate}function AN(n){return n.map(e=>q3(e)?e:t=>e.validate(t))}function RN(n){if(!n)return null;let e=n.filter(CN);return e.length==0?null:function(t){return DN(SN(t,e))}}function MN(n){return n!=null?RN(AN(n)):null}function xN(n){if(!n)return null;let e=n.filter(CN);return e.length==0?null:function(t){let r=SN(t,e).map(TN);return Ey(r).pipe(Te(DN))}}function NN(n){return n!=null?xN(AN(n)):null}function dN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function PN(n){return n._rawValidators}function kN(n){return n._rawAsyncValidators}function Ab(n){return n?Array.isArray(n)?n:[n]:[]}function Wm(n,e){return Array.isArray(n)?n.includes(e):n===e}function hN(n,e){let t=Ab(e);return Ab(n).forEach(i=>{Wm(t,i)||t.push(i)}),t}function fN(n,e){return Ab(e).filter(t=>!Wm(n,t))}var Km=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=NN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},kc=class extends Km{get formDirective(){return null}get path(){return null}},Kl=class extends Km{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Qm=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},z3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Are=he(j({},z3),{"[class.ng-submitted]":"isSubmitted"}),Fc=(()=>{class n extends Qm{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(re(Kl,2))}}static{this.\u0275dir=ht({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ff("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[An]})}}return n})(),Lc=(()=>{class n extends Qm{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(re(kc,10))}}static{this.\u0275dir=ht({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ff("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[An]})}}return n})();var ql="VALID",qm="INVALID",Nc="PENDING",zl="DISABLED",Rs=class{},Ym=class extends Rs{constructor(e,t){super(),this.value=e,this.source=t}},Gl=class extends Rs{constructor(e,t){super(),this.pristine=e,this.source=t}},Wl=class extends Rs{constructor(e,t){super(),this.touched=e,this.source=t}},Pc=class extends Rs{constructor(e,t){super(),this.status=e,this.source=t}},Rb=class extends Rs{constructor(e){super(),this.source=e}},Mb=class extends Rs{constructor(e){super(),this.source=e}};function kb(n){return(tg(n)?n.validators:n)||null}function G3(n){return Array.isArray(n)?MN(n):n||null}function Ob(n,e){return(tg(e)?e.asyncValidators:n)||null}function W3(n){return Array.isArray(n)?NN(n):n||null}function tg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ON(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")}function FN(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new V(1002,"")})}var Oc=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Lu(()=>this.statusReactive()),this.statusReactive=Ou(void 0),this._pristine=Lu(()=>this.pristineReactive()),this.pristineReactive=Ou(!0),this._touched=Lu(()=>this.touchedReactive()),this.touchedReactive=Ou(!1),this._events=new zt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ii(this.statusReactive)}set status(e){Ii(()=>this.statusReactive.set(e))}get valid(){return this.status===ql}get invalid(){return this.status===qm}get pending(){return this.status==Nc}get disabled(){return this.status===zl}get enabled(){return this.status!==zl}get pristine(){return Ii(this.pristineReactive)}set pristine(e){Ii(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Ii(this.touchedReactive)}set touched(e){Ii(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fN(e,this._rawAsyncValidators))}hasValidator(e){return Wm(this._rawValidators,e)}hasAsyncValidator(e){return Wm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Wl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Wl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Gl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Gl(!0,r))}markAsPending(e={}){this.status=Nc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(j({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zl,this.errors=null,this._forEachChild(i=>{i.disable(he(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ym(this.value,r)),this._events.next(new Pc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ql,this._forEachChild(r=>{r.enable(he(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ql||this.status===Nc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ym(this.value,t)),this._events.next(new Pc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(j({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zl:ql}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Nc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=TN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Pc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ct,this.statusChanges=new Ct}_calculateStatus(){return this._allControlsDisabled()?zl:this.errors?qm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nc)?Nc:this._anyControlsHaveStatus(qm)?qm:ql}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Gl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Wl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=G3(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=W3(this._rawAsyncValidators)}},Zm=class extends Oc{constructor(e,t,r){super(kb(t),Ob(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){FN(this,!0,e),Object.keys(e).forEach(r=>{ON(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var xb=class extends Zm{};var LN=new X("CallSetDisabledState",{providedIn:"root",factory:()=>Fb}),Fb="always";function K3(n,e){return[...e.path,n]}function pN(n,e,t=Fb){Lb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Y3(n,e),J3(n,e),Z3(n,e),Q3(n,e)}function mN(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Xm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Jm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Q3(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Lb(n,e){let t=PN(n);e.validator!==null?n.setValidators(dN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=kN(n);e.asyncValidator!==null?n.setAsyncValidators(dN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Jm(e._rawValidators,i),Jm(e._rawAsyncValidators,i)}function Xm(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=PN(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=kN(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Jm(e._rawValidators,r),Jm(e._rawAsyncValidators,r),t}function Y3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&VN(n,e)})}function Z3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&VN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function VN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function J3(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function X3(n,e){n==null,Lb(n,e)}function e5(n,e){return Xm(n,e)}function t5(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function n5(n){return Object.getPrototypeOf(n.constructor)===eg}function r5(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function i5(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Ms?t=s:n5(s)?r=s:i=s}),i||r||t||null}function s5(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function gN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function yN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var zm=class extends Oc{constructor(e=null,t,r){super(kb(t),Ob(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(yN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){yN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var o5=n=>n instanceof zm;var Vc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ht({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),a5={provide:Ql,useExisting:$r(()=>Yl),multi:!0},Yl=(()=>{class n extends eg{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vi(n)))(i||n)}})()}static{this.\u0275dir=ht({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Se("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ei([a5]),An]})}}return n})();var UN=new X("");var c5={provide:kc,useExisting:$r(()=>Lo)},Lo=(()=>{class n extends kc{get submitted(){return Ii(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Lu(()=>this._submittedReactive()),this._submittedReactive=Ou(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ct,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return pN(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){mN(t.control||null,t,!1),s5(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),r5(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Rb(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Mb(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(mN(r||null,t),o5(i)&&(pN(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);X3(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&e5(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lb(this.form,this),this._oldForm&&Xm(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(re(Pb,10),re(IN,10),re(LN,8))}}static{this.\u0275dir=ht({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Se("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ei([c5]),An,yi]})}}return n})();var u5={provide:Kl,useExisting:$r(()=>Vo)},Vo=(()=>{class n extends Kl{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Ct,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=i5(this,s)}ngOnChanges(t){this._added||this._setUpControl(),t5(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return K3(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(re(kc,13),re(Pb,10),re(IN,10),re(Ql,10),re(UN,8))}}static{this.\u0275dir=ht({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ei([u5]),An,yi]})}}return n})(),l5={provide:Ql,useExisting:$r(()=>ng),multi:!0};function jN(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function d5(n){return n.split(":")[0]}var ng=(()=>{class n extends eg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=jN(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=d5(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vi(n)))(i||n)}})()}static{this.\u0275dir=ht({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Se("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ei([l5]),An]})}}return n})(),BN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(jN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(re(_i),re(wi),re(ng,9))}}static{this.\u0275dir=ht({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),h5={provide:Ql,useExisting:$r(()=>$N),multi:!0};function vN(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function f5(n){return n.split(":")[0]}var $N=(()=>{class n extends eg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],l=this._getOptionValue(c.value);i.push(l)}}else{let o=r.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=f5(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vi(n)))(i||n)}})()}static{this.\u0275dir=ht({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Se("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ei([h5]),An]})}}return n})(),HN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(vN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(vN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(re(_i),re(wi),re($N,9))}}static{this.\u0275dir=ht({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var p5=(()=>{class n{constructor(){this._validator=Gm}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Gm,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ht({type:n,features:[yi]})}}return n})();var m5={provide:Pb,useExisting:$r(()=>Uo),multi:!0};var Uo=(()=>{class n extends p5{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Bf,this.createValidator=t=>bN}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vi(n)))(i||n)}})()}static{this.\u0275dir=ht({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Of("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ei([m5]),An]})}}return n})();var g5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Dn({type:n})}static{this.\u0275inj=Cn({})}}return n})(),Nb=class extends Oc{constructor(e,t,r){super(kb(t),Ob(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){FN(this,!1,e),e.forEach((r,i)=>{ON(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function _N(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Uc=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return _N(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Zm(i,s)}record(t,r=null){let i=this._reduceControls(t);return new xb(i,r)}control(t,r,i){let s={};return this.useNonNullable?(_N(r)?s=r:(s.validators=r,s.asyncValidators=i),new zm(t,he(j({},s),{nonNullable:!0}))):new zm(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new Nb(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof zm)return t;if(t instanceof Oc)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:UN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:LN,useValue:t.callSetDisabledState??Fb}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Dn({type:n})}static{this.\u0275inj=Cn({imports:[g5]})}}return n})();var YN="firebasestorage.googleapis.com",ZN="storageBucket",y5=2*60*1e3,v5=10*60*1e3;var mt=class n extends Kt{constructor(e,t,r=0){super(Ub(e),`Firebase Storage: ${t} (${Ub(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ub(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},_t=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(_t||{});function Ub(n){return"storage/"+n}function zb(){let n="An unknown error occurred, please check the error payload for server response.";return new mt(_t.UNKNOWN,n)}function _5(n){return new mt(_t.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function w5(n){return new mt(_t.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function E5(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(_t.UNAUTHENTICATED,n)}function I5(){return new mt(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function b5(n){return new mt(_t.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function C5(){return new mt(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function T5(){return new mt(_t.CANCELED,"User canceled the upload/download.")}function D5(n){return new mt(_t.INVALID_URL,"Invalid URL '"+n+"'.")}function S5(n){return new mt(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function A5(){return new mt(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ZN+"' property when initializing the app?")}function R5(){return new mt(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function M5(){return new mt(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function x5(n){return new mt(_t.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jb(n){return new mt(_t.INVALID_ARGUMENT,n)}function JN(){return new mt(_t.APP_DELETED,"The Firebase app was deleted.")}function N5(n){return new mt(_t.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jl(n,e){return new mt(_t.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Zl(n){throw new mt(_t.INTERNAL_ERROR,"Internal error: "+n)}var Cr=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw S5(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(G){G.path_=decodeURIComponent(G.path)}let p="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",w=new RegExp(`^https?://${m}/${p}/b/${i}/o${_}`,"i"),D={bucket:1,path:3},P=t===YN?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",F=new RegExp(`^https?://${P}/${i}/${N}`,"i"),z=[{regex:a,indices:c,postModify:s},{regex:w,indices:D,postModify:l},{regex:F,indices:{bucket:1,path:2},postModify:l}];for(let G=0;G<z.length;G++){let be=z[G],Y=be.regex.exec(e);if(Y){let S=Y[be.indices.bucket],b=Y[be.indices.path];b||(b=""),r=new n(S,b),be.postModify(r);break}}if(r==null)throw D5(e);return r}},Bb=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function P5(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let l=!1;function p(...N){l||(l=!0,e.apply(null,N))}function m(N){i=setTimeout(()=>{i=null,n(w,c())},N)}function _(){s&&clearTimeout(s)}function w(N,...F){if(l){_();return}if(N){_(),p.call(null,N,...F);return}if(c()||o){_(),p.call(null,N,...F);return}r<64&&(r*=2);let z;a===1?(a=2,z=0):z=(r+Math.random())*1e3,m(z)}let D=!1;function P(N){D||(D=!0,_(),!l&&(i!==null?(N||(a=2),clearTimeout(i),m(0)):N||(a=1)))}return m(0),s=setTimeout(()=>{o=!0,P(!0)},t),P}function k5(n){n(!1)}function O5(n){return n!==void 0}function F5(n){return typeof n=="object"&&!Array.isArray(n)}function Gb(n){return typeof n=="string"||n instanceof String}function qN(n){return Wb()&&n instanceof Blob}function Wb(){return typeof Blob<"u"}function zN(n,e,t,r){if(r<e)throw jb(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw jb(`Invalid value for '${n}'. Expected ${t} or less.`)}function Kb(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function XN(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var $c=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}($c||{});function L5(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var $b=class{constructor(e,t,r,i,s,o,a,c,l,p,m,_=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=p,this.connectionFactory_=m,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,D)=>{this.resolve_=w,this.reject_=D,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Bc(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===$c.NO_ERROR,c=s.getStatus();if(!a||L5(c,this.additionalRetryCodes_)&&this.retry){let p=s.getErrorCode()===$c.ABORT;r(!1,new Bc(!1,null,p));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new Bc(l,s))})},t=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());O5(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=zb();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?JN():T5();o(c)}else{let c=C5();o(c)}};this.canceled_?t(!1,new Bc(!1,null,!0)):this.backoffId_=P5(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&k5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Bc=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function V5(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function U5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function j5(n,e){e&&(n["X-Firebase-GMPID"]=e)}function B5(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function $5(n,e,t,r,i,s,o=!0){let a=XN(n.urlParams),c=n.url+a,l=Object.assign({},n.headers);return j5(l,e),V5(l,t),U5(l,s),B5(l,r),new $b(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}function H5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function q5(...n){let e=H5();if(e!==void 0){let t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Wb())return new Blob(n);throw new mt(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function z5(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function G5(n){if(typeof atob>"u")throw x5("base-64");return atob(n)}var ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Xl=class{constructor(e,t){this.data=e,this.contentType=t||null}};function W5(n,e){switch(n){case ri.RAW:return new Xl(eP(e));case ri.BASE64:case ri.BASE64URL:return new Xl(tP(n,e));case ri.DATA_URL:return new Xl(Q5(e),Y5(e))}throw zb()}function eP(n){let e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function K5(n){let e;try{e=decodeURIComponent(n)}catch{throw Jl(ri.DATA_URL,"Malformed data URL.")}return eP(e)}function tP(n,e){switch(n){case ri.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Jl(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ri.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Jl(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=G5(e)}catch(i){throw i.message.includes("polyfill")?i:Jl(n,"Invalid character found")}let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}var ig=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw Jl(ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;r!=null&&(this.base64=Z5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function Q5(n){let e=new ig(n);return e.base64?tP(ri.BASE64,e.rest):K5(e.rest)}function Y5(n){return new ig(n).contentType}function Z5(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var sg=class n{constructor(e,t){let r=0,i="";qN(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(qN(this.data_)){let r=this.data_,i=z5(r,e,t);return i===null?null:new n(i)}else{let r=new Uint8Array(this.data_.buffer,e,t-e);return new n(r,!0)}}static getBlob(...e){if(Wb()){let t=e.map(r=>r instanceof n?r.data_:r);return new n(q5.apply(null,t))}else{let t=e.map(o=>Gb(o)?W5(ri.RAW,o).data:o.data_),r=0;t.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new n(i,!0)}}uploadData(){return this.data_}};function nP(n){let e;try{e=JSON.parse(n)}catch{return null}return F5(e)?e:null}function J5(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function X5(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function rP(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function eG(n,e){return e}var Yt=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||eG}},rg=null;function tG(n){return!Gb(n)||n.length<2?n:rP(n)}function iP(){if(rg)return rg;let n=[];n.push(new Yt("bucket")),n.push(new Yt("generation")),n.push(new Yt("metageneration")),n.push(new Yt("name","fullPath",!0));function e(s,o){return tG(o)}let t=new Yt("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}let i=new Yt("size");return i.xform=r,n.push(i),n.push(new Yt("timeCreated")),n.push(new Yt("updated")),n.push(new Yt("md5Hash",null,!0)),n.push(new Yt("cacheControl",null,!0)),n.push(new Yt("contentDisposition",null,!0)),n.push(new Yt("contentEncoding",null,!0)),n.push(new Yt("contentLanguage",null,!0)),n.push(new Yt("contentType",null,!0)),n.push(new Yt("metadata","customMetadata",!0)),rg=n,rg}function nG(n,e){function t(){let r=n.bucket,i=n.fullPath,s=new Cr(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function rG(n,e,t){let r={};r.type="file";let i=t.length;for(let s=0;s<i;s++){let o=t[s];r[o.local]=o.xform(r,e[o.server])}return nG(r,n),r}function sP(n,e,t){let r=nP(e);return r===null?null:rG(n,r,t)}function iG(n,e,t,r){let i=nP(e);if(i===null||!Gb(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(l=>{let p=n.bucket,m=n.fullPath,_="/b/"+o(p)+"/o/"+o(m),w=Kb(_,t,r),D=XN({alt:"media",token:l});return w+D})[0]}function sG(n,e){let t={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}var og=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function oP(n){if(!n)throw zb()}function oG(n,e){function t(r,i){let s=sP(n,i,e);return oP(s!==null),s}return t}function aG(n,e){function t(r,i){let s=sP(n,i,e);return oP(s!==null),iG(s,i,n.host,n._protocol)}return t}function aP(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=I5():i=E5():t.getStatus()===402?i=w5(n.bucket):t.getStatus()===403?i=b5(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function cG(n){let e=aP(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=_5(n.path)),s.serverResponse=i.serverResponse,s}return t}function uG(n,e,t){let r=e.fullServerUrl(),i=Kb(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new og(i,s,aG(n,t),o);return a.errorHandler=cG(e),a}function lG(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function dG(n,e,t){let r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=lG(null,e)),r}function hG(n,e,t,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let z="";for(let G=0;G<2;G++)z=z+Math.random().toString().slice(2);return z}let c=a();o["Content-Type"]="multipart/related; boundary="+c;let l=dG(e,r,i),p=sG(l,t),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,_=`\r
--`+c+"--",w=sg.getBlob(m,r,_);if(w===null)throw R5();let D={name:l.fullPath},P=Kb(s,n.host,n._protocol),N="POST",F=n.maxUploadRetryTime,q=new og(P,N,oG(n,t),F);return q.urlParams=D,q.headers=o,q.body=w.uploadData(),q.errorHandler=aP(e),q}var kre=256*1024;var GN=null,Hb=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$c.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$c.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$c.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Zl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},qb=class extends Hb{initXhr(){this.xhr_.responseType="text"}};function cP(){return GN?GN():new qb}var Hc=class n{constructor(e,t){this._service=e,t instanceof Cr?this._location=t:this._location=Cr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rP(this._location.path)}get storage(){return this._service}get parent(){let e=J5(this._location.path);if(e===null)return null;let t=new Cr(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw N5(e)}};function fG(n,e,t){n._throwIfRoot("uploadBytes");let r=hG(n.storage,n._location,iP(),new sg(e,!0),t);return n.storage.makeRequestWithTokens(r,cP).then(i=>({metadata:i,ref:n}))}function pG(n){n._throwIfRoot("getDownloadURL");let e=uG(n.storage,n._location,iP());return n.storage.makeRequestWithTokens(e,cP).then(t=>{if(t===null)throw M5();return t})}function mG(n,e){let t=X5(n._location.path,e),r=new Cr(n._location.bucket,t);return new Hc(n.storage,r)}function gG(n){return/^[A-Za-z]+:\/\//.test(n)}function yG(n,e){return new Hc(n,e)}function uP(n,e){if(n instanceof ed){let t=n;if(t._bucket==null)throw A5();let r=new Hc(t,t._bucket);return e!=null?uP(r,e):r}else return e!==void 0?mG(n,e):n}function vG(n,e){if(e&&gG(e)){if(n instanceof ed)return yG(n,e);throw jb("To use ref(service, url), the first argument must be a Storage instance.")}else return uP(n,e)}function WN(n,e){let t=e?.[ZN];return t==null?null:Cr.makeFromBucketSpec(t,n)}function _G(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:mp(i,n.app.options.projectId))}var ed=class{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=YN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=y5,this._maxUploadRetryTime=v5,this._requests=new Set,i!=null?this._bucket=Cr.makeFromBucketSpec(i,this._host):this._bucket=WN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cr.makeFromBucketSpec(this._url,e):this._bucket=WN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return I(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return I(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hc(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new Bb(JN());{let o=$5(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return I(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},KN="@firebase/storage",QN="0.13.2";var lP="storage";function dP(n,e,t){return n=nt(n),fG(n,e,t)}function hP(n){return n=nt(n),pG(n)}function fP(n,e){return n=nt(n),vG(n,e)}function pP(n=vr(),e){n=nt(n);let r=Xn(n,lP).getImmediate({identifier:e}),i=pp("storage");return i&&mP(r,...i),r}function mP(n,e,t,r={}){_G(n,e,t,r)}function wG(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new ed(t,r,i,e,Gr)}function EG(){Xt(new Tt(lP,wG,"PUBLIC").setMultipleInstances(!0)),He(KN,QN,""),He(KN,QN,"esm2017")}EG();var Tr=class{constructor(e){return e}},gP="storage",Qb=class{constructor(){return Di(gP)}};var Yb=new X("angularfire2.storage-instances");function IG(n,e){let t=_s(gP,n,e);return t&&new Tr(t)}function bG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Tr(r)}}var CG={provide:Qb,deps:[[new ut,Yb]]},TG={provide:Tr,useFactory:IG,deps:[[new ut,Yb],Pn]};function yP(n,...e){return He("angularfire",_r.full,"gcs"),fn([TG,CG,{provide:Yb,useFactory:bG(n),multi:!0,deps:[_e,Ot,Wr,wr,[new ut,Co],[new ut,vs],...e]}])}var td=ot(hP,!0);var vP=ot(pP,!0);var nd=ot(fP,!0);var rd=ot(dP,!0);function DG(n,e){n&1&&(B(0,"div",2),vt(1,"div",3),H())}function SG(n,e){if(n&1&&(B(0,"div",12)(1,"small"),ie(2),H()()),n&2){let t=me(2);se(2),pn(t.errorMessage)}}function AG(n,e){if(n&1&&vt(0,"img",15),n&2){let t=me().$implicit;a_("alt",t.nombre),ue("src",t.imagenPerfil,Sf)}}function RG(n,e){if(n&1){let t=jt();B(0,"button",13),Se("click",function(){let i=Qe(t).$implicit,s=me(2);return Ye(s.loginConAccesoRapido(i))}),ze(1,AG,1,2,"img",14),B(2,"span"),ie(3),H()()}if(n&2){let t=e.$implicit;se(),ue("ngIf",t.imagenPerfil),se(2),pn(t.nombre)}}function MG(n,e){if(n&1){let t=jt();B(0,"div",4)(1,"h2"),ie(2,"Login"),H(),B(3,"form",5),Se("ngSubmit",function(){Qe(t);let i=me();return Ye(i.login())}),vt(4,"input",6)(5,"input",7),B(6,"button",8),ie(7,"Login"),H()(),ze(8,SG,3,1,"div",9),B(9,"div",10),ze(10,RG,4,2,"button",11),H()()}if(n&2){let t=me();se(3),ue("formGroup",t.loginForm),se(5),ue("ngIf",t.errorMessage),se(2),ue("ngForOf",t.usuariosAccesoRapido)}}var ag=class n{constructor(e,t,r,i,s){this.fb=e;this.auth=t;this.firestore=r;this.router=i;this.storage=s;this.loginForm=this.fb.group({mail:["",[Pe.required,Pe.email]],contrasena:["",[Pe.required,Pe.minLength(6)]]})}loginForm;errorMessage="";usuariosAccesoRapido=[{nombre:"Paciente 1",mail:"marimonz@yopmail.com",contrasena:"101010"},{nombre:"Paciente 2",mail:"paciente2@example.com",contrasena:"password2"},{nombre:"Paciente 3",mail:"paciente3@example.com",contrasena:"password3"},{nombre:"Especialista 1",mail:"gusgomez@yopmail.com",contrasena:"101010"},{nombre:"Especialista 2",mail:"especialista2@example.com",contrasena:"password5"},{nombre:"Admin",mail:"admin2@admin2.com",contrasena:"101010"}];isLoading=!0;ngOnInit(){this.cargarUsuariosAccesoRapido(),setTimeout(()=>{this.isLoading=!1},2e3)}cargarUsuariosAccesoRapido(){return I(this,null,function*(){})}login(){return I(this,null,function*(){if(this.loginForm.valid){let{mail:e,contrasena:t}=this.loginForm.value;try{let i=(yield gM(this.auth,e,t)).user,s=br(this.firestore,"administradores",i.uid);if((yield $l(s)).exists())this.router.navigate(["/home"]);else if(i.emailVerified){let a=br(this.firestore,"especialistas",i.uid),c=yield $l(a);if(c.exists()){let l=c.data();l&&l.aprobado?this.router.navigate(["/home"]):this.errorMessage="Su cuenta a\xFAn no ha sido aprobada por un administrador."}else this.router.navigate(["/home"])}else this.errorMessage="Por favor verifique su correo electr\xF3nico antes de iniciar sesi\xF3n."}catch(r){console.error("Error al iniciar sesi\xF3n: ",r),this.errorMessage="Error al iniciar sesi\xF3n, verifique sus credenciales e intente nuevamente."}}else this.errorMessage="Por favor complete todos los campos correctamente"})}loginConAccesoRapido(e){this.loginForm.setValue({mail:e.mail,contrasena:e.contrasena})}static \u0275fac=function(t){return new(t||n)(re(Uc),re(kn),re(Ln),re(zr),re(Tr))};static \u0275cmp=Tn({type:n,selectors:[["app-login"]],standalone:!0,features:[Yn],decls:2,vars:2,consts:[["class","loading-spinner-container",4,"ngIf"],["class","login-container",4,"ngIf"],[1,"loading-spinner-container"],[1,"loading-spinner"],[1,"login-container"],[3,"ngSubmit","formGroup"],["formControlName","mail","type","email","placeholder","Email","required",""],["formControlName","contrasena","type","password","placeholder","Contrase\xF1a","required",""],["type","submit"],["class","error-message",4,"ngIf"],[1,"fav-buttons-container"],["class","fav-button",3,"click",4,"ngFor","ngForOf"],[1,"error-message"],[1,"fav-button",3,"click"],[3,"src","alt",4,"ngIf"],[3,"src","alt"]],template:function(t,r){t&1&&ze(0,DG,2,0,"div",0)(1,MG,11,3,"div",1),t&2&&(ue("ngIf",r.isLoading),se(),ue("ngIf",!r.isLoading))},dependencies:[jc,Vc,Ms,Fc,Lc,Uo,Lo,Vo,Zn,Wa,ps],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:auto;background-color:#e0f7fa;padding:20px;border-radius:10px;box-shadow:0 0 10px #0000001a;text-align:center}h2[_ngcontent-%COMP%]{color:#00695c}button[_ngcontent-%COMP%]{margin:10px;padding:10px;background-color:#00695c;color:#fff;border:none;border-radius:5px;cursor:pointer}button[type=submit][_ngcontent-%COMP%]{background-color:#00796b}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#004d40}input[_ngcontent-%COMP%]{width:100%;padding:10px;margin:10px 0;border:1px solid #ccc;border-radius:5px}.fav-buttons-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:20px;display:flex;flex-direction:column;gap:10px}.fav-button[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#00796b;color:#fff;border:none;padding:10px;border-radius:50%;cursor:pointer;transition:transform .3s}.fav-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.fav-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}.fav-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.fav-button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{display:inline;margin-left:10px}.loading-spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.loading-spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{color:red;margin-top:10px;font-weight:700}"]})};var Ee=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ee||{}),ii="*";function _P(n,e){return{type:Ee.Trigger,name:n,definitions:e,options:{}}}function Jb(n,e=null){return{type:Ee.Animate,styles:e,timings:n}}function wP(n,e=null){return{type:Ee.Sequence,steps:n,options:e}}function jo(n){return{type:Ee.Style,styles:n,offset:null}}function Xb(n,e,t=null){return{type:Ee.Transition,expr:n,animation:e,options:t}}var xs=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},id=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},cg="!";var EP=(()=>{class n{constructor(t){this.zone=t,this.scriptElemId="ngx-catpcha-script",this.windowGrecaptcha="grecaptcha",this.windowGrecaptchaEnterprise="enterprise",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.windowOnLoadEnterpriseCallbackProperty="ngx_captcha_onload_enterprise_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com",this.enterpriseApi="enterprise.js",this.defaultApi="api.js"}registerCaptchaScript(t,r,i,s){if(this.grecaptchaScriptLoaded(t.useEnterprise)){t.useEnterprise?this.zone.run(()=>{i(window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])}):this.zone.run(()=>{i(window[this.windowGrecaptcha])});return}t.useEnterprise?window[this.getCallbackName(!0)]=()=>this.zone.run(i.bind(this,window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])):window[this.getCallbackName(!1)]=()=>this.zone.run(i.bind(this,window[this.windowGrecaptcha]));let o=document.createElement("script");o.id=this.scriptElemId,o.innerHTML="",o.src=this.getCaptchaScriptUrl(t,r,s),o.async=!0,o.defer=!0,document.getElementsByTagName("head")[0].appendChild(o)}cleanup(){let t=document.getElementById(this.scriptElemId);t&&t.remove(),window[this.getCallbackName()]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(t){return!window[this.getCallbackName(t)]||!window[this.windowGrecaptcha]?!1:t&&window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise]?!0:!!window[this.windowGrecaptcha].execute}getCallbackName(t){return t?this.windowOnLoadEnterpriseCallbackProperty:this.windowOnLoadCallbackProperty}getLanguageParam(t){return t?`&hl=${t}`:""}getCaptchaScriptUrl(t,r,i){let s=t.useGlobalDomain?this.globalDomain:this.defaultDomain,o=t.useEnterprise?this.enterpriseApi:this.defaultApi,a=this.getCallbackName(t.useEnterprise);return`https://www.${s}/recaptcha/${o}?onload=${a}&render=${r}${this.getLanguageParam(i)}`}}return n.\u0275fac=function(t){return new(t||n)(ae(_e))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var xG=(()=>{class n{constructor(t,r){this.scriptService=t,this.zone=r}execute(t,r,i,s,o){this.executeAsPromise(t,r,s).then(i).catch(a=>o?o(a):console.error(a))}executeAsPromise(t,r,i){return new Promise((s,o)=>{let a=i||{},c=l=>{this.zone.runOutsideAngular(()=>{try{l.execute(t,{action:r}).then(p=>this.zone.run(()=>s(p)))}catch(p){o(p)}})};this.scriptService.registerCaptchaScript(a,t,c)})}}return n.\u0275fac=function(t){return new(t||n)(ae(EP),ae(_e))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Dn({type:n}),n.\u0275inj=Cn({providers:[EP,xG],imports:[Zn]}),n})();var CP=kO(bP());function NG(n,e){n&1&&(B(0,"div",3),vt(1,"div",4),H())}function PG(n,e){if(n&1){let t=jt();B(0,"div",7)(1,"button",8),Se("click",function(){Qe(t);let i=me(2);return Ye(i.seleccionarTipoUsuario("Paciente"))}),vt(2,"div",9),B(3,"span",10),ie(4,"Registrar Paciente"),H()(),B(5,"button",8),Se("click",function(){Qe(t);let i=me(2);return Ye(i.seleccionarTipoUsuario("Especialista"))}),vt(6,"div",11),B(7,"span",10),ie(8,"Registrar Especialista"),H()()()}}function kG(n,e){n&1&&(B(0,"div",23)(1,"small"),ie(2,"El nombre es requerido"),H()())}function OG(n,e){n&1&&(B(0,"div",23)(1,"small"),ie(2,"El apellido es requerido"),H()())}function FG(n,e){n&1&&(B(0,"div",23)(1,"small"),ie(2,"La edad debe ser entre 1 y 120 a\xF1os"),H()())}function LG(n,e){n&1&&(B(0,"div",23)(1,"small"),ie(2,"El DNI debe ser un n\xFAmero v\xE1lido de 7 u 8 d\xEDgitos"),H()())}function VG(n,e){n&1&&(B(0,"div",23)(1,"small"),ie(2,"Debe ingresar un email v\xE1lido"),H()())}function UG(n,e){n&1&&(B(0,"div",23)(1,"small"),ie(2,"La contrase\xF1a debe tener al menos 6 caracteres"),H()())}function jG(n,e){n&1&&(B(0,"div",23)(1,"small"),ie(2,"La obra social es requerida"),H()())}function BG(n,e){n&1&&(B(0,"div",23)(1,"small"),ie(2,"Debe cargar al menos una imagen"),H()())}function $G(n,e){if(n&1){let t=jt();B(0,"div")(1,"input",24),Se("blur",function(){let i;Qe(t);let s=me(3);return Ye((i=s.registroForm.get("obraSocial"))==null?null:i.markAsTouched())}),H(),ze(2,jG,3,0,"div",15),B(3,"input",25),Se("change",function(i){Qe(t);let s=me(3);return Ye(s.onFileChange(i,"imagenes"))}),H(),ze(4,BG,3,0,"div",15),H()}if(n&2){let t,r,i=me(3);se(2),ue("ngIf",((t=i.registroForm.get("obraSocial"))==null?null:t.touched)&&((t=i.registroForm.get("obraSocial"))==null?null:t.invalid)),se(2),ue("ngIf",((r=i.registroForm.get("imagenes"))==null?null:r.touched)&&((r=i.registroForm.get("imagenes"))==null?null:r.invalid))}}function HG(n,e){if(n&1&&(B(0,"option",30),ie(1),H()),n&2){let t=e.$implicit;ue("value",t),se(),pn(t)}}function qG(n,e){n&1&&(B(0,"div",23)(1,"small"),ie(2,"Debe seleccionar una especialidad"),H()())}function zG(n,e){if(n&1){let t=jt();B(0,"div"),vt(1,"input",31,0),B(3,"button",29),Se("click",function(){Qe(t);let i=NS(2),s=me(4);return s.agregarEspecialidad(i.value),Ye(s.mostrarNuevaEspecialidad=!1)}),ie(4,"Guardar Especialidad"),H()()}}function GG(n,e){n&1&&(B(0,"div",23)(1,"small"),ie(2,"Debe cargar una imagen de perfil"),H()())}function WG(n,e){if(n&1){let t=jt();B(0,"div")(1,"select",26),Se("blur",function(){let i;Qe(t);let s=me(3);return Ye((i=s.registroForm.get("especialidad"))==null?null:i.markAsTouched())}),B(2,"option",27),ie(3,"Seleccione una especialidad"),H(),ze(4,HG,2,2,"option",28),H(),ze(5,qG,3,0,"div",15),B(6,"button",29),Se("click",function(){Qe(t);let i=me(3);return Ye(i.mostrarNuevaEspecialidad=!0)}),ie(7,"Agregar Nueva Especialidad"),H(),ze(8,zG,5,0,"div",2),B(9,"input",25),Se("change",function(i){Qe(t);let s=me(3);return Ye(s.onFileChange(i,"imagenPerfil"))}),H(),ze(10,GG,3,0,"div",15),H()}if(n&2){let t,r,i=me(3);se(4),ue("ngForOf",i.especialidades),se(),ue("ngIf",((t=i.registroForm.get("especialidad"))==null?null:t.touched)&&((t=i.registroForm.get("especialidad"))==null?null:t.invalid)),se(3),ue("ngIf",i.mostrarNuevaEspecialidad),se(2),ue("ngIf",((r=i.registroForm.get("imagenPerfil"))==null?null:r.touched)&&((r=i.registroForm.get("imagenPerfil"))==null?null:r.invalid))}}function KG(n,e){if(n&1&&(B(0,"p",32),ie(1),H()),n&2){let t=me(3);se(),pn(t.errorMessage)}}function QG(n,e){if(n&1){let t=jt();B(0,"div",12)(1,"h2"),ie(2),H(),B(3,"form",13),Se("ngSubmit",function(){Qe(t);let i=me(2);return Ye(i.registrar())}),B(4,"input",14),Se("blur",function(){let i;Qe(t);let s=me(2);return Ye((i=s.registroForm.get("nombre"))==null?null:i.markAsTouched())}),H(),ze(5,kG,3,0,"div",15),B(6,"input",16),Se("blur",function(){let i;Qe(t);let s=me(2);return Ye((i=s.registroForm.get("apellido"))==null?null:i.markAsTouched())}),H(),ze(7,OG,3,0,"div",15),B(8,"input",17),Se("blur",function(){let i;Qe(t);let s=me(2);return Ye((i=s.registroForm.get("edad"))==null?null:i.markAsTouched())}),H(),ze(9,FG,3,0,"div",15),B(10,"input",18),Se("blur",function(){let i;Qe(t);let s=me(2);return Ye((i=s.registroForm.get("dni"))==null?null:i.markAsTouched())}),H(),ze(11,LG,3,0,"div",15),B(12,"input",19),Se("blur",function(){let i;Qe(t);let s=me(2);return Ye((i=s.registroForm.get("mail"))==null?null:i.markAsTouched())}),H(),ze(13,VG,3,0,"div",15),B(14,"input",20),Se("blur",function(){let i;Qe(t);let s=me(2);return Ye((i=s.registroForm.get("contrasena"))==null?null:i.markAsTouched())}),H(),ze(15,UG,3,0,"div",15)(16,$G,5,2,"div",2)(17,WG,11,4,"div",2),B(18,"button",21),ie(19,"Registrar"),H()(),ze(20,KG,2,1,"p",22),H()}if(n&2){let t,r,i,s,o,a,c=me(2);ue("@formAnimation",void 0),se(2),za("Registro de ",c.tipoUsuario,""),se(),ue("formGroup",c.registroForm),se(2),ue("ngIf",((t=c.registroForm.get("nombre"))==null?null:t.touched)&&((t=c.registroForm.get("nombre"))==null?null:t.invalid)),se(2),ue("ngIf",((r=c.registroForm.get("apellido"))==null?null:r.touched)&&((r=c.registroForm.get("apellido"))==null?null:r.invalid)),se(2),ue("ngIf",((i=c.registroForm.get("edad"))==null?null:i.touched)&&((i=c.registroForm.get("edad"))==null?null:i.invalid)),se(2),ue("ngIf",((s=c.registroForm.get("dni"))==null?null:s.touched)&&((s=c.registroForm.get("dni"))==null?null:s.invalid)),se(2),ue("ngIf",((o=c.registroForm.get("mail"))==null?null:o.touched)&&((o=c.registroForm.get("mail"))==null?null:o.invalid)),se(2),ue("ngIf",((a=c.registroForm.get("contrasena"))==null?null:a.touched)&&((a=c.registroForm.get("contrasena"))==null?null:a.invalid)),se(),ue("ngIf",c.tipoUsuario==="Paciente"),se(),ue("ngIf",c.tipoUsuario==="Especialista"),se(3),ue("ngIf",c.errorMessage)}}function YG(n,e){if(n&1&&(B(0,"div"),ze(1,PG,9,0,"div",5)(2,QG,21,12,"div",6),H()),n&2){let t=me();se(),ue("ngIf",!t.tipoUsuario),se(),ue("ngIf",t.tipoUsuario)}}var ug=class n{constructor(e,t,r,i,s){this.fb=e;this.firestore=t;this.auth=r;this.storage=i;this.router=s;this.registroForm=this.fb.group({nombre:["",Pe.required],apellido:["",Pe.required],edad:["",[Pe.required,Pe.min(1),Pe.max(120)]],dni:["",[Pe.required,Pe.pattern(/^[0-9]{7,8}$/)]],mail:["",[Pe.required,Pe.email]],contrasena:["",[Pe.required,Pe.minLength(6)]],obraSocial:[""],especialidad:[""],imagenes:[null],imagenPerfil:[null]})}registroForm;tipoUsuario=null;especialidades=["Cardiolog\xEDa","Pediatr\xEDa","Neurolog\xEDa"];errorMessage="";mostrarNuevaEspecialidad=!1;siteKey="6LeZj30qAAAAAB-KhPqsQ9-bHu-DJxyPTHYoiu8g";recaptchaResponse=null;isLoading=!0;ngOnInit(){setTimeout(()=>{this.isLoading=!1},2e3)}seleccionarTipoUsuario(e){this.tipoUsuario=e,this.registroForm.get("obraSocial")?.clearValidators(),this.registroForm.get("imagenes")?.clearValidators(),this.registroForm.get("especialidad")?.clearValidators(),this.registroForm.get("imagenPerfil")?.clearValidators(),e==="Paciente"?(this.registroForm.get("obraSocial")?.setValidators(Pe.required),this.registroForm.get("imagenes")?.setValidators(Pe.required)):e==="Especialista"&&(this.registroForm.get("especialidad")?.setValidators(Pe.required),this.registroForm.get("imagenPerfil")?.setValidators(Pe.required)),this.registroForm.get("obraSocial")?.updateValueAndValidity(),this.registroForm.get("imagenes")?.updateValueAndValidity(),this.registroForm.get("especialidad")?.updateValueAndValidity(),this.registroForm.get("imagenPerfil")?.updateValueAndValidity()}onFileChange(e,t){let r=e.target;r?.files&&r.files.length>0&&this.registroForm.get(t)?.setValue(r.files)}registrar(){return I(this,null,function*(){if(this.registroForm.valid){let e=this.registroForm.value;try{let t=yield Bp(this.auth,e.mail,e.contrasena);yield Hp(t.user);let r=[];if(e.imagenes&&e.imagenes.length>0)for(let o=0;o<e.imagenes.length;o++){let a=e.imagenes[o],c=`pacientes/${t.user.uid}/imagenes/${a.name}`,l=nd(this.storage,c);yield rd(l,a);let p=yield td(l);r.push(p)}let i="";if(this.tipoUsuario==="Especialista"&&e.imagenPerfil&&e.imagenPerfil.length>0){let o=e.imagenPerfil[0],a=`especialistas/${t.user.uid}/imagenPerfil/${o.name}`,c=nd(this.storage,a);yield rd(c,o),i=yield td(c)}let s=he(j({},e),{imagenes:r.length>0?r:null,imagenPerfil:i||null});this.tipoUsuario==="Paciente"?yield Hl(br(this.firestore,"pacientes",t.user.uid),s):yield Hl(br(this.firestore,"especialistas",t.user.uid),he(j({},s),{aprobado:!1})),CP.default.fire({title:"\xA1Registro exitoso!",text:"Por favor, verifica tu correo electr\xF3nico para activar tu cuenta.",icon:"success",confirmButtonText:"Aceptar",backdrop:!1}),yield qp(this.auth),setTimeout(()=>{this.router.navigate(["/home"])},1e3)}catch(t){console.error("Error al registrar: ",t),this.errorMessage="Hubo un error al registrar, por favor intente nuevamente"}}else this.errorMessage="Por favor complete todos los campos correctamente y valide el reCAPTCHA."})}agregarEspecialidad(e){e&&!this.especialidades.includes(e)&&this.especialidades.push(e)}static \u0275fac=function(t){return new(t||n)(re(Uc),re(Ln),re(kn),re(Tr),re(zr))};static \u0275cmp=Tn({type:n,selectors:[["app-registro"]],standalone:!0,features:[Yn],decls:2,vars:2,consts:[["nuevaEspecialidadInput",""],["class","loading-spinner-container",4,"ngIf"],[4,"ngIf"],[1,"loading-spinner-container"],[1,"loading-spinner"],["class","registro-container",4,"ngIf"],["class","registro-form",4,"ngIf"],[1,"registro-container"],[1,"registro-boton",3,"click"],[1,"registro-imagen","registro-paciente"],[1,"registro-texto"],[1,"registro-imagen","registro-especialista"],[1,"registro-form"],[3,"ngSubmit","formGroup"],["formControlName","nombre","placeholder","Nombre","required","",3,"blur"],["class","error",4,"ngIf"],["formControlName","apellido","placeholder","Apellido","required","",3,"blur"],["type","number","formControlName","edad","placeholder","Edad","required","",3,"blur"],["formControlName","dni","placeholder","DNI","required","",3,"blur"],["formControlName","mail","type","email","placeholder","Email","required","",3,"blur"],["formControlName","contrasena","type","password","placeholder","Contrase\xF1a","required","",3,"blur"],["type","submit"],["class","error-message",4,"ngIf"],[1,"error"],["formControlName","obraSocial","placeholder","Obra Social","required","",3,"blur"],["type","file","required","",3,"change"],["formControlName","especialidad","required","",3,"blur"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"value"],["type","text","placeholder","Nueva Especialidad"],[1,"error-message"]],template:function(t,r){t&1&&ze(0,NG,2,0,"div",1)(1,YG,3,2,"div",2),t&2&&(ue("ngIf",r.isLoading),se(),ue("ngIf",!r.isLoading))},dependencies:[jc,Vc,BN,HN,Ms,Yl,ng,Fc,Lc,Uo,Lo,Vo,Zn,Wa,ps,IP],styles:['.registro-container[_ngcontent-%COMP%]{max-width:600px;margin:100px auto;text-align:center}.registro-boton[_ngcontent-%COMP%]{width:80%;margin:20px auto;padding:40px;display:flex;align-items:center;justify-content:center;background-color:#e0f7fa;border:none;border-radius:20px;cursor:pointer;box-shadow:0 0 15px #0003;transition:transform .3s ease}.registro-boton[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.registro-imagen[_ngcontent-%COMP%]{height:50px;width:50px;margin-right:10px;background-size:cover;background-position:center}.registro-paciente[_ngcontent-%COMP%]{background-image:url("./media/paciente-FWZFZ44Z.png")}.registro-especialista[_ngcontent-%COMP%]{background-image:url("./media/especialista-E7B4R3S5.png")}.registro-form[_ngcontent-%COMP%]{max-width:600px;margin:auto;background-color:#e0f7fa;padding:20px;border-radius:10px;box-shadow:0 0 10px #0000001a;text-align:center;animation:_ngcontent-%COMP%_fadeIn 1s cubic-bezier(.25,1,.5,1)}h2[_ngcontent-%COMP%]{color:#00695c}button[_ngcontent-%COMP%]{margin:10px;padding:10px;background-color:#00695c;color:#fff;border:none;border-radius:5px;cursor:pointer}button.active[_ngcontent-%COMP%]{background-color:#004d40}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;margin:10px 0;border:1px solid #ccc;border-radius:5px}input[type=file][_ngcontent-%COMP%]{border:none}button[type=submit][_ngcontent-%COMP%]{background-color:#00796b}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#004d40}.error-message[_ngcontent-%COMP%]{color:red;font-weight:700;margin-top:20px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-30px) scale(.9)}50%{opacity:.5;transform:translateY(-15px) scale(1.05)}to{opacity:1;transform:translateY(0) scale(1)}to{opacity:1;transform:translateY(0)}}.registro-texto[_ngcontent-%COMP%]{font-size:1.5em;color:#004d40;font-weight:700}.error[_ngcontent-%COMP%]{color:red;font-size:.875rem;margin-top:.25rem}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid #ff0000}.loading-spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.loading-spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}'],data:{animation:[_P("formAnimation",[Xb(":enter",[jo({opacity:0,transform:"translateY(-20px)"}),Jb("300ms ease-out",jo({opacity:1,transform:"translateY(0)"}))]),Xb(":leave",[Jb("300ms ease-in",jo({opacity:0,transform:"translateY(-20px)"}))])])]}})};function ZG(n,e){n&1&&(B(0,"div",2),vt(1,"div",3),H())}function JG(n,e){if(n&1){let t=jt();B(0,"div",8)(1,"h3"),ie(2,"Registrar Nuevo Administrador"),H(),B(3,"form",9),Se("ngSubmit",function(){Qe(t);let i=me(2);return Ye(i.registrarUsuario())}),vt(4,"input",10)(5,"input",11)(6,"input",12)(7,"input",13)(8,"input",14)(9,"input",15),B(10,"input",16),Se("change",function(i){Qe(t);let s=me(2);return Ye(s.onFileChange(i,"imagenPerfil"))}),H(),B(11,"button",17),ie(12,"Registrar Usuario"),H()()()}if(n&2){let t=me(2);se(3),ue("formGroup",t.usuarioForm)}}function XG(n,e){if(n&1&&vt(0,"img",22),n&2){let t=me().$implicit;ue("src",t.imagenPerfil,Sf)}}function e6(n,e){if(n&1){let t=jt();B(0,"td")(1,"button",23),Se("click",function(){Qe(t);let i=me().$implicit,s=me(3);return Ye(s.cambiarEstadoEspecialista(i.id,i.aprobado))}),ie(2),H()()}if(n&2){let t=me().$implicit;se(2),za(" ",t.aprobado?"Inhabilitar":"Habilitar"," ")}}function t6(n,e){if(n&1&&(B(0,"tr")(1,"td"),ze(2,XG,1,1,"img",20),H(),B(3,"td"),ie(4),H(),B(5,"td"),ie(6),H(),B(7,"td"),ie(8),H(),B(9,"td"),ie(10),H(),B(11,"td"),ie(12),H(),B(13,"td"),ie(14),H(),ze(15,e6,3,1,"td",21),H()),n&2){let t=e.$implicit;se(2),ue("ngIf",t.imagenPerfil),se(2),pn(t.nombre),se(2),pn(t.apellido),se(2),pn(t.edad),se(2),pn(t.dni),se(2),pn(t.mail),se(2),pn(t.tipo),se(),ue("ngIf",t.tipo==="Especialista")}}function n6(n,e){if(n&1&&(B(0,"div",18)(1,"h3"),ie(2,"Listado de Usuarios"),H(),B(3,"table")(4,"thead")(5,"tr")(6,"th"),ie(7,"Imagen"),H(),B(8,"th"),ie(9,"Nombre"),H(),B(10,"th"),ie(11,"Apellido"),H(),B(12,"th"),ie(13,"Edad"),H(),B(14,"th"),ie(15,"DNI"),H(),B(16,"th"),ie(17,"Email"),H(),B(18,"th"),ie(19,"Tipo"),H(),B(20,"th"),ie(21,"Acciones"),H()()(),B(22,"tbody"),ze(23,t6,16,8,"tr",19),H()()()),n&2){let t=me(2);se(23),ue("ngForOf",t.usuarios)}}function r6(n,e){if(n&1){let t=jt();B(0,"div",4)(1,"h2"),ie(2,"Gesti\xF3n de Usuarios"),H(),B(3,"button",5),Se("click",function(){Qe(t);let i=me();return Ye(i.mostrarFormularioNuevoUsuario())}),ie(4,"Registrar Nuevo Administrador"),H(),ze(5,JG,13,1,"div",6)(6,n6,24,1,"div",7),H()}if(n&2){let t=me();se(5),ue("ngIf",t.mostrarFormulario),se(),ue("ngIf",t.usuarios.length>0)}}var lg=class n{constructor(e,t,r,i,s){this.firestore=e;this.fb=t;this.router=r;this.auth=i;this.storage=s;this.usuarioForm=this.fb.group({nombre:["",Pe.required],apellido:["",Pe.required],edad:["",[Pe.required,Pe.min(1),Pe.max(120)]],dni:["",[Pe.required,Pe.pattern(/^[0-9]{7,8}$/)]],mail:["",[Pe.required,Pe.email]],contrasena:["",[Pe.required,Pe.minLength(6)]],imagenPerfil:[null,Pe.required]})}usuarios=[];usuarioForm;mostrarFormulario=!1;errorMessage;isLoading=!0;ngOnInit(){return I(this,null,function*(){yield this.cargarUsuarios(),this.isLoading=!1})}cargarUsuarios(){return I(this,null,function*(){this.isLoading=!0;let e=yield jm(Um(this.firestore,"administradores")),t=yield jm(Um(this.firestore,"especialistas")),r=yield jm(Um(this.firestore,"pacientes"));this.usuarios=[],e.forEach(i=>{this.usuarios.push(he(j({id:i.id},i.data()),{tipo:"Administrador"}))}),t.forEach(i=>{this.usuarios.push(he(j({id:i.id},i.data()),{tipo:"Especialista"}))}),r.forEach(i=>{this.usuarios.push(he(j({id:i.id},i.data()),{tipo:"Paciente"}))}),this.isLoading=!1})}cambiarEstadoEspecialista(e,t){return I(this,null,function*(){let r=br(this.firestore,"especialistas",e);yield lN(r,{aprobado:!t}),yield this.cargarUsuarios()})}mostrarFormularioNuevoUsuario(){this.mostrarFormulario=!0}onFileChange(e,t){let r=e.target;r?.files&&r.files.length>0&&this.usuarioForm.get(t)?.setValue(r.files)}registrarUsuario(){return I(this,null,function*(){if(this.usuarioForm.valid){let e=this.usuarioForm.value;try{let t=yield Bp(this.auth,e.mail,e.contrasena);yield Hp(t.user);let r="";if(e.imagenPerfil&&e.imagenPerfil.length>0){let s=e.imagenPerfil[0],o=`administradores/${t.user.uid}/imagenPerfil/${s.name}`,a=nd(this.storage,o);yield rd(a,s),r=yield td(a)}let i={nombre:e.nombre,apellido:e.apellido,edad:e.edad,dni:e.dni,mail:e.mail,aprobado:!0,imagenPerfil:r||null};yield Hl(br(this.firestore,"administradores",t.user.uid),i),this.errorMessage="Usuario registrado con \xE9xito",this.mostrarFormulario=!1,yield this.cargarUsuarios()}catch(t){console.error("Error al registrar: ",t),this.errorMessage="Hubo un error al registrar, por favor intente nuevamente"}}else this.errorMessage="Por favor complete todos los campos correctamente"})}static \u0275fac=function(t){return new(t||n)(re(Ln),re(Uc),re(zr),re(kn),re(Tr))};static \u0275cmp=Tn({type:n,selectors:[["app-seccion-usuarios"]],standalone:!0,features:[Yn],decls:2,vars:2,consts:[["class","loading-spinner-container",4,"ngIf"],["class","seccion-usuarios-container",4,"ngIf"],[1,"loading-spinner-container"],[1,"loading-spinner"],[1,"seccion-usuarios-container"],[1,"boton-nuevo-usuario",3,"click"],["class","formulario-container",4,"ngIf"],["class","usuarios-lista",4,"ngIf"],[1,"formulario-container"],[3,"ngSubmit","formGroup"],["formControlName","nombre","placeholder","Nombre","required",""],["formControlName","apellido","placeholder","Apellido","required",""],["type","number","formControlName","edad","placeholder","Edad","required",""],["formControlName","dni","placeholder","DNI","required",""],["formControlName","mail","type","email","placeholder","Email","required",""],["formControlName","contrasena","type","password","placeholder","Contrase\xF1a","required",""],["type","file",3,"change"],["type","submit"],[1,"usuarios-lista"],[4,"ngFor","ngForOf"],["alt","Imagen de perfil","width","50","height","50",3,"src",4,"ngIf"],[4,"ngIf"],["alt","Imagen de perfil","width","50","height","50",3,"src"],[3,"click"]],template:function(t,r){t&1&&ze(0,ZG,2,0,"div",0)(1,r6,7,2,"div",1),t&2&&(ue("ngIf",r.isLoading),se(),ue("ngIf",!r.isLoading))},dependencies:[jc,Vc,Ms,Yl,Fc,Lc,Uo,Lo,Vo,Zn,Wa,ps],styles:[".seccion-usuarios-container[_ngcontent-%COMP%]{padding:20px}.boton-nuevo-usuario[_ngcontent-%COMP%]{background-color:#00796b;color:#fff;padding:10px;border:none;cursor:pointer;margin-bottom:20px}.formulario-container[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#f0f0f0;padding:20px;border-radius:8px}.usuarios-lista[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.usuarios-lista[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .usuarios-lista[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}.usuarios-lista[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#00796b;color:#fff}button[_ngcontent-%COMP%]{background-color:#00796b;color:#fff;border:none;padding:5px 10px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#004d40}img[_ngcontent-%COMP%]{border-radius:50%;object-fit:cover}.loading-spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.loading-spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var TP=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:$m},{path:"registro",component:ug},{path:"login",component:ag},{path:"seccion-usuarios",component:lg}];var AP="@firebase/installations",i0="0.6.9";var RP=1e4,MP=`w:${i0}`,xP="FIS_v2",i6="https://firebaseinstallations.googleapis.com/v1",s6=60*60*1e3,o6="installations",a6="Installations";var c6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$o=new Nn(o6,a6,c6);function NP(n){return n instanceof Kt&&n.code.includes("request-failed")}function PP({projectId:n}){return`${i6}/projects/${n}/installations`}function kP(n){return{token:n.token,requestStatus:2,expiresIn:l6(n.expiresIn),creationTime:Date.now()}}function OP(n,e){return I(this,null,function*(){let r=(yield e.json()).error;return $o.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function FP({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function u6(n,{refreshToken:e}){let t=FP(n);return t.append("Authorization",d6(e)),t}function LP(n){return I(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function l6(n){return Number(n.replace("s","000"))}function d6(n){return`${xP} ${n}`}function h6(r,i){return I(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let s=PP(n),o=FP(n),a=e.getImmediate({optional:!0});if(a){let m=yield a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}let c={fid:t,authVersion:xP,appId:n.appId,sdkVersion:MP},l={method:"POST",headers:o,body:JSON.stringify(c)},p=yield LP(()=>fetch(s,l));if(p.ok){let m=yield p.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:kP(m.authToken)}}else throw yield OP("Create Installation",p)})}function VP(n){return new Promise(e=>{setTimeout(e,n)})}function f6(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var p6=/^[cdef][\w-]{21}$/,r0="";function m6(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=g6(n);return p6.test(t)?t:r0}catch{return r0}}function g6(n){return f6(n).substr(0,22)}function hg(n){return`${n.appName}!${n.appId}`}var UP=new Map;function jP(n,e){let t=hg(n);BP(t,e),y6(t,e)}function BP(n,e){let t=UP.get(n);if(t)for(let r of t)r(e)}function y6(n,e){let t=v6();t&&t.postMessage({key:n,fid:e}),_6()}var Bo=null;function v6(){return!Bo&&"BroadcastChannel"in self&&(Bo=new BroadcastChannel("[Firebase] FID Change"),Bo.onmessage=n=>{BP(n.data.key,n.data.fid)}),Bo}function _6(){UP.size===0&&Bo&&(Bo.close(),Bo=null)}var w6="firebase-installations-database",E6=1,Ho="firebase-installations-store",t0=null;function s0(){return t0||(t0=vo(w6,E6,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ho)}}})),t0}function dg(n,e){return I(this,null,function*(){let t=hg(n),i=(yield s0()).transaction(Ho,"readwrite"),s=i.objectStore(Ho),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&jP(n,e.fid),e})}function $P(n){return I(this,null,function*(){let e=hg(n),r=(yield s0()).transaction(Ho,"readwrite");yield r.objectStore(Ho).delete(e),yield r.done})}function fg(n,e){return I(this,null,function*(){let t=hg(n),i=(yield s0()).transaction(Ho,"readwrite"),s=i.objectStore(Ho),o=yield s.get(t),a=e(o);return a===void 0?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&jP(n,a.fid),a})}function o0(n){return I(this,null,function*(){let e,t=yield fg(n.appConfig,r=>{let i=I6(r),s=b6(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===r0?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function I6(n){let e=n||{fid:m6(),registrationStatus:0};return HP(e)}function b6(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject($o.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=C6(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:T6(n)}:{installationEntry:e}}function C6(n,e){return I(this,null,function*(){try{let t=yield h6(n,e);return dg(n.appConfig,t)}catch(t){throw NP(t)&&t.customData.serverCode===409?yield $P(n.appConfig):yield dg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function T6(n){return I(this,null,function*(){let e=yield DP(n.appConfig);for(;e.registrationStatus===1;)yield VP(100),e=yield DP(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield o0(n);return r||t}return e})}function DP(n){return fg(n,e=>{if(!e)throw $o.create("installation-not-found");return HP(e)})}function HP(n){return D6(n)?{fid:n.fid,registrationStatus:0}:n}function D6(n){return n.registrationStatus===1&&n.registrationTime+RP<Date.now()}function S6(r,i){return I(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let s=A6(n,t),o=u6(n,t),a=e.getImmediate({optional:!0});if(a){let m=yield a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}let c={installation:{sdkVersion:MP,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},p=yield LP(()=>fetch(s,l));if(p.ok){let m=yield p.json();return kP(m)}else throw yield OP("Generate Auth Token",p)})}function A6(n,{fid:e}){return`${PP(n)}/${e}/authTokens:generate`}function a0(n,e=!1){return I(this,null,function*(){let t,r=yield fg(n.appConfig,s=>{if(!qP(s))throw $o.create("not-registered");let o=s.authToken;if(!e&&x6(o))return s;if(o.requestStatus===1)return t=R6(n,e),s;{if(!navigator.onLine)throw $o.create("app-offline");let a=P6(s);return t=M6(n,a),a}});return t?yield t:r.authToken})}function R6(n,e){return I(this,null,function*(){let t=yield SP(n.appConfig);for(;t.authToken.requestStatus===1;)yield VP(100),t=yield SP(n.appConfig);let r=t.authToken;return r.requestStatus===0?a0(n,e):r})}function SP(n){return fg(n,e=>{if(!qP(e))throw $o.create("not-registered");let t=e.authToken;return k6(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function M6(n,e){return I(this,null,function*(){try{let t=yield S6(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield dg(n.appConfig,r),t}catch(t){if(NP(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield $P(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield dg(n.appConfig,r)}throw t}})}function qP(n){return n!==void 0&&n.registrationStatus===2}function x6(n){return n.requestStatus===2&&!N6(n)}function N6(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+s6}function P6(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function k6(n){return n.requestStatus===1&&n.requestTime+RP<Date.now()}function O6(n){return I(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield o0(e);return r?r.catch(console.error):a0(e).catch(console.error),t.fid})}function F6(n,e=!1){return I(this,null,function*(){let t=n;return yield L6(t),(yield a0(t,e)).token})}function L6(n){return I(this,null,function*(){let{registrationPromise:e}=yield o0(n);e&&(yield e)})}function V6(n){if(!n||!n.options)throw n0("App Configuration");if(!n.name)throw n0("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw n0(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function n0(n){return $o.create("missing-app-config-values",{valueName:n})}var zP="installations",U6="installations-internal",j6=n=>{let e=n.getProvider("app").getImmediate(),t=V6(e),r=Xn(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},B6=n=>{let e=n.getProvider("app").getImmediate(),t=Xn(e,zP).getImmediate();return{getId:()=>O6(t),getToken:i=>F6(t,i)}};function $6(){Xt(new Tt(zP,j6,"PUBLIC")),Xt(new Tt(U6,B6,"PRIVATE"))}$6();He(AP,i0);He(AP,i0,"esm2017");var H6="/firebase-messaging-sw.js",q6="/firebase-cloud-messaging-push-scope",ZP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",z6="https://fcmregistrations.googleapis.com/v1",JP="google.c.a.c_id",G6="google.c.a.c_l",W6="google.c.a.ts",K6="google.c.a.e";var pg=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(pg||{});function Li(n){let e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Q6(n){let e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}var c0="fcm_token_details_db",Y6=5,GP="fcm_token_object_Store";function Z6(n){return I(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(c0))return null;let e=null;return(yield vo(c0,Y6,{upgrade:(r,i,s,o)=>I(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(GP))return;let c=o.objectStore(GP),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),!!l){if(i===2){let p=l;if(!p.auth||!p.p256dh||!p.endpoint)return;e={token:p.fcmToken,createTime:(a=p.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Li(p.vapidKey)}}}else if(i===3){let p=l;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Li(p.auth),p256dh:Li(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Li(p.vapidKey)}}}else if(i===4){let p=l;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Li(p.auth),p256dh:Li(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Li(p.vapidKey)}}}}})})).close(),yield _p(c0),yield _p("fcm_vapid_details_db"),yield _p("undefined"),J6(e)?e:null})}function J6(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var X6="firebase-messaging-database",eW=1,sd="firebase-messaging-store",u0=null;function XP(){return u0||(u0=vo(X6,eW,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(sd)}}})),u0}function tW(n){return I(this,null,function*(){let e=ek(n),r=yield(yield XP()).transaction(sd).objectStore(sd).get(e);if(r)return r;{let i=yield Z6(n.appConfig.senderId);if(i)return yield h0(n,i),i}})}function h0(n,e){return I(this,null,function*(){let t=ek(n),i=(yield XP()).transaction(sd,"readwrite");return yield i.objectStore(sd).put(e,t),yield i.done,e})}function ek({appConfig:n}){return n.appId}var nW={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},an=new Nn("messaging","Messaging",nW);function rW(n,e){return I(this,null,function*(){let t=yield p0(n),r=tk(e),i={method:"POST",headers:t,body:JSON.stringify(r)},s;try{s=yield(yield fetch(f0(n.appConfig),i)).json()}catch(o){throw an.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw an.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw an.create("token-subscribe-no-token");return s.token})}function iW(n,e){return I(this,null,function*(){let t=yield p0(n),r=tk(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},s;try{s=yield(yield fetch(`${f0(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw an.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw an.create("token-update-failed",{errorInfo:o})}if(!s.token)throw an.create("token-update-no-token");return s.token})}function sW(n,e){return I(this,null,function*(){let r={method:"DELETE",headers:yield p0(n)};try{let s=yield(yield fetch(`${f0(n.appConfig)}/${e}`,r)).json();if(s.error){let o=s.error.message;throw an.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw an.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function f0({projectId:n}){return`${z6}/projects/${n}/registrations`}function p0(t){return I(this,arguments,function*({appConfig:n,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function tk({p256dh:n,auth:e,endpoint:t,vapidKey:r}){let i={web:{endpoint:t,auth:e,p256dh:n}};return r!==ZP&&(i.web.applicationPubKey=r),i}var oW=7*24*60*60*1e3;function aW(n){return I(this,null,function*(){let e=yield uW(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Li(e.getKey("auth")),p256dh:Li(e.getKey("p256dh"))},r=yield tW(n.firebaseDependencies);if(r){if(lW(r.subscriptionOptions,t))return Date.now()>=r.createTime+oW?cW(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield sW(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return WP(n.firebaseDependencies,t)}else return WP(n.firebaseDependencies,t)})}function cW(n,e){return I(this,null,function*(){try{let t=yield iW(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield h0(n.firebaseDependencies,r),t}catch(t){throw t}})}function WP(n,e){return I(this,null,function*(){let r={token:yield rW(n,e),createTime:Date.now(),subscriptionOptions:e};return yield h0(n,r),r.token})}function uW(n,e){return I(this,null,function*(){let t=yield n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Q6(e)})})}function lW(n,e){let t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,s=e.p256dh===n.p256dh;return t&&r&&i&&s}function KP(n){let e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return dW(e,n),hW(e,n),fW(e,n),e}function dW(n,e){if(!e.notification)return;n.notification={};let t=e.notification.title;t&&(n.notification.title=t);let r=e.notification.body;r&&(n.notification.body=r);let i=e.notification.image;i&&(n.notification.image=i);let s=e.notification.icon;s&&(n.notification.icon=s)}function hW(n,e){e.data&&(n.data=e.data)}function fW(n,e){var t,r,i,s,o;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(n.fcmOptions.link=a);let c=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}function pW(n){return typeof n=="object"&&!!n&&JP in n}mW("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function mW(n,e){let t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function gW(n){if(!n||!n.options)throw l0("App Configuration Object");if(!n.name)throw l0("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(let r of e)if(!t[r])throw l0(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function l0(n){return an.create("missing-app-config-values",{valueName:n})}var d0=class{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=gW(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}};function yW(n){return I(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(H6,{scope:q6}),n.swRegistration.update().catch(()=>{})}catch(e){throw an.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function vW(n,e){return I(this,null,function*(){if(!e&&!n.swRegistration&&(yield yW(n)),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");n.swRegistration=e}})}function _W(n,e){return I(this,null,function*(){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=ZP)})}function wW(n,e){return I(this,null,function*(){if(!navigator)throw an.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw an.create("permission-blocked");return yield _W(n,e?.vapidKey),yield vW(n,e?.serviceWorkerRegistration),aW(n)})}function EW(n,e,t){return I(this,null,function*(){let r=IW(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[JP],message_name:t[G6],message_time:t[W6],message_device_time:Math.floor(Date.now()/1e3)})})}function IW(n){switch(n){case pg.NOTIFICATION_CLICKED:return"notification_open";case pg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function bW(n,e){return I(this,null,function*(){let t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===pg.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(KP(t)):n.onMessageHandler.next(KP(t)));let r=t.data;pW(r)&&r[K6]==="1"&&(yield EW(n,t.messageType,r))})}var QP="@firebase/messaging",YP="0.12.12";var CW=n=>{let e=new d0(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>bW(e,t)),e},TW=n=>{let e=n.getProvider("messaging").getImmediate();return{getToken:r=>wW(e,r)}};function DW(){Xt(new Tt("messaging",CW,"PUBLIC")),Xt(new Tt("messaging-internal",TW,"PRIVATE")),He(QP,YP),He(QP,YP,"esm2017")}function m0(){return I(this,null,function*(){try{yield gp()}catch{return!1}return typeof window<"u"&&cl()&&eR()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function nk(n=vr()){return m0().then(e=>{if(!e)throw an.create("unsupported-browser")},e=>{throw an.create("indexed-db-unsupported")}),Xn(nt(n),"messaging").getImmediate()}DW();var od=class{constructor(e){return e}},rk="messaging",g0=class{constructor(){return Di(rk)}};var ik="__angularfire_symbol__messagingIsSupported",y0="__angularfire_symbol__messagingIsSupportedValue";globalThis[ik]||=m0().then(n=>globalThis[y0]=n).catch(()=>globalThis[y0]=!1);var mg={async:()=>globalThis[ik],sync:()=>{let n=globalThis[y0];if(n===void 0)throw new Error(gR("Messaging"));return n}},v0=new X("angularfire2.messaging-instances");function SW(n,e){if(!mg.sync())return null;let t=_s(rk,n,e);return t&&new od(t)}function AW(n){return(e,t)=>{if(!mg.sync())return null;let r=e.runOutsideAngular(()=>n(t));return new od(r)}}var RW={provide:g0,deps:[[new ut,v0]]},MW={provide:od,useFactory:SW,deps:[[new ut,v0],Pn]};function sk(n,...e){return He("angularfire",_r.full,"fcm"),fn([MW,RW,{provide:jf,useValue:mg.async,multi:!0},{provide:v0,useFactory:AW(n),multi:!0,deps:[_e,Ot,Wr,wr,...e]}])}var Ese=mg.async;var ok=ot(nk,!0);var ak={apiKey:"AIzaSyA-vSzED_Up0m30lHEURRtXY_7_VyxFnJw",authDomain:"pruebaapp2-c5b94.firebaseapp.com",projectId:"pruebaapp2-c5b94",storageBucket:"pruebaapp2-c5b94.firebasestorage.app",messagingSenderId:"22619231299",appId:"1:22619231299:web:f68caaa3c2c72d5ba330f6"};function ck(n){return new V(3e3,!1)}function xW(){return new V(3100,!1)}function NW(){return new V(3101,!1)}function PW(n){return new V(3001,!1)}function kW(n){return new V(3003,!1)}function OW(n){return new V(3004,!1)}function FW(n,e){return new V(3005,!1)}function LW(){return new V(3006,!1)}function VW(){return new V(3007,!1)}function UW(n,e){return new V(3008,!1)}function jW(n){return new V(3002,!1)}function BW(n,e,t,r,i){return new V(3010,!1)}function $W(){return new V(3011,!1)}function HW(){return new V(3012,!1)}function qW(){return new V(3200,!1)}function zW(){return new V(3202,!1)}function GW(){return new V(3013,!1)}function WW(n){return new V(3014,!1)}function KW(n){return new V(3015,!1)}function QW(n){return new V(3016,!1)}function YW(n,e){return new V(3404,!1)}function ZW(n){return new V(3502,!1)}function JW(n){return new V(3503,!1)}function XW(){return new V(3300,!1)}function e9(n){return new V(3504,!1)}function t9(n){return new V(3301,!1)}function n9(n,e){return new V(3302,!1)}function r9(n){return new V(3303,!1)}function i9(n,e){return new V(3400,!1)}function s9(n){return new V(3401,!1)}function o9(n){return new V(3402,!1)}function a9(n,e){return new V(3505,!1)}function Ns(n){switch(n.length){case 0:return new xs;case 1:return n[0];default:return new id(n)}}function Ik(n,e,t=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),p=l==o,m=p&&a||new Map;c.forEach((_,w)=>{let D=w,P=_;if(w!=="offset")switch(D=n.normalizePropertyName(D,i),P){case cg:P=t.get(w);break;case ii:P=r.get(w);break;default:P=n.normalizeStyleValue(w,D,P,i);break}m.set(D,P)}),p||s.push(m),a=m,o=l}),i.length)throw ZW(i);return s}function B0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&_0(t,"start",n)));break;case"done":n.onDone(()=>r(t&&_0(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&_0(t,"destroy",n)));break}}function _0(n,e,t){let r=t.totalTime,i=!!t.disabled,s=$0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),o=n._data;return o!=null&&(s._data=o),s}function $0(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Un(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function uk(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var c9=typeof document>"u"?null:document.documentElement;function H0(n){let e=n.parentNode||n.host||null;return e===c9?null:e}function u9(n){return n.substring(1,6)=="ebkit"}var qo=null,lk=!1;function l9(n){qo||(qo=d9()||{},lk=qo.style?"WebkitAppearance"in qo.style:!1);let e=!0;return qo.style&&!u9(n)&&(e=n in qo.style,!e&&lk&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in qo.style)),e}function d9(){return typeof document<"u"?document.body:null}function bk(n,e){for(;e;){if(e===n)return!0;e=H0(e)}return!1}function Ck(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var q0=(()=>{class n{validateStyleProperty(t){return l9(t)}containsElement(t,r){return bk(t,r)}getParentElement(t){return H0(t)}query(t,r,i){return Ck(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new xs(i,s)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),Wo=class{static{this.NOOP=new q0}},Ko=class{};var h9=1e3,Tk="{{",f9="}}",Dk="ng-enter",T0="ng-leave",gg="ng-trigger",Eg=".ng-trigger",dk="ng-animating",D0=".ng-animating";function Vi(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:S0(parseFloat(e[1]),e[2])}function S0(n,e){switch(e){case"s":return n*h9;default:return n}}function Ig(n,e,t){return n.hasOwnProperty("duration")?n:p9(n,e,t)}function p9(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(ck(n)),{duration:0,delay:0,easing:""};i=S0(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(s=S0(parseFloat(c),a[4]));let l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(xW()),a=!0),s<0&&(e.push(NW()),a=!0),a&&e.splice(c,0,ck(n))}return{duration:i,delay:s,easing:o}}function m9(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function oi(n,e,t){e.forEach((r,i)=>{let s=z0(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function Go(n,e){e.forEach((t,r)=>{let i=z0(r);n.style[i]=""})}function ad(n){return Array.isArray(n)?n.length==1?n[0]:wP(n):n}function g9(n,e,t){let r=e.params||{},i=Sk(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(PW(s))})}var A0=new RegExp(`${Tk}\\s*(.+?)\\s*${f9}`,"g");function Sk(n){let e=[];if(typeof n=="string"){let t;for(;t=A0.exec(n);)e.push(t[1]);A0.lastIndex=0}return e}function ud(n,e,t){let r=`${n}`,i=r.replace(A0,(s,o)=>{let a=e[o];return a==null&&(t.push(kW(o)),a=""),a.toString()});return i==r?n:i}var y9=/-+([a-z0-9])/g;function z0(n){return n.replace(y9,(...e)=>e[1].toUpperCase())}function v9(n,e){return n===0||e===0}function _9(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,G0(n,a)))}}return e}function Vn(n,e,t){switch(e.type){case Ee.Trigger:return n.visitTrigger(e,t);case Ee.State:return n.visitState(e,t);case Ee.Transition:return n.visitTransition(e,t);case Ee.Sequence:return n.visitSequence(e,t);case Ee.Group:return n.visitGroup(e,t);case Ee.Animate:return n.visitAnimate(e,t);case Ee.Keyframes:return n.visitKeyframes(e,t);case Ee.Style:return n.visitStyle(e,t);case Ee.Reference:return n.visitReference(e,t);case Ee.AnimateChild:return n.visitAnimateChild(e,t);case Ee.AnimateRef:return n.visitAnimateRef(e,t);case Ee.Query:return n.visitQuery(e,t);case Ee.Stagger:return n.visitStagger(e,t);default:throw OW(e.type)}}function G0(n,e){return window.getComputedStyle(n)[e]}var w9=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),bg=class extends Ko{normalizePropertyName(e,t){return z0(e)}normalizeStyleValue(e,t,r,i){let s="",o=r.toString().trim();if(w9.has(t)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(FW(e,r))}return o+s}};var Cg="*";function E9(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>I9(r,t,e)):t.push(n),t}function I9(n,e,t){if(n[0]==":"){let c=b9(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(KW(n)),e;let i=r[1],s=r[2],o=r[3];e.push(hk(i,o));let a=i==Cg&&o==Cg;s[0]=="<"&&!a&&e.push(hk(o,i))}function b9(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(QW(n)),"* => *"}}var yg=new Set(["true","1"]),vg=new Set(["false","0"]);function hk(n,e){let t=yg.has(n)||vg.has(n),r=yg.has(e)||vg.has(e);return(i,s)=>{let o=n==Cg||n==i,a=e==Cg||e==s;return!o&&t&&typeof i=="boolean"&&(o=i?yg.has(n):vg.has(n)),!a&&r&&typeof s=="boolean"&&(a=s?yg.has(e):vg.has(e)),o&&a}}var Ak=":self",C9=new RegExp(`s*${Ak}s*,?`,"g");function Rk(n,e,t,r){return new R0(n).build(e,t,r)}var fk="",R0=class{constructor(e){this._driver=e}build(e,t,r){let i=new M0(t);return this._resetContextStyleTimingState(i),Vn(this,ad(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=fk,e.collectedStyles=new Map,e.collectedStyles.set(fk,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(LW()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Ee.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(p=>{c.name=p,s.push(this.visitState(c,t))}),c.name=l}else if(a.type==Ee.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(VW())}),{type:Ee.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{Sk(c).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&t.errors.push(UW(e.name,[...s.values()]))}return{type:Ee.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Vn(this,ad(e.animation),t),i=E9(e.expr,t.errors);return{type:Ee.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:zo(e.options)}}visitSequence(e,t){return{type:Ee.Sequence,steps:e.steps.map(r=>Vn(this,r,t)),options:zo(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,s=e.steps.map(o=>{t.currentTime=r;let a=Vn(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Ee.Group,steps:s,options:zo(e.options)}}visitAnimate(e,t){let r=A9(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:jo({});if(s.type==Ee.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let l={};r.easing&&(l.easing=r.easing),o=jo(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:Ee.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===ii?r.push(a):t.errors.push(jW(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let c of a.values())if(c.toString().indexOf(Tk)>=0){s=!0;break}}}),{type:Ee.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),p=l.get(c),m=!0;p&&(s!=i&&s>=p.startTime&&i<=p.endTime&&(t.errors.push(BW(c,p.startTime,p.endTime,s,i)),m=!1),s=p.startTime),m&&l.set(c,{startTime:s,endTime:i}),t.options&&g9(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:Ee.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push($W()),r;let i=1,s=0,o=[],a=!1,c=!1,l=0,p=e.steps.map(F=>{let q=this._makeStyleAst(F,t),z=q.offset!=null?q.offset:S9(q.styles),G=0;return z!=null&&(s++,G=q.offset=z),c=c||G<0||G>1,a=a||G<l,l=G,o.push(G),q});c&&t.errors.push(HW()),a&&t.errors.push(qW());let m=e.steps.length,_=0;s>0&&s<m?t.errors.push(zW()):s==0&&(_=i/(m-1));let w=m-1,D=t.currentTime,P=t.currentAnimateTimings,N=P.duration;return p.forEach((F,q)=>{let z=_>0?q==w?1:_*q:o[q],G=z*N;t.currentTime=D+P.delay+G,P.duration=G,this._validateStyleAst(F,t),F.offset=z,r.styles.push(F)}),r}visitReference(e,t){return{type:Ee.Reference,animation:Vn(this,ad(e.animation),t),options:zo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Ee.AnimateChild,options:zo(e.options)}}visitAnimateRef(e,t){return{type:Ee.AnimateRef,animation:this.visitReference(e.animation,t),options:zo(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=T9(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Un(t.collectedStyles,t.currentQuerySelector,new Map);let a=Vn(this,ad(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Ee.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:zo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(GW());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ig(e.timings,t.errors,!0);return{type:Ee.Stagger,animation:Vn(this,ad(e.animation),t),timings:r,options:null}}};function T9(n){let e=!!n.split(/\s*,\s*/).find(t=>t==Ak);return e&&(n=n.replace(C9,"")),n=n.replace(/@\*/g,Eg).replace(/@\w+/g,t=>Eg+"-"+t.slice(1)).replace(/:animating/g,D0),[n,e]}function D9(n){return n?j({},n):null}var M0=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function S9(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function A9(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=Ig(n,e).duration;return w0(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=w0(0,0,"");return s.dynamic=!0,s.strValue=t,s}let i=Ig(t,e);return w0(i.duration,i.delay,i.easing)}function zo(n){return n?(n=j({},n),n.params&&(n.params=D9(n.params))):n={},n}function w0(n,e,t){return{duration:n,delay:e,easing:t}}function W0(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var ld=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},R9=1,M9=":enter",x9=new RegExp(M9,"g"),N9=":leave",P9=new RegExp(N9,"g");function Mk(n,e,t,r,i,s=new Map,o=new Map,a,c,l=[]){return new x0().buildKeyframes(n,e,t,r,i,s,o,a,c,l)}var x0=class{buildKeyframes(e,t,r,i,s,o,a,c,l,p=[]){l=l||new ld;let m=new N0(e,t,l,i,s,p,[]);m.options=c;let _=c.delay?Vi(c.delay):0;m.currentTimeline.delayNextStep(_),m.currentTimeline.setStyles([o],null,m.errors,c),Vn(this,r,m);let w=m.timelines.filter(D=>D.containsAnimation());if(w.length&&a.size){let D;for(let P=w.length-1;P>=0;P--){let N=w[P];if(N.element===t){D=N;break}}D&&!D.allowOnlyTimelineStyles()&&D.setStyles([a],null,m.errors,c)}return w.length?w.map(D=>D.buildKeyframes()):[W0(t,[],[],[],0,_,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:Vi(ud(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime,o=r.duration!=null?Vi(r.duration):null,a=r.delay!=null?Vi(r.delay):null;return o!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Vn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==Ee.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Tg);let o=Vi(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Vn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,s=e.options&&e.options.delay?Vi(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),Vn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?ud(r,t.params,t.errors):r;return Ig(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==Ee.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Vi(i.delay):0;s&&(t.previousNode.type===Ee.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Tg);let o=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,p)=>{t.currentQueryIndex=p;let m=t.createSubContext(e.options,l);s&&m.delayNextStep(s),l===t.element&&(c=m.currentTimeline),Vn(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe();let _=m.currentTimeline.currentTime;o=Math.max(o,_)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let p=t.currentTimeline;c&&p.delayNextStep(c);let m=p.currentTime;Vn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}},Tg={},N0=class n{constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Tg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Dg(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Vi(r.duration)),r.delay!=null&&(i.delay=Vi(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=ud(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,s=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Tg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new P0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(x9,"."+this._enterClassName),e=e.replace(P9,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&a.length==0&&o.push(WW(t)),a}},Dg=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=R9,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ii),this._currentKeyframe.set(t,ii);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let s=i&&i.params||{},o=k9(e,this._globalTimelineStyles);for(let[a,c]of o){let l=ud(c,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ii),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((p,m)=>{p===cg?e.add(m):p===ii&&t.add(m)}),r||l.set("offset",c/this.duration),i.push(l)});let s=[...e.values()],o=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return W0(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},P0=class extends Dg{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=r+t,a=t/o,c=new Map(e[0]);c.set("offset",0),s.push(c);let l=new Map(e[0]);l.set("offset",pk(a)),s.push(l);let p=e.length-1;for(let m=1;m<=p;m++){let _=new Map(e[m]),w=_.get("offset"),D=t+w*r;_.set("offset",pk(D/o)),s.push(_)}r=o,t=0,i="",e=s}return W0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function pk(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function k9(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)t.set(s,ii)}else for(let[s,o]of i)t.set(s,o)}),t}function mk(n,e,t,r,i,s,o,a,c,l,p,m,_){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:p,totalTime:m,errors:_}}var E0={},Sg=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return O9(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,l,p){let m=[],_=this.ast.options&&this.ast.options.params||E0,w=a&&a.params||E0,D=this.buildStyles(r,w,m),P=c&&c.params||E0,N=this.buildStyles(i,P,m),F=new Set,q=new Map,z=new Map,G=i==="void",be={params:xk(P,_),delay:this.ast.options?.delay},Y=p?[]:Mk(e,t,this.ast.animation,s,o,D,N,be,l,m),S=0;return Y.forEach(b=>{S=Math.max(b.duration+b.delay,S)}),m.length?mk(t,this._triggerName,r,i,G,D,N,[],[],q,z,S,m):(Y.forEach(b=>{let C=b.element,A=Un(q,C,new Set);b.preStyleProps.forEach(R=>A.add(R));let M=Un(z,C,new Set);b.postStyleProps.forEach(R=>M.add(R)),C!==t&&F.add(C)}),mk(t,this._triggerName,r,i,G,D,N,Y,[...F.values()],q,z,S))}};function O9(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}function xk(n,e){let t=j({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var k0=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=xk(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=ud(o,i,t));let c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}};function F9(n,e,t){return new O0(n,e,t)}var O0=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new k0(i.style,s,r))}),gk(this.states,"true","1"),gk(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Sg(e,i,this.states))}),this.fallbackTransition=L9(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function L9(n,e,t){let r=[(o,a)=>!0],i={type:Ee.Sequence,steps:[],options:null},s={type:Ee.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Sg(n,s,e)}function gk(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var V9=new ld,F0=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],s=Rk(this._driver,t,r,i);if(r.length)throw JW(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,r){let i=e.element,s=Ik(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=Mk(this._driver,t,s,Dk,T0,new Map,new Map,r,V9,i),o.forEach(p=>{let m=Un(a,p.element,new Map);p.postStyleProps.forEach(_=>m.set(_,null))})):(i.push(XW()),o=[]),i.length)throw e9(i);a.forEach((p,m)=>{p.forEach((_,w)=>{p.set(w,this._driver.computeStyle(m,w,ii))})});let c=o.map(p=>{let m=a.get(p.element);return this._buildPlayer(p,new Map,m)}),l=Ns(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw t9(e);return t}listen(e,t,r,i){let s=$0(t,"","","");return B0(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},yk="ng-animate-queued",U9=".ng-animate-queued",I0="ng-animate-disabled",j9=".ng-animate-disabled",B9="ng-star-inserted",$9=".ng-star-inserted",H9=[],Nk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},q9={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Dr="__ng_removed",dd=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=G9(i),r){let s=e,{value:o}=s,a=iC(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},cd="void",b0=new dd(cd),L0=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,tr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw n9(r,t);if(r==null||r.length==0)throw r9(t);if(!W9(r))throw i9(r,t);let s=Un(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);let a=Un(this._engine.statesByElement,e,new Map);return a.has(t)||(tr(e,gg),tr(e,gg+"-"+t),a.set(t,b0)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw s9(e);return t}trigger(e,t,r,i=!0){let s=this._getTrigger(t),o=new hd(this.id,t,e),a=this._engine.statesByElement.get(e);a||(tr(e,gg),tr(e,gg+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new dd(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=b0),!(l.value===cd)&&c.value===l.value){if(!Y9(c.params,l.params)){let P=[],N=s.matchStyles(c.value,c.params,P),F=s.matchStyles(l.value,l.params,P);P.length?this._engine.reportError(P):this._engine.afterFlush(()=>{Go(e,N),oi(e,F)})}return}let _=Un(this._engine.playersByElement,e,[]);_.forEach(P=>{P.namespaceId==this.id&&P.triggerName==t&&P.queued&&P.destroy()});let w=s.matchTransition(c.value,l.value,e,l.params),D=!1;if(!w){if(!i)return;w=s.fallbackTransition,D=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:w,fromState:c,toState:l,player:o,isFallbackTransition:D}),D||(tr(e,yk),o.onStart(()=>{qc(e,yk)})),o.onDone(()=>{let P=this.players.indexOf(o);P>=0&&this.players.splice(P,1);let N=this._engine.playersByElement.get(e);if(N){let F=N.indexOf(o);F>=0&&N.splice(F,1)}}),this.players.push(o),_.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Eg,!0);r.forEach(i=>{if(i[Dr])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){let p=this.trigger(e,l,cd,i);p&&a.push(p)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Ns(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let c=this._triggers.get(o).fallbackTransition,l=r.get(o)||b0,p=new dd(cd),m=new hd(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:p,player:m,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let s=e[Dr];(!s||s===Nk)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){tr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let c=$0(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,B0(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},V0=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new L0(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}}return t}trigger(e,t,r,i){if(_g(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!_g(t))return;let s=t[Dr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),tr(e,I0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qc(e,I0))}removeNode(e,t,r){if(_g(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Dr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return _g(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Eg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,D0,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ns(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Dr];if(t&&t.setForRemoval){if(e[Dr]=Nk,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(I0)&&this.markElementAsDisabled(e,!1),this.driver.query(e,j9,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];tr(i,B9)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ns(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw o9(e)}_flushAnimations(e,t){let r=new ld,i=[],s=new Map,o=[],a=new Map,c=new Map,l=new Map,p=new Set;this.disabledNodes.forEach(Q=>{p.add(Q);let Z=this.driver.query(Q,U9,!0);for(let ee=0;ee<Z.length;ee++)p.add(Z[ee])});let m=this.bodyNode,_=Array.from(this.statesByElement.keys()),w=wk(_,this.collectedEnterElements),D=new Map,P=0;w.forEach((Q,Z)=>{let ee=Dk+P++;D.set(Z,ee),Q.forEach(ge=>tr(ge,ee))});let N=[],F=new Set,q=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){let Z=this.collectedLeaveElements[Q],ee=Z[Dr];ee&&ee.setForRemoval&&(N.push(Z),F.add(Z),ee.hasAnimation?this.driver.query(Z,$9,!0).forEach(ge=>F.add(ge)):q.add(Z))}let z=new Map,G=wk(_,Array.from(F));G.forEach((Q,Z)=>{let ee=T0+P++;z.set(Z,ee),Q.forEach(ge=>tr(ge,ee))}),e.push(()=>{w.forEach((Q,Z)=>{let ee=D.get(Z);Q.forEach(ge=>qc(ge,ee))}),G.forEach((Q,Z)=>{let ee=z.get(Z);Q.forEach(ge=>qc(ge,ee))}),N.forEach(Q=>{this.processLeaveNode(Q)})});let be=[],Y=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(t).forEach(ee=>{let ge=ee.player,Be=ee.element;if(be.push(ge),this.collectedEnterElements.length){let Xe=Be[Dr];if(Xe&&Xe.setForMove){if(Xe.previousTriggersValues&&Xe.previousTriggersValues.has(ee.triggerName)){let yn=Xe.previousTriggersValues.get(ee.triggerName),Zt=this.statesByElement.get(ee.element);if(Zt&&Zt.has(ee.triggerName)){let vn=Zt.get(ee.triggerName);vn.value=yn,Zt.set(ee.triggerName,vn)}}ge.destroy();return}}let At=!m||!this.driver.containsElement(m,Be),Ge=z.get(Be),Je=D.get(Be),$e=this._buildInstruction(ee,r,Je,Ge,At);if($e.errors&&$e.errors.length){Y.push($e);return}if(At){ge.onStart(()=>Go(Be,$e.fromStyles)),ge.onDestroy(()=>oi(Be,$e.toStyles)),i.push(ge);return}if(ee.isFallbackTransition){ge.onStart(()=>Go(Be,$e.fromStyles)),ge.onDestroy(()=>oi(Be,$e.toStyles)),i.push(ge);return}let un=[];$e.timelines.forEach(Xe=>{Xe.stretchStartingKeyframe=!0,this.disabledNodes.has(Xe.element)||un.push(Xe)}),$e.timelines=un,r.append(Be,$e.timelines);let Qo={instruction:$e,player:ge,element:Be};o.push(Qo),$e.queriedElements.forEach(Xe=>Un(a,Xe,[]).push(ge)),$e.preStyleProps.forEach((Xe,yn)=>{if(Xe.size){let Zt=c.get(yn);Zt||c.set(yn,Zt=new Set),Xe.forEach((vn,jn)=>Zt.add(jn))}}),$e.postStyleProps.forEach((Xe,yn)=>{let Zt=l.get(yn);Zt||l.set(yn,Zt=new Set),Xe.forEach((vn,jn)=>Zt.add(jn))})});if(Y.length){let Q=[];Y.forEach(Z=>{Q.push(a9(Z.triggerName,Z.errors))}),be.forEach(Z=>Z.destroy()),this.reportError(Q)}let S=new Map,b=new Map;o.forEach(Q=>{let Z=Q.element;r.has(Z)&&(b.set(Z,Z),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,S))}),i.forEach(Q=>{let Z=Q.element;this._getPreviousPlayers(Z,!1,Q.namespaceId,Q.triggerName,null).forEach(ge=>{Un(S,Z,[]).push(ge),ge.destroy()})});let C=N.filter(Q=>Ek(Q,c,l)),A=new Map;_k(A,this.driver,q,l,ii).forEach(Q=>{Ek(Q,c,l)&&C.push(Q)});let R=new Map;w.forEach((Q,Z)=>{_k(R,this.driver,new Set(Q),c,cg)}),C.forEach(Q=>{let Z=A.get(Q),ee=R.get(Q);A.set(Q,new Map([...Z?.entries()??[],...ee?.entries()??[]]))});let T=[],cn=[],nr={};o.forEach(Q=>{let{element:Z,player:ee,instruction:ge}=Q;if(r.has(Z)){if(p.has(Z)){ee.onDestroy(()=>oi(Z,ge.toStyles)),ee.disabled=!0,ee.overrideTotalTime(ge.totalTime),i.push(ee);return}let Be=nr;if(b.size>1){let Ge=Z,Je=[];for(;Ge=Ge.parentNode;){let $e=b.get(Ge);if($e){Be=$e;break}Je.push(Ge)}Je.forEach($e=>b.set($e,Be))}let At=this._buildAnimation(ee.namespaceId,ge,S,s,R,A);if(ee.setRealPlayer(At),Be===nr)T.push(ee);else{let Ge=this.playersByElement.get(Be);Ge&&Ge.length&&(ee.parentPlayer=Ns(Ge)),i.push(ee)}}else Go(Z,ge.fromStyles),ee.onDestroy(()=>oi(Z,ge.toStyles)),cn.push(ee),p.has(Z)&&i.push(ee)}),cn.forEach(Q=>{let Z=s.get(Q.element);if(Z&&Z.length){let ee=Ns(Z);Q.setRealPlayer(ee)}}),i.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<N.length;Q++){let Z=N[Q],ee=Z[Dr];if(qc(Z,T0),ee&&ee.hasAnimation)continue;let ge=[];if(a.size){let At=a.get(Z);At&&At.length&&ge.push(...At);let Ge=this.driver.query(Z,D0,!0);for(let Je=0;Je<Ge.length;Je++){let $e=a.get(Ge[Je]);$e&&$e.length&&ge.push(...$e)}}let Be=ge.filter(At=>!At.destroyed);Be.length?K9(this,Z,Be):this.processLeaveNode(Z)}return N.length=0,T.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();let Z=this.players.indexOf(Q);this.players.splice(Z,1)}),Q.play()}),T}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let c=!s||s==cd;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){let i=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,p=l!==s,m=Un(r,l,[]);this._getPreviousPlayers(l,p,o,a,t.toState).forEach(w=>{let D=w.getRealPlayer();D.beforeDestroy&&D.beforeDestroy(),w.destroy(),m.push(w)})}Go(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){let a=t.triggerName,c=t.element,l=[],p=new Set,m=new Set,_=t.timelines.map(D=>{let P=D.element;p.add(P);let N=P[Dr];if(N&&N.removedBeforeQueried)return new xs(D.duration,D.delay);let F=P!==c,q=Q9((r.get(P)||H9).map(S=>S.getRealPlayer())).filter(S=>{let b=S;return b.element?b.element===P:!1}),z=s.get(P),G=o.get(P),be=Ik(this._normalizer,D.keyframes,z,G),Y=this._buildPlayer(D,be,q);if(D.subTimeline&&i&&m.add(P),F){let S=new hd(e,a,P);S.setRealPlayer(Y),l.push(S)}return Y});l.forEach(D=>{Un(this.playersByQueriedElement,D.element,[]).push(D),D.onDone(()=>z9(this.playersByQueriedElement,D.element,D))}),p.forEach(D=>tr(D,dk));let w=Ns(_);return w.onDestroy(()=>{p.forEach(D=>qc(D,dk)),oi(c,t.toStyles)}),m.forEach(D=>{Un(i,D,[]).push(w)}),w}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new xs(e.duration,e.delay)}},hd=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new xs,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>B0(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Un(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function z9(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function G9(n){return n??null}function _g(n){return n&&n.nodeType===1}function W9(n){return n=="start"||n=="done"}function vk(n,e){let t=n.style.display;return n.style.display=e??"none",t}function _k(n,e,t,r,i){let s=[];t.forEach(c=>s.push(vk(c)));let o=[];r.forEach((c,l)=>{let p=new Map;c.forEach(m=>{let _=e.computeStyle(l,m,i);p.set(m,_),(!_||_.length==0)&&(l[Dr]=q9,o.push(l))}),n.set(l,p)});let a=0;return t.forEach(c=>vk(c,s[a++])),o}function wk(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let c=s.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=o(l),s.set(a,c),c}return e.forEach(a=>{let c=o(a);c!==r&&t.get(c).push(a)}),t}function tr(n,e){n.classList?.add(e)}function qc(n,e){n.classList?.remove(e)}function K9(n,e,t){Ns(t).onDone(()=>n.processLeaveNode(e))}function Q9(n){let e=[];return Pk(n,e),e}function Pk(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof id?Pk(r.players,e):e.push(r)}}function Y9(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function Ek(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}var zc=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new V0(e.body,t,r),this._timelineEngine=new F0(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let c=[],l=[],p=Rk(this._driver,s,c,l);if(c.length)throw YW(i,c);l.length&&void 0,a=F9(i,p,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[s,o]=uk(r),a=i;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if(r.charAt(0)=="@"){let[o,a]=uk(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Z9(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=C0(e[0]),e.length>1&&(r=C0(e[e.length-1]))):e instanceof Map&&(t=C0(e)),t||r?new U0(n,t,r):null}var U0=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&oi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(oi(this._element,this._initialStyles),this._endStyles&&(oi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Go(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Go(this._element,this._endStyles),this._endStyles=null),oi(this._element,this._initialStyles),this._state=3)}};function C0(n){let e=null;return n.forEach((t,r)=>{J9(r)&&(e=e||new Map,e.set(r,t))}),e}function J9(n){return n==="display"||n==="position"}var Ag=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:G0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Rg=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return bk(e,t)}getParentElement(e){return H0(e)}query(e,t,r){return Ck(e,t,r)}computeStyle(e,t,r){return G0(e,t)}animate(e,t,r,i,s,o=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};s&&(c.easing=s);let l=new Map,p=o.filter(w=>w instanceof Ag);v9(r,i)&&p.forEach(w=>{w.currentSnapshot.forEach((D,P)=>l.set(P,D))});let m=m9(t).map(w=>new Map(w));m=_9(e,m,l);let _=Z9(e,m);return new Ag(e,m,c,_)}};var wg="@",kk="@.disabled",Mg=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==wg&&t==kk?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},j0=class extends Mg{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==wg?t.charAt(1)=="."&&t==kk?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==wg){let i=X9(e),s=t.slice(1),o="";return s.charAt(0)!=wg&&([s,o]=e8(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};function X9(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function e8(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var xg=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,p=l.get(i);if(!p){let m=()=>l.delete(i);p=new Mg(r,i,this.engine,m),l.set(i,p)}return p}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(s,o,e,l.name,l)};return t.data.animation.forEach(a),new j0(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var n8=(()=>{class n extends zc{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(ae(mn),ae(Wo),ae(Ko))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();function r8(){return new bg}function i8(n,e,t){return new xg(n,e,t)}var Fk=[{provide:Ko,useFactory:r8},{provide:zc,useClass:n8},{provide:cs,useFactory:i8,deps:[Wf,zc,_e]}],Ok=[{provide:Wo,useFactory:()=>new Rg},{provide:Kv,useValue:"BrowserAnimations"},...Fk],s8=[{provide:Wo,useClass:q0},{provide:Kv,useValue:"NoopAnimations"},...Fk],Lk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?s8:Ok}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Dn({type:n})}static{this.\u0275inj=Cn({providers:Ok,imports:[aA]})}}return n})();var Vk={providers:[VS({eventCoalescing:!0}),qA(TP),yR(()=>vR(ak)),pM(()=>$p()),cN(()=>uN()),sk(()=>ok()),yP(()=>vP()),Nv(Lk)]};var Ng=class n{title="tp-clinica";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Tn({type:n,selectors:[["app-root"]],standalone:!0,features:[Yn],decls:1,vars:0,template:function(t,r){t&1&&vt(0,"router-outlet")},dependencies:[iw]})};sA(Ng,Vk).catch(n=>console.error(n));
